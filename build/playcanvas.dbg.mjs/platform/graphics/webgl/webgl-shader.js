/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../../../core/debug.js';
import { TRACEID_SHADER_COMPILE } from '../../../core/constants.js';
import { now } from '../../../core/time.js';
import { ShaderInput } from '../shader-input.js';
import { semanticToLocation, SHADERTAG_MATERIAL } from '../constants.js';

let _totalCompileTime = 0;
const _vertexShaderBuiltins = ['gl_VertexID', 'gl_InstanceID', 'gl_DrawID', 'gl_BaseVertex', 'gl_BaseInstance'];

class WebglShader {
  constructor(shader) {
    this.compileDuration = 0;
    this.init();
    this.compileAndLink(shader.device, shader);
    shader.device.shaders.push(shader);
  }

  destroy(shader) {
    if (this.glProgram) {
      shader.device.gl.deleteProgram(this.glProgram);
      this.glProgram = null;
    }
  }
  init() {
    this.uniforms = [];
    this.samplers = [];
    this.attributes = [];
    this.glProgram = null;
    this.glVertexShader = null;
    this.glFragmentShader = null;
  }

  loseContext() {
    this.init();
  }

  restoreContext(device, shader) {
    this.compileAndLink(device, shader);
  }

  compileAndLink(device, shader) {
    let startTime = 0;
    Debug.call(() => {
      this.compileDuration = 0;
      startTime = now();
    });
    const definition = shader.definition;
    const glVertexShader = this._compileShaderSource(device, definition.vshader, true);
    const glFragmentShader = this._compileShaderSource(device, definition.fshader, false);
    const gl = device.gl;
    const glProgram = gl.createProgram();
    gl.attachShader(glProgram, glVertexShader);
    gl.attachShader(glProgram, glFragmentShader);
    const attrs = definition.attributes;
    if (device.webgl2 && definition.useTransformFeedback) {
      const outNames = [];
      for (const attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          outNames.push("out_" + attr);
        }
      }
      gl.transformFeedbackVaryings(glProgram, outNames, gl.INTERLEAVED_ATTRIBS);
    }

    const locations = {};
    for (const attr in attrs) {
      if (attrs.hasOwnProperty(attr)) {
        const semantic = attrs[attr];
        const loc = semanticToLocation[semantic];
        Debug.assert(!locations.hasOwnProperty(loc), `WARNING: Two attribues are mapped to the same location in a shader: ${locations[loc]} and ${attr}`);
        locations[loc] = attr;
        gl.bindAttribLocation(glProgram, loc, attr);
      }
    }
    gl.linkProgram(glProgram);

    this.glVertexShader = glVertexShader;
    this.glFragmentShader = glFragmentShader;
    this.glProgram = glProgram;
    Debug.call(() => {
      this.compileDuration = now() - startTime;
    });
    device._shaderStats.linked++;
    if (definition.tag === SHADERTAG_MATERIAL) {
      device._shaderStats.materialShaders++;
    }
  }

  _compileShaderSource(device, src, isVertexShader) {
    const gl = device.gl;
    const shaderCache = isVertexShader ? device.vertexShaderCache : device.fragmentShaderCache;
    let glShader = shaderCache[src];
    if (!glShader) {
      const startTime = now();
      device.fire('shader:compile:start', {
        timestamp: startTime,
        target: device
      });
      glShader = gl.createShader(isVertexShader ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER);
      gl.shaderSource(glShader, src);
      gl.compileShader(glShader);
      shaderCache[src] = glShader;
      const endTime = now();
      device.fire('shader:compile:end', {
        timestamp: endTime,
        target: device
      });
      device._shaderStats.compileTime += endTime - startTime;
      if (isVertexShader) {
        device._shaderStats.vsCompiled++;
      } else {
        device._shaderStats.fsCompiled++;
      }
    }
    return glShader;
  }

  postLink(device, shader) {
    const gl = device.gl;
    const glProgram = this.glProgram;
    const definition = shader.definition;
    const startTime = now();
    device.fire('shader:link:start', {
      timestamp: startTime,
      target: device
    });
    let linkStartTime = 0;
    Debug.call(() => {
      linkStartTime = now();
    });

    if (!this._isCompiled(device, shader, this.glVertexShader, definition.vshader, "vertex")) return false;
    if (!this._isCompiled(device, shader, this.glFragmentShader, definition.fshader, "fragment")) return false;
    if (!gl.getProgramParameter(glProgram, gl.LINK_STATUS)) {
      var _gl$getExtension, _gl$getExtension2;
      const message = "Failed to link shader program. Error: " + gl.getProgramInfoLog(glProgram);

      definition.translatedFrag = (_gl$getExtension = gl.getExtension('WEBGL_debug_shaders')) == null ? void 0 : _gl$getExtension.getTranslatedShaderSource(this.glFragmentShader);
      definition.translatedVert = (_gl$getExtension2 = gl.getExtension('WEBGL_debug_shaders')) == null ? void 0 : _gl$getExtension2.getTranslatedShaderSource(this.glVertexShader);
      console.error(message, definition);
      return false;
    }

    let i = 0;
    const numAttributes = gl.getProgramParameter(glProgram, gl.ACTIVE_ATTRIBUTES);
    while (i < numAttributes) {
      const info = gl.getActiveAttrib(glProgram, i++);
      const location = gl.getAttribLocation(glProgram, info.name);

      if (_vertexShaderBuiltins.indexOf(info.name) !== -1) continue;

      if (definition.attributes[info.name] === undefined) {
        console.error(`Vertex shader attribute "${info.name}" is not mapped to a semantic in shader definition.`);
      }
      const shaderInput = new ShaderInput(device, definition.attributes[info.name], device.pcUniformType[info.type], location);
      this.attributes.push(shaderInput);
    }

    i = 0;
    const numUniforms = gl.getProgramParameter(glProgram, gl.ACTIVE_UNIFORMS);
    while (i < numUniforms) {
      const info = gl.getActiveUniform(glProgram, i++);
      const location = gl.getUniformLocation(glProgram, info.name);
      const shaderInput = new ShaderInput(device, info.name, device.pcUniformType[info.type], location);
      if (info.type === gl.SAMPLER_2D || info.type === gl.SAMPLER_CUBE || device.webgl2 && (info.type === gl.SAMPLER_2D_SHADOW || info.type === gl.SAMPLER_CUBE_SHADOW || info.type === gl.SAMPLER_3D)) {
        this.samplers.push(shaderInput);
      } else {
        this.uniforms.push(shaderInput);
      }
    }
    shader.ready = true;
    const endTime = now();
    device.fire('shader:link:end', {
      timestamp: endTime,
      target: device
    });
    device._shaderStats.compileTime += endTime - startTime;
    Debug.call(() => {
      const duration = now() - linkStartTime;
      this.compileDuration += duration;
      _totalCompileTime += this.compileDuration;
      Debug.trace(TRACEID_SHADER_COMPILE, `[id: ${shader.id}] ${shader.name}: ${this.compileDuration.toFixed(1)}ms, TOTAL: ${_totalCompileTime.toFixed(1)}ms`);
    });
    return true;
  }

  _isCompiled(device, shader, glShader, source, shaderType) {
    const gl = device.gl;
    if (!gl.getShaderParameter(glShader, gl.COMPILE_STATUS)) {
      const infoLog = gl.getShaderInfoLog(glShader);
      const [code, error] = this._processError(source, infoLog);
      const message = `Failed to compile ${shaderType} shader:\n\n${infoLog}\n${code}`;
      error.shader = shader;
      console.error(message, error);
      return false;
    }
    return true;
  }

  _processError(src, infoLog) {
    const error = {};
    let code = '';
    if (src) {
      const lines = src.split('\n');
      let from = 0;
      let to = lines.length;

      if (infoLog && infoLog.startsWith('ERROR:')) {
        const match = infoLog.match(/^ERROR:\s([0-9]+):([0-9]+):\s*(.+)/);
        if (match) {
          error.message = match[3];
          error.line = parseInt(match[2], 10);
          from = Math.max(0, error.line - 6);
          to = Math.min(lines.length, error.line + 5);
        }
      }

      for (let i = from; i < to; i++) {
        code += i + 1 + ":\t" + lines[i] + '\n';
      }
      error.source = src;
    }
    return [code, error];
  }
}

export { WebglShader };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ2wtc2hhZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvcGxhdGZvcm0vZ3JhcGhpY3Mvd2ViZ2wvd2ViZ2wtc2hhZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVnIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9kZWJ1Zy5qcyc7XG5pbXBvcnQgeyBUUkFDRUlEX1NIQURFUl9DT01QSUxFIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgbm93IH0gZnJvbSAnLi4vLi4vLi4vY29yZS90aW1lLmpzJztcblxuaW1wb3J0IHsgU2hhZGVySW5wdXQgfSBmcm9tICcuLi9zaGFkZXItaW5wdXQuanMnO1xuaW1wb3J0IHsgU0hBREVSVEFHX01BVEVSSUFMLCBzZW1hbnRpY1RvTG9jYXRpb24gfSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi93ZWJnbC1ncmFwaGljcy1kZXZpY2UuanMnKS5XZWJnbEdyYXBoaWNzRGV2aWNlfSBXZWJnbEdyYXBoaWNzRGV2aWNlICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vc2hhZGVyLmpzJykuU2hhZGVyfSBTaGFkZXIgKi9cblxubGV0IF90b3RhbENvbXBpbGVUaW1lID0gMDtcblxuY29uc3QgX3ZlcnRleFNoYWRlckJ1aWx0aW5zID0gW1xuICAgICdnbF9WZXJ0ZXhJRCcsXG4gICAgJ2dsX0luc3RhbmNlSUQnLFxuICAgICdnbF9EcmF3SUQnLFxuICAgICdnbF9CYXNlVmVydGV4JyxcbiAgICAnZ2xfQmFzZUluc3RhbmNlJ1xuXTtcblxuLyoqXG4gKiBBIFdlYkdMIGltcGxlbWVudGF0aW9uIG9mIHRoZSBTaGFkZXIuXG4gKlxuICogQGlnbm9yZVxuICovXG5jbGFzcyBXZWJnbFNoYWRlciB7XG4gICAgY29tcGlsZUR1cmF0aW9uID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHNoYWRlcikge1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5jb21waWxlQW5kTGluayhzaGFkZXIuZGV2aWNlLCBzaGFkZXIpO1xuICAgICAgICBzaGFkZXIuZGV2aWNlLnNoYWRlcnMucHVzaChzaGFkZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWUgdGhlIFdlYkdMIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggYSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NoYWRlcn0gc2hhZGVyIC0gVGhlIHNoYWRlciB0byBmcmVlLlxuICAgICAqL1xuICAgIGRlc3Ryb3koc2hhZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLmdsUHJvZ3JhbSkge1xuICAgICAgICAgICAgc2hhZGVyLmRldmljZS5nbC5kZWxldGVQcm9ncmFtKHRoaXMuZ2xQcm9ncmFtKTtcbiAgICAgICAgICAgIHRoaXMuZ2xQcm9ncmFtID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSBbXTtcbiAgICAgICAgdGhpcy5zYW1wbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmdsUHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdsRnJhZ21lbnRTaGFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgdGhlIHNoYWRlciB3aGVuIHRoZSBjb250ZXh0IGhhcyBiZWVuIGxvc3QuXG4gICAgICovXG4gICAgbG9zZUNvbnRleHQoKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmUgc2hhZGVyIGFmdGVyIHRoZSBjb250ZXh0IGhhcyBiZWVuIG9idGFpbmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJnbEdyYXBoaWNzRGV2aWNlfSBkZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlLlxuICAgICAqIEBwYXJhbSB7U2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyIHRvIHJlc3RvcmUuXG4gICAgICovXG4gICAgcmVzdG9yZUNvbnRleHQoZGV2aWNlLCBzaGFkZXIpIHtcbiAgICAgICAgdGhpcy5jb21waWxlQW5kTGluayhkZXZpY2UsIHNoYWRlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBhbmQgbGluayBhIHNoYWRlciBwcm9ncmFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJnbEdyYXBoaWNzRGV2aWNlfSBkZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlLlxuICAgICAqIEBwYXJhbSB7U2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyIHRvIGNvbXBpbGUuXG4gICAgICovXG4gICAgY29tcGlsZUFuZExpbmsoZGV2aWNlLCBzaGFkZXIpIHtcblxuICAgICAgICBsZXQgc3RhcnRUaW1lID0gMDtcbiAgICAgICAgRGVidWcuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbXBpbGVEdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBzdGFydFRpbWUgPSBub3coKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHNoYWRlci5kZWZpbml0aW9uO1xuICAgICAgICBjb25zdCBnbFZlcnRleFNoYWRlciA9IHRoaXMuX2NvbXBpbGVTaGFkZXJTb3VyY2UoZGV2aWNlLCBkZWZpbml0aW9uLnZzaGFkZXIsIHRydWUpO1xuICAgICAgICBjb25zdCBnbEZyYWdtZW50U2hhZGVyID0gdGhpcy5fY29tcGlsZVNoYWRlclNvdXJjZShkZXZpY2UsIGRlZmluaXRpb24uZnNoYWRlciwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gZGV2aWNlLmdsO1xuICAgICAgICBjb25zdCBnbFByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKGdsUHJvZ3JhbSwgZ2xWZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIoZ2xQcm9ncmFtLCBnbEZyYWdtZW50U2hhZGVyKTtcblxuICAgICAgICBjb25zdCBhdHRycyA9IGRlZmluaXRpb24uYXR0cmlidXRlcztcbiAgICAgICAgaWYgKGRldmljZS53ZWJnbDIgJiYgZGVmaW5pdGlvbi51c2VUcmFuc2Zvcm1GZWVkYmFjaykge1xuICAgICAgICAgICAgLy8gQ29sbGVjdCBhbGwgXCJvdXRfXCIgYXR0cmlidXRlcyBhbmQgdXNlIHRoZW0gZm9yIG91dHB1dFxuICAgICAgICAgICAgY29uc3Qgb3V0TmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYXR0ciBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXROYW1lcy5wdXNoKFwib3V0X1wiICsgYXR0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyhnbFByb2dyYW0sIG91dE5hbWVzLCBnbC5JTlRFUkxFQVZFRF9BVFRSSUJTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hcCBhbGwgdmVydGV4IGlucHV0IGF0dHJpYnV0ZXMgdG8gZml4ZWQgbG9jYXRpb25zXG4gICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGF0dHIgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljID0gYXR0cnNbYXR0cl07XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jID0gc2VtYW50aWNUb0xvY2F0aW9uW3NlbWFudGljXTtcbiAgICAgICAgICAgICAgICBEZWJ1Zy5hc3NlcnQoIWxvY2F0aW9ucy5oYXNPd25Qcm9wZXJ0eShsb2MpLCBgV0FSTklORzogVHdvIGF0dHJpYnVlcyBhcmUgbWFwcGVkIHRvIHRoZSBzYW1lIGxvY2F0aW9uIGluIGEgc2hhZGVyOiAke2xvY2F0aW9uc1tsb2NdfSBhbmQgJHthdHRyfWApO1xuXG4gICAgICAgICAgICAgICAgbG9jYXRpb25zW2xvY10gPSBhdHRyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihnbFByb2dyYW0sIGxvYywgYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnbC5saW5rUHJvZ3JhbShnbFByb2dyYW0pO1xuXG4gICAgICAgIC8vIENhY2hlIHRoZSBXZWJHTCBvYmplY3RzIG9uIHRoZSBzaGFkZXJcbiAgICAgICAgdGhpcy5nbFZlcnRleFNoYWRlciA9IGdsVmVydGV4U2hhZGVyO1xuICAgICAgICB0aGlzLmdsRnJhZ21lbnRTaGFkZXIgPSBnbEZyYWdtZW50U2hhZGVyO1xuICAgICAgICB0aGlzLmdsUHJvZ3JhbSA9IGdsUHJvZ3JhbTtcblxuICAgICAgICBEZWJ1Zy5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZUR1cmF0aW9uID0gbm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vICNpZiBfUFJPRklMRVJcbiAgICAgICAgZGV2aWNlLl9zaGFkZXJTdGF0cy5saW5rZWQrKztcbiAgICAgICAgaWYgKGRlZmluaXRpb24udGFnID09PSBTSEFERVJUQUdfTUFURVJJQUwpIHtcbiAgICAgICAgICAgIGRldmljZS5fc2hhZGVyU3RhdHMubWF0ZXJpYWxTaGFkZXJzKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gI2VuZGlmXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgYW4gaW5kaXZpZHVhbCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYmdsR3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZSBncmFwaGljcyBkZXZpY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlIGNvZGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1ZlcnRleFNoYWRlciAtIFRydWUgaWYgdGhlIHNoYWRlciBpcyBhIHZlcnRleCBzaGFkZXIsIGZhbHNlIGlmIGl0IGlzIGFcbiAgICAgKiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHJldHVybnMge1dlYkdMU2hhZGVyfSBUaGUgY29tcGlsZWQgc2hhZGVyLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NvbXBpbGVTaGFkZXJTb3VyY2UoZGV2aWNlLCBzcmMsIGlzVmVydGV4U2hhZGVyKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZGV2aWNlLmdsO1xuICAgICAgICBjb25zdCBzaGFkZXJDYWNoZSA9IGlzVmVydGV4U2hhZGVyID8gZGV2aWNlLnZlcnRleFNoYWRlckNhY2hlIDogZGV2aWNlLmZyYWdtZW50U2hhZGVyQ2FjaGU7XG4gICAgICAgIGxldCBnbFNoYWRlciA9IHNoYWRlckNhY2hlW3NyY107XG5cbiAgICAgICAgaWYgKCFnbFNoYWRlcikge1xuICAgICAgICAgICAgLy8gI2lmIF9QUk9GSUxFUlxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbm93KCk7XG4gICAgICAgICAgICBkZXZpY2UuZmlyZSgnc2hhZGVyOmNvbXBpbGU6c3RhcnQnLCB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBkZXZpY2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG5cbiAgICAgICAgICAgIGdsU2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGlzVmVydGV4U2hhZGVyID8gZ2wuVkVSVEVYX1NIQURFUiA6IGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICAgICAgICAgIGdsLnNoYWRlclNvdXJjZShnbFNoYWRlciwgc3JjKTtcbiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZ2xTaGFkZXIpO1xuXG4gICAgICAgICAgICBzaGFkZXJDYWNoZVtzcmNdID0gZ2xTaGFkZXI7XG5cbiAgICAgICAgICAgIC8vICNpZiBfUFJPRklMRVJcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBub3coKTtcbiAgICAgICAgICAgIGRldmljZS5maXJlKCdzaGFkZXI6Y29tcGlsZTplbmQnLCB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBlbmRUaW1lLFxuICAgICAgICAgICAgICAgIHRhcmdldDogZGV2aWNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRldmljZS5fc2hhZGVyU3RhdHMuY29tcGlsZVRpbWUgKz0gZW5kVGltZSAtIHN0YXJ0VGltZTtcblxuICAgICAgICAgICAgaWYgKGlzVmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgZGV2aWNlLl9zaGFkZXJTdGF0cy52c0NvbXBpbGVkKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRldmljZS5fc2hhZGVyU3RhdHMuZnNDb21waWxlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xTaGFkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBhdHRyaWJ1dGUgYW5kIHVuaWZvcm0gaW5mb3JtYXRpb24gZnJvbSBhIHN1Y2Nlc3NmdWxseSBsaW5rZWQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJnbEdyYXBoaWNzRGV2aWNlfSBkZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlLlxuICAgICAqIEBwYXJhbSB7U2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzaGFkZXIgd2FzIHN1Y2Nlc3NmdWxseSBxdWVyaWVkIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcG9zdExpbmsoZGV2aWNlLCBzaGFkZXIpIHtcbiAgICAgICAgY29uc3QgZ2wgPSBkZXZpY2UuZ2w7XG5cbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gdGhpcy5nbFByb2dyYW07XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBzaGFkZXIuZGVmaW5pdGlvbjtcblxuICAgICAgICAvLyAjaWYgX1BST0ZJTEVSXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgICBkZXZpY2UuZmlyZSgnc2hhZGVyOmxpbms6c3RhcnQnLCB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgIHRhcmdldDogZGV2aWNlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyAjZW5kaWZcblxuICAgICAgICBsZXQgbGlua1N0YXJ0VGltZSA9IDA7XG4gICAgICAgIERlYnVnLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgbGlua1N0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDaGVjayBmb3IgY29tcGlsYXRpb24gZXJyb3JzXG4gICAgICAgIGlmICghdGhpcy5faXNDb21waWxlZChkZXZpY2UsIHNoYWRlciwgdGhpcy5nbFZlcnRleFNoYWRlciwgZGVmaW5pdGlvbi52c2hhZGVyLCBcInZlcnRleFwiKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzQ29tcGlsZWQoZGV2aWNlLCBzaGFkZXIsIHRoaXMuZ2xGcmFnbWVudFNoYWRlciwgZGVmaW5pdGlvbi5mc2hhZGVyLCBcImZyYWdtZW50XCIpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihnbFByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gXCJGYWlsZWQgdG8gbGluayBzaGFkZXIgcHJvZ3JhbS4gRXJyb3I6IFwiICsgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coZ2xQcm9ncmFtKTtcblxuICAgICAgICAgICAgLy8gI2lmIF9ERUJVR1xuXG4gICAgICAgICAgICAvLyBsb2cgdHJhbnNsYXRlZCBzaGFkZXJzXG4gICAgICAgICAgICBkZWZpbml0aW9uLnRyYW5zbGF0ZWRGcmFnID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19zaGFkZXJzJyk/LmdldFRyYW5zbGF0ZWRTaGFkZXJTb3VyY2UodGhpcy5nbEZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgICAgIGRlZmluaXRpb24udHJhbnNsYXRlZFZlcnQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3NoYWRlcnMnKT8uZ2V0VHJhbnNsYXRlZFNoYWRlclNvdXJjZSh0aGlzLmdsVmVydGV4U2hhZGVyKTtcblxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgIC8vICNlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgLy8gI2VuZGlmXG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFF1ZXJ5IHRoZSBwcm9ncmFtIGZvciBlYWNoIHZlcnRleCBidWZmZXIgaW5wdXQgKEdMU0wgJ2F0dHJpYnV0ZScpXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgbnVtQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIoZ2xQcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG4gICAgICAgIHdoaWxlIChpIDwgbnVtQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGdsLmdldEFjdGl2ZUF0dHJpYihnbFByb2dyYW0sIGkrKyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKGdsUHJvZ3JhbSwgaW5mby5uYW1lKTtcblxuICAgICAgICAgICAgLy8gYSBidWlsdC1pbiBhdHRyaWJ1dGVzIGZvciB3aGljaCB3ZSBkbyBub3QgbmVlZCB0byBwcm92aWRlIGFueSBkYXRhXG4gICAgICAgICAgICBpZiAoX3ZlcnRleFNoYWRlckJ1aWx0aW5zLmluZGV4T2YoaW5mby5uYW1lKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGF0dHJpYnV0ZXMgYXJlIGNvcnJlY3RseSBsaW5rZWQgdXBcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmF0dHJpYnV0ZXNbaW5mby5uYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVmVydGV4IHNoYWRlciBhdHRyaWJ1dGUgXCIke2luZm8ubmFtZX1cIiBpcyBub3QgbWFwcGVkIHRvIGEgc2VtYW50aWMgaW4gc2hhZGVyIGRlZmluaXRpb24uYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNoYWRlcklucHV0ID0gbmV3IFNoYWRlcklucHV0KGRldmljZSwgZGVmaW5pdGlvbi5hdHRyaWJ1dGVzW2luZm8ubmFtZV0sIGRldmljZS5wY1VuaWZvcm1UeXBlW2luZm8udHlwZV0sIGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2goc2hhZGVySW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUXVlcnkgdGhlIHByb2dyYW0gZm9yIGVhY2ggc2hhZGVyIHN0YXRlIChHTFNMICd1bmlmb3JtJylcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIGNvbnN0IG51bVVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihnbFByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG4gICAgICAgIHdoaWxlIChpIDwgbnVtVW5pZm9ybXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBnbC5nZXRBY3RpdmVVbmlmb3JtKGdsUHJvZ3JhbSwgaSsrKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGdsUHJvZ3JhbSwgaW5mby5uYW1lKTtcblxuICAgICAgICAgICAgY29uc3Qgc2hhZGVySW5wdXQgPSBuZXcgU2hhZGVySW5wdXQoZGV2aWNlLCBpbmZvLm5hbWUsIGRldmljZS5wY1VuaWZvcm1UeXBlW2luZm8udHlwZV0sIGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgaWYgKGluZm8udHlwZSA9PT0gZ2wuU0FNUExFUl8yRCB8fCBpbmZvLnR5cGUgPT09IGdsLlNBTVBMRVJfQ1VCRSB8fFxuICAgICAgICAgICAgICAgIChkZXZpY2Uud2ViZ2wyICYmIChpbmZvLnR5cGUgPT09IGdsLlNBTVBMRVJfMkRfU0hBRE9XIHx8IGluZm8udHlwZSA9PT0gZ2wuU0FNUExFUl9DVUJFX1NIQURPVyB8fCBpbmZvLnR5cGUgPT09IGdsLlNBTVBMRVJfM0QpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYW1wbGVycy5wdXNoKHNoYWRlcklucHV0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5wdXNoKHNoYWRlcklucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNoYWRlci5yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgLy8gI2lmIF9QUk9GSUxFUlxuICAgICAgICBjb25zdCBlbmRUaW1lID0gbm93KCk7XG4gICAgICAgIGRldmljZS5maXJlKCdzaGFkZXI6bGluazplbmQnLCB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IGVuZFRpbWUsXG4gICAgICAgICAgICB0YXJnZXQ6IGRldmljZVxuICAgICAgICB9KTtcbiAgICAgICAgZGV2aWNlLl9zaGFkZXJTdGF0cy5jb21waWxlVGltZSArPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgICAvLyAjZW5kaWZcblxuICAgICAgICBEZWJ1Zy5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gbm93KCkgLSBsaW5rU3RhcnRUaW1lO1xuICAgICAgICAgICAgdGhpcy5jb21waWxlRHVyYXRpb24gKz0gZHVyYXRpb247XG4gICAgICAgICAgICBfdG90YWxDb21waWxlVGltZSArPSB0aGlzLmNvbXBpbGVEdXJhdGlvbjtcbiAgICAgICAgICAgIERlYnVnLnRyYWNlKFRSQUNFSURfU0hBREVSX0NPTVBJTEUsIGBbaWQ6ICR7c2hhZGVyLmlkfV0gJHtzaGFkZXIubmFtZX06ICR7dGhpcy5jb21waWxlRHVyYXRpb24udG9GaXhlZCgxKX1tcywgVE9UQUw6ICR7X3RvdGFsQ29tcGlsZVRpbWUudG9GaXhlZCgxKX1tc2ApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY29tcGlsYXRpb24gc3RhdHVzIG9mIGEgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJnbEdyYXBoaWNzRGV2aWNlfSBkZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlLlxuICAgICAqIEBwYXJhbSB7U2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJ9IGdsU2hhZGVyIC0gVGhlIFdlYkdMIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gVGhlIHNoYWRlciBzb3VyY2UgY29kZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2hhZGVyVHlwZSAtIFRoZSBzaGFkZXIgdHlwZS4gQ2FuIGJlICd2ZXJ0ZXgnIG9yICdmcmFnbWVudCcuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNoYWRlciBjb21waWxlZCBzdWNjZXNzZnVsbHksIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc0NvbXBpbGVkKGRldmljZSwgc2hhZGVyLCBnbFNoYWRlciwgc291cmNlLCBzaGFkZXJUeXBlKSB7XG4gICAgICAgIGNvbnN0IGdsID0gZGV2aWNlLmdsO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGdsU2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZm9Mb2cgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKGdsU2hhZGVyKTtcbiAgICAgICAgICAgIGNvbnN0IFtjb2RlLCBlcnJvcl0gPSB0aGlzLl9wcm9jZXNzRXJyb3Ioc291cmNlLCBpbmZvTG9nKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgRmFpbGVkIHRvIGNvbXBpbGUgJHtzaGFkZXJUeXBlfSBzaGFkZXI6XFxuXFxuJHtpbmZvTG9nfVxcbiR7Y29kZX1gO1xuICAgICAgICAgICAgLy8gI2lmIF9ERUJVR1xuICAgICAgICAgICAgZXJyb3Iuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCBlcnJvcik7XG4gICAgICAgICAgICAvLyAjZWxzZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlIHRoZSBXZWJHTCBzaGFkZXIgY29tcGlsYXRpb24gbG9nIHRvIGp1c3QgaW5jbHVkZSB0aGUgZXJyb3IgbGluZSBwbHVzIHRoZSA1IGxpbmVzXG4gICAgICogYmVmb3JlIGFuZCBhZnRlciBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZSBjb2RlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbmZvTG9nIC0gVGhlIGluZm8gbG9nIHJldHVybmVkIGZyb20gV2ViR0wgb24gYSBmYWlsZWQgc2hhZGVyIGNvbXBpbGF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgd2hlcmUgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdGhlIDEwIGxpbmVzIG9mIGNvZGUgYXJvdW5kIHRoZSBmaXJzdFxuICAgICAqIGRldGVjdGVkIGVycm9yLCBhbmQgdGhlIHNlY29uZCBlbGVtZW50IGFuIG9iamVjdCBzdG9yaW5nIHRoZSBlcnJvciBtZXNzc2FnZSwgbGluZSBudW1iZXIgYW5kXG4gICAgICogY29tcGxldGUgc2hhZGVyIHNvdXJjZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wcm9jZXNzRXJyb3Ioc3JjLCBpbmZvTG9nKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0geyB9O1xuICAgICAgICBsZXQgY29kZSA9ICcnO1xuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gc3JjLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGxldCBmcm9tID0gMDtcbiAgICAgICAgICAgIGxldCB0byA9IGxpbmVzLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gaWYgZXJyb3IgaXMgaW4gdGhlIGNvZGUsIG9ubHkgc2hvdyBuZWFyYnkgbGluZXMgaW5zdGVhZCBvZiB3aG9sZSBzaGFkZXIgY29kZVxuICAgICAgICAgICAgaWYgKGluZm9Mb2cgJiYgaW5mb0xvZy5zdGFydHNXaXRoKCdFUlJPUjonKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gaW5mb0xvZy5tYXRjaCgvXkVSUk9SOlxccyhbMC05XSspOihbMC05XSspOlxccyooLispLyk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBtYXRjaFszXTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubGluZSA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZnJvbSA9IE1hdGgubWF4KDAsIGVycm9yLmxpbmUgLSA2KTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIGVycm9yLmxpbmUgKyA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENocm9tZSByZXBvcnRzIHNoYWRlciBlcnJvcnMgb24gbGluZXMgaW5kZXhlZCBmcm9tIDFcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gKGkgKyAxKSArIFwiOlxcdFwiICsgbGluZXNbaV0gKyAnXFxuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXJyb3Iuc291cmNlID0gc3JjO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtjb2RlLCBlcnJvcl07XG4gICAgfVxufVxuXG5leHBvcnQgeyBXZWJnbFNoYWRlciB9O1xuIl0sIm5hbWVzIjpbIl90b3RhbENvbXBpbGVUaW1lIiwiX3ZlcnRleFNoYWRlckJ1aWx0aW5zIiwiV2ViZ2xTaGFkZXIiLCJjb25zdHJ1Y3RvciIsInNoYWRlciIsImNvbXBpbGVEdXJhdGlvbiIsImluaXQiLCJjb21waWxlQW5kTGluayIsImRldmljZSIsInNoYWRlcnMiLCJwdXNoIiwiZGVzdHJveSIsImdsUHJvZ3JhbSIsImdsIiwiZGVsZXRlUHJvZ3JhbSIsInVuaWZvcm1zIiwic2FtcGxlcnMiLCJhdHRyaWJ1dGVzIiwiZ2xWZXJ0ZXhTaGFkZXIiLCJnbEZyYWdtZW50U2hhZGVyIiwibG9zZUNvbnRleHQiLCJyZXN0b3JlQ29udGV4dCIsInN0YXJ0VGltZSIsIkRlYnVnIiwiY2FsbCIsIm5vdyIsImRlZmluaXRpb24iLCJfY29tcGlsZVNoYWRlclNvdXJjZSIsInZzaGFkZXIiLCJmc2hhZGVyIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImF0dHJzIiwid2ViZ2wyIiwidXNlVHJhbnNmb3JtRmVlZGJhY2siLCJvdXROYW1lcyIsImF0dHIiLCJoYXNPd25Qcm9wZXJ0eSIsInRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MiLCJJTlRFUkxFQVZFRF9BVFRSSUJTIiwibG9jYXRpb25zIiwic2VtYW50aWMiLCJsb2MiLCJzZW1hbnRpY1RvTG9jYXRpb24iLCJhc3NlcnQiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsIl9zaGFkZXJTdGF0cyIsImxpbmtlZCIsInRhZyIsIlNIQURFUlRBR19NQVRFUklBTCIsIm1hdGVyaWFsU2hhZGVycyIsInNyYyIsImlzVmVydGV4U2hhZGVyIiwic2hhZGVyQ2FjaGUiLCJ2ZXJ0ZXhTaGFkZXJDYWNoZSIsImZyYWdtZW50U2hhZGVyQ2FjaGUiLCJnbFNoYWRlciIsImZpcmUiLCJ0aW1lc3RhbXAiLCJ0YXJnZXQiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiRlJBR01FTlRfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImVuZFRpbWUiLCJjb21waWxlVGltZSIsInZzQ29tcGlsZWQiLCJmc0NvbXBpbGVkIiwicG9zdExpbmsiLCJsaW5rU3RhcnRUaW1lIiwiX2lzQ29tcGlsZWQiLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJtZXNzYWdlIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ0cmFuc2xhdGVkRnJhZyIsImdldEV4dGVuc2lvbiIsImdldFRyYW5zbGF0ZWRTaGFkZXJTb3VyY2UiLCJ0cmFuc2xhdGVkVmVydCIsImNvbnNvbGUiLCJlcnJvciIsImkiLCJudW1BdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJpbmZvIiwiZ2V0QWN0aXZlQXR0cmliIiwibG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsIm5hbWUiLCJpbmRleE9mIiwidW5kZWZpbmVkIiwic2hhZGVySW5wdXQiLCJTaGFkZXJJbnB1dCIsInBjVW5pZm9ybVR5cGUiLCJ0eXBlIiwibnVtVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiU0FNUExFUl8yRCIsIlNBTVBMRVJfQ1VCRSIsIlNBTVBMRVJfMkRfU0hBRE9XIiwiU0FNUExFUl9DVUJFX1NIQURPVyIsIlNBTVBMRVJfM0QiLCJyZWFkeSIsImR1cmF0aW9uIiwidHJhY2UiLCJUUkFDRUlEX1NIQURFUl9DT01QSUxFIiwiaWQiLCJ0b0ZpeGVkIiwic291cmNlIiwic2hhZGVyVHlwZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiaW5mb0xvZyIsImdldFNoYWRlckluZm9Mb2ciLCJjb2RlIiwiX3Byb2Nlc3NFcnJvciIsImxpbmVzIiwic3BsaXQiLCJmcm9tIiwidG8iLCJsZW5ndGgiLCJzdGFydHNXaXRoIiwibWF0Y2giLCJsaW5lIiwicGFyc2VJbnQiLCJNYXRoIiwibWF4IiwibWluIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQVVBLElBQUlBLGlCQUFpQixHQUFHLENBQUMsQ0FBQTtBQUV6QixNQUFNQyxxQkFBcUIsR0FBRyxDQUMxQixhQUFhLEVBQ2IsZUFBZSxFQUNmLFdBQVcsRUFDWCxlQUFlLEVBQ2YsaUJBQWlCLENBQ3BCLENBQUE7O0FBT0QsTUFBTUMsV0FBVyxDQUFDO0VBR2RDLFdBQVcsQ0FBQ0MsTUFBTSxFQUFFO0lBQUEsSUFGcEJDLENBQUFBLGVBQWUsR0FBRyxDQUFDLENBQUE7SUFHZixJQUFJLENBQUNDLElBQUksRUFBRSxDQUFBO0lBQ1gsSUFBSSxDQUFDQyxjQUFjLENBQUNILE1BQU0sQ0FBQ0ksTUFBTSxFQUFFSixNQUFNLENBQUMsQ0FBQTtJQUMxQ0EsTUFBTSxDQUFDSSxNQUFNLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDTixNQUFNLENBQUMsQ0FBQTtBQUN0QyxHQUFBOztFQU9BTyxPQUFPLENB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
