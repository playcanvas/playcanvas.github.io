/**
 * @license
 * PlayCanvas Engine v1.58.0-dev revision e102f2b2a (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
class I18nParser {
  _validate(data) {
    if (!data.header) {
      throw new Error('pc.I18n#addData: Missing "header" field');
    }

    if (!data.header.version) {
      throw new Error('pc.I18n#addData: Missing "header.version" field');
    }

    if (data.header.version !== 1) {
      throw new Error('pc.I18n#addData: Invalid "header.version" field');
    }

    if (!data.data) {
      throw new Error('pc.I18n#addData: Missing "data" field');
    } else if (!Array.isArray(data.data)) {
      throw new Error('pc.I18n#addData: "data" field must be an array');
    }

    for (let i = 0, len = data.data.length; i < len; i++) {
      const entry = data.data[i];

      if (!entry.info) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].info" field`);
      }

      if (!entry.info.locale) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].info.locale" field`);
      }

      if (typeof entry.info.locale !== 'string') {
        throw new Error(`pc.I18n#addData: "data[${i}].info.locale" must be a string`);
      }

      if (!entry.messages) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].messages" field`);
      }
    }
  }

  parse(data) {
    this._validate(data);

    return data.data;
  }

}

export { I18nParser };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi1wYXJzZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pMThuL2kxOG4tcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEkxOG5QYXJzZXIge1xuICAgIF92YWxpZGF0ZShkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5oZWFkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGMuSTE4biNhZGREYXRhOiBNaXNzaW5nIFwiaGVhZGVyXCIgZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRhdGEuaGVhZGVyLnZlcnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGMuSTE4biNhZGREYXRhOiBNaXNzaW5nIFwiaGVhZGVyLnZlcnNpb25cIiBmaWVsZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmhlYWRlci52ZXJzaW9uICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogSW52YWxpZCBcImhlYWRlci52ZXJzaW9uXCIgZmllbGQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogTWlzc2luZyBcImRhdGFcIiBmaWVsZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEuZGF0YSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGMuSTE4biNhZGREYXRhOiBcImRhdGFcIiBmaWVsZCBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGF0YS5kYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IGRhdGEuZGF0YVtpXTtcbiAgICAgICAgICAgIGlmICghZW50cnkuaW5mbykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGMuSTE4biNhZGREYXRhOiBtaXNzaW5nIFwiZGF0YVske2l9XS5pbmZvXCIgZmllbGRgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFlbnRyeS5pbmZvLmxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGMuSTE4biNhZGREYXRhOiBtaXNzaW5nIFwiZGF0YVske2l9XS5pbmZvLmxvY2FsZVwiIGZpZWxkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVudHJ5LmluZm8ubG9jYWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGMuSTE4biNhZGREYXRhOiBcImRhdGFbJHtpfV0uaW5mby5sb2NhbGVcIiBtdXN0IGJlIGEgc3RyaW5nYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZW50cnkubWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogbWlzc2luZyBcImRhdGFbJHtpfV0ubWVzc2FnZXNcIiBmaWVsZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFyc2UoZGF0YSkge1xuICAgICAgICAvLyAjaWYgX0RFQlVHXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlKGRhdGEpO1xuICAgICAgICAvLyAjZW5kaWZcblxuICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgSTE4blBhcnNlciB9O1xuIl0sIm5hbWVzIjpbIkkxOG5QYXJzZXIiLCJfdmFsaWRhdGUiLCJkYXRhIiwiaGVhZGVyIiwiRXJyb3IiLCJ2ZXJzaW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsImxlbiIsImxlbmd0aCIsImVudHJ5IiwiaW5mbyIsImxvY2FsZSIsIm1lc3NhZ2Vz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
