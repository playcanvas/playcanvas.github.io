import"../../core/tracing.js";import{path as e}from"../../core/path.js";import{WasmModule as t}from"../../core/wasm-module.js";import{Color as n}from"../../core/math/color.js";import{Mat4 as r}from"../../core/math/mat4.js";import{math as s}from"../../core/math/math.js";import{Vec2 as o}from"../../core/math/vec2.js";import{Vec3 as a}from"../../core/math/vec3.js";import{BoundingBox as i}from"../../core/shape/bounding-box.js";import{CULLFACE_NONE as c,CULLFACE_BACK as l,INDEXFORMAT_UINT32 as u,INDEXFORMAT_UINT16 as f,INDEXFORMAT_UINT8 as p,BUFFER_STATIC as h,PRIMITIVE_TRIANGLES as m,PRIMITIVE_TRIFAN as d,PRIMITIVE_TRISTRIP as y,PRIMITIVE_LINESTRIP as g,PRIMITIVE_LINELOOP as w,PRIMITIVE_LINES as O,PRIMITIVE_POINTS as b,SEMANTIC_NORMAL as x,TYPE_FLOAT32 as P,FILTER_LINEAR_MIPMAP_LINEAR as T,FILTER_NEAREST_MIPMAP_LINEAR as M,FILTER_LINEAR_MIPMAP_NEAREST as C,FILTER_NEAREST_MIPMAP_NEAREST as v,FILTER_LINEAR as _,FILTER_NEAREST as A,ADDRESS_REPEAT as R,ADDRESS_MIRRORED_REPEAT as E,ADDRESS_CLAMP_TO_EDGE as k,TYPE_UINT32 as F,TYPE_INT32 as U,TYPE_UINT16 as I,TYPE_INT16 as D,TYPE_UINT8 as S,TYPE_INT8 as j,SEMANTIC_POSITION as V,SEMANTIC_TANGENT as H,SEMANTIC_COLOR as G,SEMANTIC_BLENDINDICES as N,SEMANTIC_BLENDWEIGHT as L,SEMANTIC_TEXCOORD0 as K,SEMANTIC_TEXCOORD1 as z,SEMANTIC_TEXCOORD2 as B,SEMANTIC_TEXCOORD3 as W,SEMANTIC_TEXCOORD4 as $,SEMANTIC_TEXCOORD5 as X,SEMANTIC_TEXCOORD6 as Y,SEMANTIC_TEXCOORD7 as J,typedArrayTypesByteSize as q,typedArrayTypes as Q}from"../../platform/graphics/constants.js";import{IndexBuffer as Z}from"../../platform/graphics/index-buffer.js";import{Texture as ee}from"../../platform/graphics/texture.js";import{VertexBuffer as te}from"../../platform/graphics/vertex-buffer.js";import{VertexFormat as ne}from"../../platform/graphics/vertex-format.js";import{http as re}from"../../platform/net/http.js";import{SPECOCC_AO as se,BLEND_NONE as oe,BLEND_NORMAL as ae,PROJECTION_ORTHOGRAPHIC as ie,PROJECTION_PERSPECTIVE as ce,ASPECT_AUTO as le,LIGHTFALLOFF_INVERSESQUARED as ue,ASPECT_MANUAL as fe}from"../../scene/constants.js";import{GraphNode as pe}from"../../scene/graph-node.js";import{Light as he,lightTypes as me}from"../../scene/light.js";import{Mesh as de}from"../../scene/mesh.js";import{Morph as ye}from"../../scene/morph.js";import{MorphTarget as ge}from"../../scene/morph-target.js";import{calculateNormals as we}from"../../scene/procedural.js";import{Render as Oe}from"../../scene/render.js";import{Skin as be}from"../../scene/skin.js";import{StandardMaterial as xe}from"../../scene/materials/standard-material.js";import{Entity as Pe}from"../entity.js";import{INTERPOLATION_LINEAR as Te,INTERPOLATION_CUBIC as Me,INTERPOLATION_STEP as Ce}from"../anim/constants.js";import{AnimCurve as ve}from"../anim/evaluator/anim-curve.js";import{AnimData as _e}from"../anim/evaluator/anim-data.js";import{AnimTrack as Ae}from"../anim/evaluator/anim-track.js";import{Asset as Re}from"../asset/asset.js";import{GlbContainerResource as Ee}from"./glb-container-resource.js";import{ABSOLUTE_URL as ke}from"../asset/constants.js";let Fe=null;const Ue=()=>"undefined"!=typeof window&&window.DracoDecoderModule;class Ie{constructor(e){this.gltf=e,this.nodes=null,this.scenes=null,this.animations=null,this.textures=null,this.materials=null,this.variants=null,this.meshVariants=null,this.meshDefaultMaterials=null,this.renders=null,this.skins=null,this.lights=null,this.cameras=null}destroy(){this.renders&&this.renders.forEach((e=>{e.meshes=null}))}}const De=function(e){return/^data:.*,.*$/i.test(e)},Se=function(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":default:return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}},je=function(e){switch(e){case 5120:return j;case 5121:return S;case 5122:return D;case 5123:return I;case 5124:return U;case 5125:return F;case 5126:return P;default:return 0}},Ve=function(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},He={POSITION:V,NORMAL:x,TANGENT:H,COLOR_0:G,JOINTS_0:N,WEIGHTS_0:L,TEXCOORD_0:K,TEXCOORD_1:z,TEXCOORD_2:B,TEXCOORD_3:W,TEXCOORD_4:$,TEXCOORD_5:X,TEXCOORD_6:Y,TEXCOORD_7:J},Ge=function(e,t,n){const r=(e=>{switch(e){case j:return e=>Math.max(e/127,-1);case S:return e=>e/255;case D:return e=>Math.max(e/32767,-1);case I:return e=>e/65535;default:return e=>e}})(n),s=t.length;for(let n=0;n<s;++n)e[n]=r(t[n]);return e},Ne=function e(t,n,r=!1){const s=Se(t.type),o=function(e){switch(e){case 5120:return Int8Array;case 5121:return Uint8Array;case 5122:return Int16Array;case 5123:return Uint16Array;case 5124:return Int32Array;case 5125:return Uint32Array;case 5126:return Float32Array;default:return null}}(t.componentType);if(!o)return null;let a;if(t.sparse){const r=t.sparse,i={count:r.count,type:"SCALAR"},c=e(Object.assign(i,r.indices),n,!0),l={count:r.count,type:t.type,componentType:t.componentType},u=e(Object.assign(l,r.values),n,!0);if(t.hasOwnProperty("bufferView")){a=e({bufferView:t.bufferView,byteOffset:t.byteOffset,componentType:t.componentType,count:t.count,type:t.type},n,!0).slice()}else a=new o(t.count*s);for(let e=0;e<r.count;++e){const t=c[e];for(let n=0;n<s;++n)a[t*s+n]=u[e*s+n]}}else if(t.hasOwnProperty("bufferView")){const e=n[t.bufferView];if(r&&e.hasOwnProperty("byteStride")){const n=s*o.BYTES_PER_ELEMENT,r=new ArrayBuffer(t.count*n),i=new Uint8Array(r);let c=0;for(let r=0;r<t.count;++r){let s=(t.byteOffset||0)+r*e.byteStride;for(let t=0;t<n;++t)i[c++]=e[s++]}a=new o(r)}else a=new o(e.buffer,e.byteOffset+(t.byteOffset||0),t.count*s)}else a=new o(t.count*s);return a},Le=function(e,t){const n=Ne(e,t,!0);if(n instanceof Float32Array||!e.normalized)return n;const r=new Float32Array(n.length);return Ge(r,n,je(e.componentType)),r},Ke=function(e){let t=e.min,n=e.max;if(!t||!n)return null;if(e.normalized){const r=je(e.componentType);t=Ge([],t,r),n=Ge([],n,r)}return new i(new a(.5*(n[0]+t[0]),.5*(n[1]+t[1]),.5*(n[2]+t[2])),new a(.5*(n[0]-t[0]),.5*(n[1]-t[1]),.5*(n[2]-t[2])))},ze=function(e,t){const n=e[V];if(!n||3!==n.components)return;let r;if(n.size!==n.stride){const e=n.stride/q[n.type],t=new Q[n.type](n.buffer,n.offset,n.count*e);r=new Q[n.type](3*n.count);for(let s=0;s<n.count;++s)r[3*s+0]=t[s*e+0],r[3*s+1]=t[s*e+1],r[3*s+2]=t[s*e+2]}else r=new Q[n.type](n.buffer,n.offset,3*n.count);const s=n.count;t||(t=function(e){const t=new Uint16Array(e);for(let n=0;n<e;n++)t[n]=n;return t}(s));const o=we(r,t),a=new Float32Array(o.length);a.set(o),e[x]={buffer:a.buffer,size:12,offset:0,stride:12,count:s,components:3,type:P}},Be=function(e){const t=new Re(e.name+"_clone",e.type,e.file,e.data,e.options);return t.loaded=!0,t.resource=function(e){const t=new ee(e.device,e);return t._levels=function(e){const t=[];for(let n=0;n<e._levels.length;++n){let r=[];if(e.cubemap)for(let t=0;t<6;++t)r.push(e._levels[n][t]);else r=e._levels[n];t.push(r)}return t}(e),t}(e.resource),e.registry.add(t),t},We=function(e,t,n){const r=t[V];if(!r)return null;const s=r.count,o=[];for(const e in t)t.hasOwnProperty(e)&&o.push({semantic:e,components:t[e].components,type:t[e].type,normalize:!!t[e].normalize});const a=[V,x,H,G,N,L,K,z];let i,c,l,u,f,p;o.sort((function(e,t){const n=a.indexOf(e.semantic),r=a.indexOf(t.semantic);return n<r?-1:r<n?1:0}));const m=new ne(e,o);let d=!0;for(i=0;i<m.elements.length;++i)if(f=m.elements[i],u=t[f.name],p=u.offset-r.offset,u.buffer!==r.buffer||u.stride!==f.stride||u.size!==f.size||p!==f.offset){d=!1;break}const y=new te(e,m,s,h),g=y.lock(),w=new Uint32Array(g);let O;if(d)O=new Uint32Array(r.buffer,r.offset,s*y.format.size/4),w.set(O);else{let e,n;for(i=0;i<y.format.elements.length;++i){f=y.format.elements[i],e=f.stride/4,u=t[f.name],n=u.stride/4,O=new Uint32Array(u.buffer,u.offset,(u.count-1)*n+(u.size+3)/4);let r=0,o=f.offset/4;const a=Math.floor((u.size+3)/4);for(c=0;c<s;++c){for(l=0;l<a;++l)w[o+l]=O[r+l];r+=n,o+=e}}}return n&&function(e){let t,n;const r=[],s=[],o=[];for(t=0;t<e.format.elements.length;++t){const n=e.format.elements[t];if(n.name===K||n.name===z)switch(n.dataType){case P:r.push({offset:n.offset/4+1,stride:n.stride/4});break;case I:s.push({offset:n.offset/2+1,stride:n.stride/2});break;case S:o.push({offset:n.offset+1,stride:n.stride})}}const a=function(r,s,o){const a=new s(e.storage);for(t=0;t<r.length;++t){let s=r[t].offset;const i=r[t].stride;for(n=0;n<e.numVertices;++n)a[s]=o-a[s],s+=i}};r.length>0&&a(r,Float32Array,1),s.length>0&&a(s,Uint16Array,65535),o.length>0&&a(o,Uint8Array,255)}(y),y.unlock(),y},$e=new r,Xe=new a,Ye=function(e,t,n,r,s,o,a,i,c,l){const T=[];return t.primitives.forEach((function(M){let C,v,_,A=null,R=!0;if(M.hasOwnProperty("extensions")){const t=M.extensions;if(t.hasOwnProperty("KHR_draco_mesh_compression")){const n=Fe||Ue();if(n){const a=t.KHR_draco_mesh_compression;if(a.hasOwnProperty("attributes")){const t=r[a.bufferView],i=new n.DecoderBuffer;i.Init(t,t.length);const c=new n.Decoder,l=c.GetEncodedGeometryType(i);let u,f;switch(l){case n.POINT_CLOUD:C=b,u=new n.PointCloud,f=c.DecodeBufferToPointCloud(i,u);break;case n.TRIANGULAR_MESH:C=m,u=new n.Mesh,f=c.DecodeBufferToMesh(i,u);case n.INVALID_GEOMETRY_TYPE:}if(!f||!f.ok()||0===u.ptr)return void s("Failed to decode draco compressed asset: "+(f?f.error_msg():"Mesh asset - invalid draco compressed geometry type: "+l));const p=u.num_faces();if(l===n.TRIANGULAR_MESH){const e=u.num_points()>65535;_=3*p;const t=_*(e?4:2),r=n._malloc(t);e?(c.GetTrianglesUInt32Array(u,t,r),A=new Uint32Array(n.HEAPU32.buffer,r,_).slice()):(c.GetTrianglesUInt16Array(u,t,r),A=new Uint16Array(n.HEAPU16.buffer,r,_).slice()),n._free(r)}v=function(e,t,n,r,s,o,a){const i=t.num_points(),c=function(e,n){const o=r.GetAttributeByUniqueId(t,e),a=i*o.num_components();let c,l,u,f;switch(o.data_type()){case s.DT_UINT8:f=S,u=1,c=s._malloc(a*u),r.GetAttributeDataArrayForAllPoints(t,o,s.DT_UINT8,a*u,c),l=new Uint8Array(s.HEAPU8.buffer,c,a).slice();break;case s.DT_UINT16:f=I,u=2,c=s._malloc(a*u),r.GetAttributeDataArrayForAllPoints(t,o,s.DT_UINT16,a*u,c),l=new Uint16Array(s.HEAPU16.buffer,c,a).slice();break;case s.DT_FLOAT32:default:f=P,u=4,c=s._malloc(a*u),r.GetAttributeDataArrayForAllPoints(t,o,s.DT_FLOAT32,a*u,c),l=new Float32Array(s.HEAPF32.buffer,c,a).slice()}return s._free(c),{values:l,numComponents:o.num_components(),componentSizeInBytes:u,storageType:f,normalized:n===G&&(f===S||f===I)||o.normalized()}},l={},u=n.attributes;for(const e in u)if(u.hasOwnProperty(e)&&He.hasOwnProperty(e)){const t=He[e],n=c(u[e],t),r=n.numComponents*n.componentSizeInBytes;l[t]={values:n.values,buffer:n.values.buffer,size:r,offset:0,stride:r,count:i,components:n.numComponents,type:n.storageType,normalize:n.normalized}}return l.hasOwnProperty(x)||ze(l,o),We(e,l,a)}(e,u,a,c,n,A,o),n.destroy(u),n.destroy(c),n.destroy(i),R=!1}}}}v||(A=M.hasOwnProperty("indices")?Ne(n[M.indices],r,!0):null,v=function(e,t,n,r,s,o,a){const i={},c=[];for(const e in t)t.hasOwnProperty(e)&&He.hasOwnProperty(e)&&(i[e]=t[e],c.push(e+":"+t[e]));c.sort();const l=c.join();let u=a[l];if(!u){const c={};for(const e in i){const n=r[t[e]],o=Ne(n,s),a=s[n.bufferView],i=He[e],l=Se(n.type)*Ve(n.componentType),u=a&&a.hasOwnProperty("byteStride")?a.byteStride:l;c[i]={buffer:o.buffer,size:l,offset:o.byteOffset,stride:u,count:n.count,components:Se(n.type),type:je(n.componentType),normalize:n.normalized}}c.hasOwnProperty(x)||ze(c,n),u=We(e,c,o),a[l]=u}return u}(e,M.attributes,A,n,r,o,a),C=function(e){if(!e.hasOwnProperty("mode"))return m;switch(e.mode){case 0:return b;case 1:return O;case 2:return w;case 3:return g;case 4:default:return m;case 5:return y;case 6:return d}}(M));let E=null;if(v){if(E=new de(e),E.vertexBuffer=v,E.primitive[0].type=C,E.primitive[0].base=0,E.primitive[0].indexed=null!==A,null!==A){let t;t=A instanceof Uint8Array?p:A instanceof Uint16Array?f:u,t!==u||e.extUintElement||(t=f,A=new Uint16Array(A)),t===p&&e.isWebGPU&&(t=f,A=new Uint16Array(A));const n=new Z(e,t,A.length,h,A);E.indexBuffer[0]=n,E.primitive[0].count=A.length}else E.primitive[0].count=v.numVertices;if(M.hasOwnProperty("extensions")&&M.extensions.hasOwnProperty("KHR_materials_variants")){const e=M.extensions.KHR_materials_variants,t={};e.mappings.forEach((e=>{e.variants.forEach((n=>{t[n]=e.material}))})),i[E.id]=t}c[E.id]=M.material;let s=n[M.attributes.POSITION];if(E.aabb=Ke(s),R&&M.hasOwnProperty("targets")){const o=[];M.targets.forEach((function(e,a){const i={};e.hasOwnProperty("POSITION")&&(s=n[e.POSITION],i.deltaPositions=Le(s,r),i.deltaPositionsType=P,i.aabb=Ke(s)),e.hasOwnProperty("NORMAL")&&(s=n[e.NORMAL],i.deltaNormals=Le(s,r),i.deltaNormalsType=P),t.hasOwnProperty("extras")&&t.extras.hasOwnProperty("targetNames")?i.name=t.extras.targetNames[a]:i.name=a.toString(10),t.hasOwnProperty("weights")&&(i.defaultWeight=t.weights[a]),i.preserveData=l.morphPreserveData,o.push(new ge(i))})),E.morph=new ye(o,e,{preferHighPrecision:l.morphPreferHighPrecision})}}T.push(E)})),T},Je=function(e,t,n){var r;let a;const i=e.texCoord;if(i)for(a=0;a<n.length;++a)t[n[a]+"MapUv"]=i;const c=[0,0],l=[1,1],u=null==(r=e.extensions)?void 0:r.KHR_texture_transform;if(u){const e=u.offset||c,r=u.scale||l,i=u.rotation?-u.rotation*s.RAD_TO_DEG:0,f=new o(r[0],r[1]),p=new o(e[0],1-r[1]-e[1]);for(a=0;a<n.length;++a)t[`${n[a]}MapTiling`]=f,t[`${n[a]}MapOffset`]=p,t[`${n[a]}MapRotation`]=i}},qe=function(e,t,n){let r,s;if(e.hasOwnProperty("diffuseFactor")?(r=e.diffuseFactor,t.diffuse.set(Math.pow(r[0],1/2.2),Math.pow(r[1],1/2.2),Math.pow(r[2],1/2.2)),t.opacity=r[3]):(t.diffuse.set(1,1,1),t.opacity=1),e.hasOwnProperty("diffuseTexture")){const r=e.diffuseTexture;s=n[r.index],t.diffuseMap=s,t.diffuseMapChannel="rgb",t.opacityMap=s,t.opacityMapChannel="a",Je(r,t,["diffuse","opacity"])}if(t.useMetalness=!1,e.hasOwnProperty("specularFactor")?(r=e.specularFactor,t.specular.set(Math.pow(r[0],1/2.2),Math.pow(r[1],1/2.2),Math.pow(r[2],1/2.2))):t.specular.set(1,1,1),e.hasOwnProperty("glossinessFactor")?t.gloss=e.glossinessFactor:t.gloss=1,e.hasOwnProperty("specularGlossinessTexture")){const r=e.specularGlossinessTexture;t.specularEncoding="srgb",t.specularMap=t.glossMap=n[r.index],t.specularMapChannel="rgb",t.glossMapChannel="a",Je(r,t,["gloss","metalness"])}},Qe=function(e,t,n){if(e.hasOwnProperty("clearcoatFactor")?t.clearCoat=.25*e.clearcoatFactor:t.clearCoat=0,e.hasOwnProperty("clearcoatTexture")){const r=e.clearcoatTexture;t.clearCoatMap=n[r.index],t.clearCoatMapChannel="r",Je(r,t,["clearCoat"])}if(e.hasOwnProperty("clearcoatRoughnessFactor")?t.clearCoatGloss=e.clearcoatRoughnessFactor:t.clearCoatGloss=0,e.hasOwnProperty("clearcoatRoughnessTexture")){const r=e.clearcoatRoughnessTexture;t.clearCoatGlossMap=n[r.index],t.clearCoatGlossMapChannel="g",Je(r,t,["clearCoatGloss"])}if(e.hasOwnProperty("clearcoatNormalTexture")){const r=e.clearcoatNormalTexture;t.clearCoatNormalMap=n[r.index],Je(r,t,["clearCoatNormal"]),r.hasOwnProperty("scale")&&(t.clearCoatBumpiness=r.scale)}t.clearCoatGlossInvert=!0},Ze=function(e,t,n){t.useLighting=!1,t.emissive.copy(t.diffuse),t.emissiveTint=t.diffuseTint,t.emissiveMap=t.diffuseMap,t.emissiveMapUv=t.diffuseMapUv,t.emissiveMapTiling.copy(t.diffuseMapTiling),t.emissiveMapOffset.copy(t.diffuseMapOffset),t.emissiveMapRotation=t.diffuseMapRotation,t.emissiveMapChannel=t.diffuseMapChannel,t.emissiveVertexColor=t.diffuseVertexColor,t.emissiveVertexColorChannel=t.diffuseVertexColorChannel,t.diffuse.set(0,0,0),t.diffuseTint=!1,t.diffuseMap=null,t.diffuseVertexColor=!1},et=function(e,t,n){if(t.useMetalnessSpecularColor=!0,e.hasOwnProperty("specularColorTexture")&&(t.specularEncoding="srgb",t.specularMap=n[e.specularColorTexture.index],t.specularMapChannel="rgb",Je(e.specularColorTexture,t,["specular"])),e.hasOwnProperty("specularColorFactor")){const n=e.specularColorFactor;t.specular.set(Math.pow(n[0],1/2.2),Math.pow(n[1],1/2.2),Math.pow(n[2],1/2.2))}else t.specular.set(1,1,1);e.hasOwnProperty("specularFactor")?t.specularityFactor=e.specularFactor:t.specularityFactor=1,e.hasOwnProperty("specularTexture")&&(t.specularityFactorMapChannel="a",t.specularityFactorMap=n[e.specularTexture.index],Je(e.specularTexture,t,["specularityFactor"]))},tt=function(e,t,n){e.hasOwnProperty("ior")&&(t.refractionIndex=1/e.ior)},nt=function(e,t,n){t.blendType=ae,t.useDynamicRefraction=!0,e.hasOwnProperty("transmissionFactor")&&(t.refraction=e.transmissionFactor),e.hasOwnProperty("transmissionTexture")&&(t.refractionMapChannel="r",t.refractionMap=n[e.transmissionTexture.index],Je(e.transmissionTexture,t,["refraction"]))},rt=function(e,t,n){if(t.useSheen=!0,e.hasOwnProperty("sheenColorFactor")){const n=e.sheenColorFactor;t.sheen.set(Math.pow(n[0],1/2.2),Math.pow(n[1],1/2.2),Math.pow(n[2],1/2.2))}else t.sheen.set(1,1,1);e.hasOwnProperty("sheenColorTexture")&&(t.sheenMap=n[e.sheenColorTexture.index],t.sheenEncoding="srgb",Je(e.sheenColorTexture,t,["sheen"])),e.hasOwnProperty("sheenRoughnessFactor")?t.sheenGloss=e.sheenRoughnessFactor:t.sheenGloss=0,e.hasOwnProperty("sheenRoughnessTexture")&&(t.sheenGlossMap=n[e.sheenRoughnessTexture.index],t.sheenGlossMapChannel="a",Je(e.sheenRoughnessTexture,t,["sheenGloss"])),t.sheenGlossInvert=!0},st=function(e,t,n){if(t.blendType=ae,t.useDynamicRefraction=!0,e.hasOwnProperty("thicknessFactor")&&(t.thickness=e.thicknessFactor),e.hasOwnProperty("thicknessTexture")&&(t.thicknessMap=n[e.thicknessTexture.index],t.thicknessMapChannel="g",Je(e.thicknessTexture,t,["thickness"])),e.hasOwnProperty("attenuationDistance")&&(t.attenuationDistance=e.attenuationDistance),e.hasOwnProperty("attenuationColor")){const n=e.attenuationColor;t.attenuation.set(Math.pow(n[0],1/2.2),Math.pow(n[1],1/2.2),Math.pow(n[2],1/2.2))}},ot=function(e,t,n){e.hasOwnProperty("emissiveStrength")&&(t.emissiveIntensity=e.emissiveStrength)},at=function(e,t,n){t.useIridescence=!0,e.hasOwnProperty("iridescenceFactor")&&(t.iridescence=e.iridescenceFactor),e.hasOwnProperty("iridescenceTexture")&&(t.iridescenceMapChannel="r",t.iridescenceMap=n[e.iridescenceTexture.index],Je(e.iridescenceTexture,t,["iridescence"])),e.hasOwnProperty("iridescenceIor")&&(t.iridescenceRefractionIndex=e.iridescenceIor),e.hasOwnProperty("iridescenceThicknessMinimum")&&(t.iridescenceThicknessMin=e.iridescenceThicknessMinimum),e.hasOwnProperty("iridescenceThicknessMaximum")&&(t.iridescenceThicknessMax=e.iridescenceThicknessMaximum),e.hasOwnProperty("iridescenceThicknessTexture")&&(t.iridescenceThicknessMapChannel="g",t.iridescenceThicknessMap=n[e.iridescenceThicknessTexture.index],Je(e.iridescenceThicknessTexture,t,["iridescenceThickness"]))},it=function(e,t,n){const r=new xe;let s,o;if(r.occludeSpecular=se,r.diffuseTint=!0,r.diffuseVertexColor=!0,r.specularTint=!0,r.specularVertexColor=!0,e.hasOwnProperty("name")&&(r.name=e.name),e.hasOwnProperty("pbrMetallicRoughness")){const n=e.pbrMetallicRoughness;if(n.hasOwnProperty("baseColorFactor")?(s=n.baseColorFactor,r.diffuse.set(Math.pow(s[0],1/2.2),Math.pow(s[1],1/2.2),Math.pow(s[2],1/2.2)),r.opacity=s[3]):(r.diffuse.set(1,1,1),r.opacity=1),n.hasOwnProperty("baseColorTexture")){const e=n.baseColorTexture;o=t[e.index],r.diffuseMap=o,r.diffuseMapChannel="rgb",r.opacityMap=o,r.opacityMapChannel="a",Je(e,r,["diffuse","opacity"])}if(r.useMetalness=!0,r.specular.set(1,1,1),n.hasOwnProperty("metallicFactor")?r.metalness=n.metallicFactor:r.metalness=1,n.hasOwnProperty("roughnessFactor")?r.gloss=n.roughnessFactor:r.gloss=1,r.glossInvert=!0,n.hasOwnProperty("metallicRoughnessTexture")){const e=n.metallicRoughnessTexture;r.metalnessMap=r.glossMap=t[e.index],r.metalnessMapChannel="b",r.glossMapChannel="g",Je(e,r,["gloss","metalness"])}}if(e.hasOwnProperty("normalTexture")){const n=e.normalTexture;r.normalMap=t[n.index],Je(n,r,["normal"]),n.hasOwnProperty("scale")&&(r.bumpiness=n.scale)}if(e.hasOwnProperty("occlusionTexture")){const n=e.occlusionTexture;r.aoMap=t[n.index],r.aoMapChannel="r",Je(n,r,["ao"])}if(e.hasOwnProperty("emissiveFactor")?(s=e.emissiveFactor,r.emissive.set(Math.pow(s[0],1/2.2),Math.pow(s[1],1/2.2),Math.pow(s[2],1/2.2)),r.emissiveTint=!0):(r.emissive.set(0,0,0),r.emissiveTint=!1),e.hasOwnProperty("emissiveTexture")){const n=e.emissiveTexture;r.emissiveMap=t[n.index],Je(n,r,["emissive"])}if(e.hasOwnProperty("alphaMode"))switch(e.alphaMode){case"MASK":r.blendType=oe,e.hasOwnProperty("alphaCutoff")?r.alphaTest=e.alphaCutoff:r.alphaTest=.5;break;case"BLEND":r.blendType=ae,r.depthWrite=!1;break;default:r.blendType=oe}else r.blendType=oe;e.hasOwnProperty("doubleSided")?(r.twoSidedLighting=e.doubleSided,r.cull=e.doubleSided?c:l):(r.twoSidedLighting=!1,r.cull=l);const a={KHR_materials_clearcoat:Qe,KHR_materials_emissive_strength:ot,KHR_materials_ior:tt,KHR_materials_iridescence:at,KHR_materials_pbrSpecularGlossiness:qe,KHR_materials_sheen:rt,KHR_materials_specular:et,KHR_materials_transmission:nt,KHR_materials_unlit:Ze,KHR_materials_volume:st};if(e.hasOwnProperty("extensions"))for(const n in e.extensions){const s=a[n];void 0!==s&&s(e.extensions[n],r,t)}return r.update(),r},ct=function(e,t){const n=new pe;if(e.hasOwnProperty("name")&&e.name.length>0?n.name=e.name:n.name="node_"+t,e.hasOwnProperty("matrix")&&($e.data.set(e.matrix),$e.getTranslation(Xe),n.setLocalPosition(Xe),$e.getEulerAngles(Xe),n.setLocalEulerAngles(Xe),$e.getScale(Xe),n.setLocalScale(Xe)),e.hasOwnProperty("rotation")){const t=e.rotation;n.setLocalRotation(t[0],t[1],t[2],t[3])}if(e.hasOwnProperty("translation")){const t=e.translation;n.setLocalPosition(t[0],t[1],t[2])}if(e.hasOwnProperty("scale")){const t=e.scale;n.setLocalScale(t[0],t[1],t[2])}return n},lt=function(e,t){const n="orthographic"===e.type?ie:ce,r=n===ie?e.orthographic:e.perspective,o={enabled:!1,projection:n,nearClip:r.znear,aspectRatioMode:le};r.zfar&&(o.farClip=r.zfar),n===ie?(o.orthoHeight=.5*r.ymag,r.ymag&&(o.aspectRatioMode=fe,o.aspectRatio=r.xmag/r.ymag)):(o.fov=r.yfov*s.RAD_TO_DEG,r.aspectRatio&&(o.aspectRatioMode=fe,o.aspectRatio=r.aspectRatio));const a=new Pe(e.name);return a.addComponent("camera",o),a},ut=function(e,t){const r={enabled:!1,type:"point"===e.type?"omni":e.type,color:e.hasOwnProperty("color")?new n(e.color):n.WHITE,range:e.hasOwnProperty("range")?e.range:9999,falloffMode:ue,intensity:e.hasOwnProperty("intensity")?s.clamp(e.intensity,0,2):1};e.hasOwnProperty("spot")&&(r.innerConeAngle=e.spot.hasOwnProperty("innerConeAngle")?e.spot.innerConeAngle*s.RAD_TO_DEG:0,r.outerConeAngle=e.spot.hasOwnProperty("outerConeAngle")?e.spot.outerConeAngle*s.RAD_TO_DEG:Math.PI/4),e.hasOwnProperty("intensity")&&(r.luminance=e.intensity*he.getLightUnitConversion(me[r.type],r.outerConeAngle,r.innerConeAngle));const o=new Pe(t.name);return o.rotateLocal(90,0,0),o.addComponent("light",r),o},ft=function(e,t,n,s){if(!t.hasOwnProperty("skins")||0===t.skins.length)return[];const o=new Map;return t.skins.map((function(a){return function(e,t,n,s,o,a){let i,c,l;const u=t.joints,f=u.length,p=[];if(t.hasOwnProperty("inverseBindMatrices")){const e=t.inverseBindMatrices,o=Ne(n[e],s,!0),a=[];for(i=0;i<f;i++){for(c=0;c<16;c++)a[c]=o[16*i+c];l=new r,l.set(a),p.push(l)}}else for(i=0;i<f;i++)l=new r,p.push(l);const h=[];for(i=0;i<f;i++)h[i]=o[u[i]].name;const m=h.join("#");let d=a.get(m);return d||(d=new be(e,p,h),a.set(m,d)),d}(e,a,t.accessors,s,n,o)}))},pt=function(e,t,n,r){if(!e.hasOwnProperty("animations")||0===e.animations.length)return[];const s=r&&r.animation&&r.animation.preprocess,o=r&&r.animation&&r.animation.postprocess;return e.animations.map((function(r,a){s&&s(r);const i=function(e,t,n,r,s,o,a){const i=function(e){return new _e(Se(e.type),Le(e,r))},c={STEP:Ce,LINEAR:Te,CUBICSPLINE:Me},l={},u={},f={};let p,h=1;for(p=0;p<e.samplers.length;++p){const t=e.samplers[p];l.hasOwnProperty(t.input)||(l[t.input]=i(n[t.input])),u.hasOwnProperty(t.output)||(u[t.output]=i(n[t.output]));const r=t.hasOwnProperty("interpolation")&&c.hasOwnProperty(t.interpolation)?c[t.interpolation]:Te,s={paths:[],input:t.input,output:t.output,interpolation:r};f[p]=s}const m=[],d={translation:"localPosition",rotation:"localRotation",scale:"localScale"},y=e=>{const t=[];for(;e;)t.unshift(e.name),e=e.parent;return t},g=(e,t,n)=>{const r=u[e.output];if(!r)return;let s;if(o&&o[t.mesh]){const e=o[t.mesh];e.hasOwnProperty("extras")&&e.extras.hasOwnProperty("targetNames")&&(s=e.extras.targetNames)}const a=r.data,i=a.length/l[e.input].data.length,c=a.length/i,m=4*c,d=new ArrayBuffer(m*i);for(let t=0;t<i;t++){var y;const r=new Float32Array(d,m*t,c);for(let e=0;e<c;e++)r[e]=a[e*i+t];const o=new _e(1,r),l=null!=(y=s)&&y[t]?`name.${s[t]}`:t;u[-h]=o;const g={paths:[{entityPath:n,component:"graph",propertyPath:[`weight.${l}`]}],input:e.input,output:-h,interpolation:e.interpolation};h++,f[`morphCurve-${p}-${t}`]=g}};for(p=0;p<e.channels.length;++p){const t=e.channels[p],n=t.target,r=f[t.sampler],o=s[n.node],i=a[n.node],c=y(o);n.path.startsWith("weights")?(g(r,i,c),f[t.sampler].morphCurve=!0):r.paths.push({entityPath:c,component:"graph",propertyPath:[d[n.path]]})}const w=[],O=[],b=[];for(const e in l)w.push(l[e]),l[e]=w.length-1;for(const e in u)O.push(u[e]),u[e]=O.length-1;for(const e in f){const t=f[e];t.morphCurve||(b.push(new ve(t.paths,l[t.input],u[t.output],t.interpolation)),t.paths.length>0&&"localRotation"===t.paths[0].propertyPath[0]&&t.interpolation!==Me&&m.push(b[b.length-1].output))}m.sort();let x,P=null;for(p=0;p<m.length;++p){const e=m[p];if(0===p||e!==P){if(x=O[e],4===x.components){const e=x.data,t=e.length-4;for(let n=0;n<t;n+=4)e[n+0]*e[n+4]+e[n+1]*e[n+5]+e[n+2]*e[n+6]+e[n+3]*e[n+7]<0&&(e[n+4]*=-1,e[n+5]*=-1,e[n+6]*=-1,e[n+7]*=-1)}P=e}}let T=0;for(p=0;p<w.length;p++)x=w[p]._data,T=Math.max(T,0===x.length?0:x[x.length-1]);return new Ae(e.hasOwnProperty("name")?e.name:"animation_"+t,T,w,O,b)}(r,a,e.accessors,n,t,e.meshes,e.nodes);return o&&o(r,i),i}))},ht=function(e,t,n,r,s,o){const a=s&&s.global&&s.global.preprocess,i=s&&s.global&&s.global.postprocess;a&&a(t);const c=t.asset&&"PlayCanvas"===t.asset.generator,l=function(e,t){if(!e.hasOwnProperty("nodes")||0===e.nodes.length)return[];const n=t&&t.node&&t.node.preprocess,r=t&&t.node&&t.node.process||ct,s=t&&t.node&&t.node.postprocess,o=e.nodes.map((function(e,t){n&&n(e);const o=r(e,t);return s&&s(e,o),o}));for(let t=0;t<e.nodes.length;++t){const n=e.nodes[t];if(n.hasOwnProperty("children")){const e=o[t],r={};for(let t=0;t<n.children.length;++t){const s=o[n.children[t]];s.parent||(r.hasOwnProperty(s.name)?s.name+=r[s.name]++:r[s.name]=1,e.addChild(s))}}}return o}(t,s),u=function(e,t){var n;const r=[],s=e.scenes.length;if(1===s&&1===(null==(n=e.scenes[0].nodes)?void 0:n.length)){const n=e.scenes[0].nodes[0];r.push(t[n])}else for(let n=0;n<s;n++){const s=e.scenes[n];if(s.nodes){const e=new pe(s.name);for(let n=0;n<s.nodes.length;n++){const r=t[s.nodes[n]];e.addChild(r)}r.push(e)}}return r}(t,l),f=function(e,t,n){let r=null;if(e.hasOwnProperty("nodes")&&e.hasOwnProperty("extensions")&&e.extensions.hasOwnProperty("KHR_lights_punctual")&&e.extensions.KHR_lights_punctual.hasOwnProperty("lights")){const s=e.extensions.KHR_lights_punctual.lights;if(s.length){const o=n&&n.light&&n.light.preprocess,a=n&&n.light&&n.light.process||ut,i=n&&n.light&&n.light.postprocess;e.nodes.forEach((function(e,n){if(e.hasOwnProperty("extensions")&&e.extensions.hasOwnProperty("KHR_lights_punctual")&&e.extensions.KHR_lights_punctual.hasOwnProperty("light")){const c=e.extensions.KHR_lights_punctual.light,l=s[c];if(l){o&&o(l);const s=a(l,t[n]);i&&i(l,s),s&&(r||(r=new Map),r.set(e,s))}}}))}}return r}(t,l,s),p=function(e,t,n){let r=null;if(e.hasOwnProperty("nodes")&&e.hasOwnProperty("cameras")&&e.cameras.length>0){const s=n&&n.camera&&n.camera.preprocess,o=n&&n.camera&&n.camera.process||lt,a=n&&n.camera&&n.camera.postprocess;e.nodes.forEach((function(n,i){if(n.hasOwnProperty("camera")){const c=e.cameras[n.camera];if(c){s&&s(c);const e=o(c,t[i]);a&&a(c,e),e&&(r||(r=new Map),r.set(n,e))}}}))}return r}(t,l,s),h=pt(t,l,n,s),m=function(e,t,n,r){if(!e.hasOwnProperty("materials")||0===e.materials.length)return[];const s=n&&n.material&&n.material.preprocess,o=n&&n.material&&n.material.process||it,a=n&&n.material&&n.material.postprocess;return e.materials.map((function(e){s&&s(e);const n=o(e,t,r);return a&&a(e,n),n}))}(t,r.map((function(e){return e.resource})),s,c),d=function(e){if(!e.hasOwnProperty("extensions")||!e.extensions.hasOwnProperty("KHR_materials_variants"))return null;const t=e.extensions.KHR_materials_variants.variants,n={};for(let e=0;e<t.length;e++)n[t[e].name]=e;return n}(t),y={},g={},w=function(e,t,n,r,s,o,a,i){if(!t.hasOwnProperty("meshes")||0===t.meshes.length||!t.hasOwnProperty("accessors")||0===t.accessors.length||!t.hasOwnProperty("bufferViews")||0===t.bufferViews.length)return[];if(i.skipMeshes)return[];const c={};return t.meshes.map((function(l){return Ye(e,l,t.accessors,n,r,s,c,o,a,i)}))}(e,t,n,o,c,y,g,s),O=ft(e,t,l,n),b=[];for(let e=0;e<w.length;e++)b[e]=new Oe,b[e].meshes=w[e];!function(e,t,n){e.nodes.forEach((e=>{e.hasOwnProperty("mesh")&&e.hasOwnProperty("skin")&&t[e.mesh].meshes.forEach((t=>{t.skin=n[e.skin]}))}))}(t,b,O);const x=new Ie(t);x.nodes=l,x.scenes=u,x.animations=h,x.textures=r,x.materials=m,x.variants=d,x.meshVariants=y,x.meshDefaultMaterials=g,x.renders=b,x.skins=O,x.lights=f,x.cameras=p,i&&i(t,x),o(null,x)};let mt=0;const dt=function(t,n,r,s,o,a,i){const c=a&&a.image&&a.image.preprocess,l=a&&a.image&&a.image.processAsync||function(e,t){t(null,null)},u=a&&a.image&&a.image.postprocess,f=function(e){u&&u(t,e),i(null,e)},p={"image/png":"png","image/jpeg":"jpg","image/basis":"basis","image/ktx":"ktx","image/ktx2":"ktx2","image/vnd-ms.dds":"dds"},h=function(e,n,r,s){const a=(t.name||"gltf-texture")+"-"+mt++,c={url:e||a};if(n&&(c.contents=n.slice(0).buffer),r){const e=p[r];e&&(c.filename=c.url+"."+e)}const l=new Re(a,"texture",c,null,s);l.on("load",f),l.on("error",i),o.add(l),o.load(l)};c&&c(t),l(t,(function(o,a){var c;o?i(o):a?f(a):t.hasOwnProperty("uri")?De(t.uri)?h(t.uri,null,(c=t.uri).substring(c.indexOf(":")+1,c.indexOf(";")),null):h(ke.test(t.uri)?t.uri:e.join(s,t.uri),null,null,{crossOrigin:"anonymous"}):t.hasOwnProperty("bufferView")&&t.hasOwnProperty("mimeType")?h(null,r[t.bufferView],t.mimeType,null):i("Invalid image found in gltf (neither uri or bufferView found). index="+n)}))},yt=function(e,t,n,r,s,o){if(!e.hasOwnProperty("images")||0===e.images.length||!e.hasOwnProperty("textures")||0===e.textures.length)return void o(null,[]);const a=s&&s.texture&&s.texture.preprocess,i=s&&s.texture&&s.texture.processAsync||function(e,t,n){n(null,null)},c=s&&s.texture&&s.texture.postprocess,l=[],u=[];let f=e.textures.length;const p=function(t,n){if(u[n]||(u[n]=[]),u[n].push(t),0==--f){const t=[];u.forEach((function(n,r){n.forEach((function(n,s){const o=0===s?l[r]:Be(l[r]);!function(e,t){const n=function(e,t){switch(e){case 9728:return A;case 9729:return _;case 9984:return v;case 9985:return C;case 9986:return M;case 9987:return T;default:return t}},r=function(e,t){switch(e){case 33071:return k;case 33648:return E;case 10497:return R;default:return t}};e&&(t=t||{},e.minFilter=n(t.minFilter,T),e.magFilter=n(t.magFilter,_),e.addressU=r(t.wrapS,R),e.addressV=r(t.wrapT,R))}(o.resource,(e.samplers||[])[e.textures[n].sampler]),t[n]=o,c&&c(e.textures[n],o)}))})),o(null,t)}};for(let c=0;c<e.textures.length;++c){const u=e.textures[c];a&&a(u),i(u,e.images,function(a,i,c,u){if(c)o(c);else{var f,h;if(null==u)void 0===(u=null==i||null==(f=i.extensions)||null==(h=f.KHR_texture_basisu)?void 0:h.source)&&(u=i.source);if(l[u])p(a,u);else{const i=e.images[u];dt(i,a,t,n,r,s,(function(e,t){e?o(e):(l[u]=t,p(a,u))}))}}}.bind(null,c,u))}},gt=function(e,n){const r=JSON.parse(function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))}(e));if(r.asset&&r.asset.version&&parseFloat(r.asset.version)<2)return void n(`Invalid gltf version. Expected version 2.0 or above but found version '${r.asset.version}'.`);const s=(null==r?void 0:r.extensionsUsed)||[];Fe||Ue()||-1===s.indexOf("KHR_draco_mesh_compression")?n(null,r):t.getInstance("DracoDecoderModule",(e=>{Fe=e,n(null,r)}))},wt=function(e,t,n){e&&e.toLowerCase().endsWith(".glb")||(()=>{const e=new Uint8Array(t);return 103===e[0]&&108===e[1]&&84===e[2]&&70===e[3]})()?function(e,t){const n=e instanceof ArrayBuffer?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),r=n.getUint32(0,!0),s=n.getUint32(4,!0),o=n.getUint32(8,!0);if(1179937895!==r)return void t("Invalid magic number found in glb header. Expected 0x46546C67, found 0x"+r.toString(16));if(2!==s)return void t("Invalid version number found in glb header. Expected 2, found "+s);if(o<=0||o>n.byteLength)return void t("Invalid length found in glb header. Found "+o);const a=[];let i=12;for(;i<o;){const e=n.getUint32(i,!0);if(i+e+8>n.byteLength)throw new Error("Invalid chunk length found in glb. Found "+e);const t=n.getUint32(i+4,!0),r=new Uint8Array(n.buffer,n.byteOffset+i+8,e);a.push({length:e,type:t,data:r}),i+=e+8}1===a.length||2===a.length?1313821514===a[0].type?a.length>1&&5130562!==a[1].type?t("Invalid chunk type found in glb file. Expected 0x004E4942, found 0x"+a[1].type.toString(16)):t(null,{gltfChunk:a[0].data,binaryChunk:2===a.length?a[1].data:null}):t("Invalid chunk type found in glb file. Expected 0x4E4F534A, found 0x"+a[0].type.toString(16)):t("Invalid number of chunks found in glb file.")}(t,n):n(null,{gltfChunk:t,binaryChunk:null})},Ot=function(e,t,n,r){const s=[],o=n&&n.bufferView&&n.bufferView.preprocess,a=n&&n.bufferView&&n.bufferView.processAsync||function(e,t,n){n(null,null)},i=n&&n.bufferView&&n.bufferView.postprocess;let c=e.bufferViews?e.bufferViews.length:0;if(!c)return void r(null,null);const l=function(t,n){const o=e.bufferViews[t];o.hasOwnProperty("byteStride")&&(n.byteStride=o.byteStride),s[t]=n,i&&i(o,n),0==--c&&r(null,s)};for(let n=0;n<e.bufferViews.length;++n){const s=e.bufferViews[n];o&&o(s),a(s,t,function(e,n,s,o){if(s)r(s);else if(o)l(e,o);else{const r=t[n.buffer],s=new Uint8Array(r.buffer,r.byteOffset+(n.byteOffset||0),n.byteLength);l(e,s)}}.bind(null,n,s))}};class bt{static parseAsync(t,n,r,s,o,a,i){wt(t,r,(function(t,r){t?i(t):gt(r.gltfChunk,(function(t,c){t?i(t):function(t,n,r,s,o){const a=[];if(!t.buffers||0===t.buffers.length)return void o(null,a);const i=s&&s.buffer&&s.buffer.preprocess,c=s&&s.buffer&&s.buffer.processAsync||function(e,t){t(null,null)},l=s&&s.buffer&&s.buffer.postprocess;let u=t.buffers.length;const f=function(e,n){a[e]=n,l&&l(t.buffers[e],n),0==--u&&o(null,a)};for(let s=0;s<t.buffers.length;++s){const a=t.buffers[s];i&&i(a),c(a,function(t,s,a,i){if(a)o(a);else if(i)f(t,new Uint8Array(i));else if(s.hasOwnProperty("uri"))if(De(s.uri)){const e=atob(s.uri.split(",")[1]),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);f(t,n)}else re.get(ke.test(s.uri)?s.uri:e.join(r,s.uri),{cache:!0,responseType:"arraybuffer",retry:!1},function(e,t,n){t?o(t):f(e,new Uint8Array(n))}.bind(null,t));else f(t,n)}.bind(null,s,a))}}(c,r.binaryChunk,n,a,(function(e,t){e?i(e):Ot(c,t,a,(function(e,t){e?i(e):yt(c,t,n,o,a,(function(e,n){e?i(e):ht(s,c,t,n,a,i)}))}))}))}))}))}static parse(e,t,n,r,s){r=r||{},wt(e,t,(function(e,t){e?s(e):gt(t.gltfChunk,(function(e,o){e?s(e):Ot(o,[t.binaryChunk],r,(function(e,t){e?s(e):ht(n,o,t,[],r,(function(e,t){e?s(e):s(null,t)}))}))}))}))}constructor(e,t,n){this._device=e,this._assets=t,this._defaultMaterial=it({name:"defaultGlbMaterial"},[]),this.maxRetries=n}_getUrlWithoutParams(e){return e.indexOf("?")>=0?e.split("?")[0]:e}load(t,n,r){Re.fetchArrayBuffer(t.load,((s,o)=>{s?n(s):bt.parseAsync(this._getUrlWithoutParams(t.original),e.extractPath(t.load),o,this._device,r.registry,r.options,((e,t)=>{e?n(e):n(null,new Ee(t,r,this._assets,this._defaultMaterial))}))}),r,this.maxRetries)}open(e,t,n){return t}patch(e,t){}}export{bt as GlbParser};
