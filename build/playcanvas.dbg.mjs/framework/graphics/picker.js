/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Color } from '../../core/math/color.js';
import { PIXELFORMAT_R8_G8_B8_A8, FILTER_NEAREST, ADDRESS_CLAMP_TO_EDGE, CLEARFLAG_DEPTH } from '../../platform/graphics/constants.js';
import { GraphicsDevice } from '../../platform/graphics/graphics-device.js';
import { RenderTarget } from '../../platform/graphics/render-target.js';
import { Texture } from '../../platform/graphics/texture.js';
import { DebugGraphics } from '../../platform/graphics/debug-graphics.js';
import { SHADER_PICK, SORTMODE_NONE } from '../../scene/constants.js';
import { Camera } from '../../scene/camera.js';
import { Command } from '../../scene/mesh-instance.js';
import { Layer } from '../../scene/layer.js';
import { LayerComposition } from '../../scene/composition/layer-composition.js';
import { getApplication } from '../globals.js';
import { Entity } from '../entity.js';
import { Debug } from '../../core/debug.js';

const tempSet = new Set();
const clearDepthOptions = {
  depth: 1.0,
  flags: CLEARFLAG_DEPTH
};

class Picker {
  constructor(app, width, height) {
    if (app instanceof GraphicsDevice) {
      app = getApplication();
      Debug.deprecated('pc.Picker now takes pc.AppBase as first argument. Passing pc.GraphicsDevice is deprecated.');
    }
    this.app = app;
    this.device = app.graphicsDevice;

    this.pickColor = new Float32Array(4);
    this.pickColor[3] = 1;

    this.mapping = [];

    this.cameraEntity = null;
    this.layer = null;
    this.layerComp = null;
    this.initLayerComposition();

    this._renderTarget = null;

    const device = this.device;
    this.clearDepthCommand = new Command(0, 0, function () {
      device.clear(clearDepthOptions);
    });
    this.width = 0;
    this.height = 0;
    this.resize(width, height);
  }

  getSelection(x, y, width, height) {
    const device = this.device;
    if (typeof x === 'object') {
      Debug.deprecated('Picker.getSelection:param \'rect\' is deprecated, use \'x, y, width, height\' instead.');
      const rect = x;
      x = rect.x;
      y = rect.y;
      width = rect.width;
      height = rect.height;
    } else {
      y = this.renderTarget.height - (y + (height || 1));
    }

    x = Math.floor(x);
    y = Math.floor(y);
    width = Math.floor(Math.max(width || 1, 1));
    height = Math.floor(Math.max(height || 1, 1));

    const origRenderTarget = device.renderTarget;
    DebugGraphics.pushGpuMarker(device, 'PICKER');

    device.setRenderTarget(this.renderTarget);
    device.updateBegin();
    const pixels = new Uint8Array(4 * width * height);
    device.readPixels(x, y, width, height, pixels);
    device.updateEnd();

    device.setRenderTarget(origRenderTarget);
    DebugGraphics.popGpuMarker(device);
    const mapping = this.mapping;
    for (let i = 0; i < width * height; i++) {
      const r = pixels[4 * i + 0];
      const g = pixels[4 * i + 1];
      const b = pixels[4 * i + 2];
      const index = r << 16 | g << 8 | b;

      if (index !== 0xffffff) {
        tempSet.add(mapping[index]);
      }
    }

    const selection = [];
    tempSet.forEach(meshInstance => selection.push(meshInstance));
    tempSet.clear();
    return selection;
  }
  allocateRenderTarget() {
    const colorBuffer = new Texture(this.device, {
      format: PIXELFORMAT_R8_G8_B8_A8,
      width: this.width,
      height: this.height,
      mipmaps: false,
      minFilter: FILTER_NEAREST,
      magFilter: FILTER_NEAREST,
      addressU: ADDRESS_CLAMP_TO_EDGE,
      addressV: ADDRESS_CLAMP_TO_EDGE,
      name: 'pick'
    });
    this.renderTarget = new RenderTarget({
      colorBuffer: colorBuffer,
      depth: true
    });
  }
  releaseRenderTarget() {
    this.cameraEntity.camera.renderTarget = null;
    if (this._renderTarget) {
      this._renderTarget.destroyTextureBuffers();
      this._renderTarget.destroy();
      this._renderTarget = null;
    }
  }
  initLayerComposition() {
    const device = this.device;
    const self = this;
    const pickColorId = device.scope.resolve('uColor');

    this.cameraEntity = new Entity();
    this.cameraEntity.addComponent('camera');

    this.layer = new Layer({
      name: 'Picker',
      shaderPass: SHADER_PICK,
      opaqueSortMode: SORTMODE_NONE,
      onDrawCall: function (meshInstance, index) {
        self.pickColor[0] = (index >> 16 & 0xff) / 255;
        self.pickColor[1] = (index >> 8 & 0xff) / 255;
        self.pickColor[2] = (index & 0xff) / 255;
        pickColorId.setValue(self.pickColor);
        device.setBlending(false);

        self.mapping[index] = meshInstance;
      }
    });
    this.layer.addCamera(this.cameraEntity.camera);

    this.layerComp = new LayerComposition('picker');
    this.layerComp.pushOpaque(this.layer);
  }

  prepare(camera, scene, layers) {
    if (camera instanceof Camera) {
      Debug.deprecated('pc.Picker#prepare now takes pc.CameraComponent as first argument. Passing pc.Camera is deprecated.');

      camera = camera.node.camera;
    }
    if (layers instanceof Layer) {
      layers = [layers];
    }

    this.layer.clearMeshInstances();
    const destMeshInstances = this.layer.opaqueMeshInstances;

    const srcLayers = scene.layers.layerList;
    const subLayerEnabled = scene.layers.subLayerEnabled;
    const isTransparent = scene.layers.subLayerList;
    for (let i = 0; i < srcLayers.length; i++) {
      const srcLayer = srcLayers[i];

      if (layers && layers.indexOf(srcLayer) < 0) {
        continue;
      }
      if (srcLayer.enabled && subLayerEnabled[i]) {
        const layerCamId = srcLayer.cameras.indexOf(camera);
        if (layerCamId >= 0) {
          if (srcLayer._clearDepthBuffer) {
            destMeshInstances.push(this.clearDepthCommand);
          }

          const meshInstances = isTransparent[i] ? srcLayer.instances.transparentMeshInstances : srcLayer.instances.opaqueMeshInstances;
          for (let j = 0; j < meshInstances.length; j++) {
            const meshInstance = meshInstances[j];
            if (meshInstance.pick) {
              destMeshInstances.push(meshInstance);
            }
          }
        }
      }
    }

    if (!this.renderTarget || this.width !== this.renderTarget.width || this.height !== this.renderTarget.height) {
      this.releaseRenderTarget();
      this.allocateRenderTarget();
    }

    this.updateCamera(camera);

    this.mapping.length = 0;

    this.app.renderComposition(this.layerComp);
  }
  updateCamera(srcCamera) {
    this.cameraEntity.copy(srcCamera.entity);
    this.cameraEntity.name = 'PickerCamera';

    const destCamera = this.cameraEntity.camera;
    destCamera.copy(srcCamera);

    destCamera.clearColorBuffer = true;
    destCamera.clearDepthBuffer = true;
    destCamera.clearStencilBuffer = true;
    destCamera.clearColor = Color.WHITE;

    destCamera.renderTarget = this.renderTarget;

    this.layer.clearCameras();
    this.layer.addCamera(destCamera);
    destCamera.layers = [this.layer.id];
  }

  resize(width, height) {
    this.width = Math.floor(width);
    this.height = Math.floor(height);
  }
}

export { Picker };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlja2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2dyYXBoaWNzL3BpY2tlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uL2NvcmUvbWF0aC9jb2xvci5qcyc7XG5cbmltcG9ydCB7IEFERFJFU1NfQ0xBTVBfVE9fRURHRSwgQ0xFQVJGTEFHX0RFUFRILCBGSUxURVJfTkVBUkVTVCwgUElYRUxGT1JNQVRfUjhfRzhfQjhfQTggfSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NEZXZpY2UgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9ncmFwaGljcy1kZXZpY2UuanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvcmVuZGVyLXRhcmdldC5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvdGV4dHVyZS5qcyc7XG5pbXBvcnQgeyBEZWJ1Z0dyYXBoaWNzIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvZGVidWctZ3JhcGhpY3MuanMnO1xuXG5pbXBvcnQgeyBTSEFERVJfUElDSywgU09SVE1PREVfTk9ORSB9IGZyb20gJy4uLy4uL3NjZW5lL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tICcuLi8uLi9zY2VuZS9jYW1lcmEuanMnO1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4uLy4uL3NjZW5lL21lc2gtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tICcuLi8uLi9zY2VuZS9sYXllci5qcyc7XG5pbXBvcnQgeyBMYXllckNvbXBvc2l0aW9uIH0gZnJvbSAnLi4vLi4vc2NlbmUvY29tcG9zaXRpb24vbGF5ZXItY29tcG9zaXRpb24uanMnO1xuXG5pbXBvcnQgeyBnZXRBcHBsaWNhdGlvbiB9IGZyb20gJy4uL2dsb2JhbHMuanMnO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vZW50aXR5LmpzJztcbmltcG9ydCB7IERlYnVnIH0gZnJvbSAnLi4vLi4vY29yZS9kZWJ1Zy5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9hcHAtYmFzZS5qcycpLkFwcEJhc2V9IEFwcEJhc2UgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb21wb25lbnRzL2NhbWVyYS9jb21wb25lbnQuanMnKS5DYW1lcmFDb21wb25lbnR9IENhbWVyYUNvbXBvbmVudCAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3NjZW5lL21lc2gtaW5zdGFuY2UuanMnKS5NZXNoSW5zdGFuY2V9IE1lc2hJbnN0YW5jZSAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3NjZW5lL3NjZW5lLmpzJykuU2NlbmV9IFNjZW5lICovXG5cbmNvbnN0IHRlbXBTZXQgPSBuZXcgU2V0KCk7XG5cbmNvbnN0IGNsZWFyRGVwdGhPcHRpb25zID0ge1xuICAgIGRlcHRoOiAxLjAsXG4gICAgZmxhZ3M6IENMRUFSRkxBR19ERVBUSFxufTtcblxuLyoqXG4gKiBQaWNrZXIgb2JqZWN0IHVzZWQgdG8gc2VsZWN0IG1lc2ggaW5zdGFuY2VzIGZyb20gc2NyZWVuIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcGljayBidWZmZXIgaW4gcGl4ZWxzIChyZWFkLW9ubHkpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHBpY2sgYnVmZmVyIGluIHBpeGVscyAocmVhZC1vbmx5KS5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgVGhlIHJlbmRlciB0YXJnZXQgdXNlZCBieSB0aGUgcGlja2VyIGludGVybmFsbHlcbiAqIChyZWFkLW9ubHkpLlxuICovXG5jbGFzcyBQaWNrZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBQaWNrZXIgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FwcEJhc2V9IGFwcCAtIFRoZSBhcHBsaWNhdGlvbiBtYW5hZ2luZyB0aGlzIHBpY2tlciBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHBpY2sgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcGljayBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoYXBwIGluc3RhbmNlb2YgR3JhcGhpY3NEZXZpY2UpIHtcbiAgICAgICAgICAgIGFwcCA9IGdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgICAgICBEZWJ1Zy5kZXByZWNhdGVkKCdwYy5QaWNrZXIgbm93IHRha2VzIHBjLkFwcEJhc2UgYXMgZmlyc3QgYXJndW1lbnQuIFBhc3NpbmcgcGMuR3JhcGhpY3NEZXZpY2UgaXMgZGVwcmVjYXRlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmRldmljZSA9IGFwcC5ncmFwaGljc0RldmljZTtcblxuICAgICAgICAvLyB1bmlmb3JtIGZvciB0aGUgbWVzaCBpbmRleCBlbmNvZGVkIGludG8gcmdiYVxuICAgICAgICB0aGlzLnBpY2tDb2xvciA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIHRoaXMucGlja0NvbG9yWzNdID0gMTtcblxuICAgICAgICAvLyBtYXBwaW5nIHRhYmxlIGZyb20gaWRzIHRvIG1lc2hJbnN0YW5jZXNcbiAgICAgICAgdGhpcy5tYXBwaW5nID0gW107XG5cbiAgICAgICAgLy8gY3JlYXRlIGxheWVyIGNvbXBvc2l0aW9uIHdpdGggdGhlIGxheWVyIGFuZCBjYW1lcmFcbiAgICAgICAgdGhpcy5jYW1lcmFFbnRpdHkgPSBudWxsO1xuICAgICAgICB0aGlzLmxheWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXllckNvbXAgPSBudWxsO1xuICAgICAgICB0aGlzLmluaXRMYXllckNvbXBvc2l0aW9uKCk7XG5cbiAgICAgICAgLy8gaW50ZXJuYWwgcmVuZGVyIHRhcmdldFxuICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8vIGNsZWFyIGNvbW1hbmQgdXNlciB0byBzaW11bGF0ZSBsYXllciBjbGVhcmluZywgcmVxdWlyZWQgZHVlIHRvIHN0b3JpbmcgbWVzaGVzIGZyb20gbXVsdGlwbGUgbGF5ZXJzIG9uIGEgc2luZ2UgbGF5ZXJcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2U7XG4gICAgICAgIHRoaXMuY2xlYXJEZXB0aENvbW1hbmQgPSBuZXcgQ29tbWFuZCgwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXZpY2UuY2xlYXIoY2xlYXJEZXB0aE9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxpc3Qgb2YgbWVzaCBpbnN0YW5jZXMgc2VsZWN0ZWQgYnkgdGhlIHNwZWNpZmllZCByZWN0YW5nbGUgaW4gdGhlIHByZXZpb3VzbHlcbiAgICAgKiBwcmVwYXJlZCBwaWNrIGJ1ZmZlci5UaGUgcmVjdGFuZ2xlIHVzaW5nIHRvcC1sZWZ0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7TWVzaEluc3RhbmNlW119IEFuIGFycmF5IG9mIG1lc2ggaW5zdGFuY2VzIHRoYXQgYXJlIGluIHRoZSBzZWxlY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgdGhlIHNlbGVjdGlvbiBhdCB0aGUgcG9pbnQgKDEwLDIwKVxuICAgICAqIHZhciBzZWxlY3Rpb24gPSBwaWNrZXIuZ2V0U2VsZWN0aW9uKDEwLCAyMCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgYWxsIG1vZGVscyBpbiByZWN0YW5nbGUgd2l0aCBjb3JuZXJzIGF0ICgxMCwyMCkgYW5kICgyMCw0MClcbiAgICAgKiB2YXIgc2VsZWN0aW9uID0gcGlja2VyLmdldFNlbGVjdGlvbigxMCwgMjAsIDEwLCAyMCk7XG4gICAgICovXG4gICAgZ2V0U2VsZWN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2U7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgRGVidWcuZGVwcmVjYXRlZCgnUGlja2VyLmdldFNlbGVjdGlvbjpwYXJhbSBcXCdyZWN0XFwnIGlzIGRlcHJlY2F0ZWQsIHVzZSBcXCd4LCB5LCB3aWR0aCwgaGVpZ2h0XFwnIGluc3RlYWQuJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB4O1xuICAgICAgICAgICAgeCA9IHJlY3QueDtcbiAgICAgICAgICAgIHkgPSByZWN0Lnk7XG4gICAgICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkgPSB0aGlzLnJlbmRlclRhcmdldC5oZWlnaHQgLSAoeSArIChoZWlnaHQgfHwgMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgbmljZSBudW1iZXJzIHRvIHdvcmsgd2l0aFxuICAgICAgICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgICAgICAgeSA9IE1hdGguZmxvb3IoeSk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5mbG9vcihNYXRoLm1heCh3aWR0aCB8fCAxLCAxKSk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoaGVpZ2h0IHx8IDEsIDEpKTtcblxuICAgICAgICAvLyBiYWNrdXAgYWN0aXZlIHJlbmRlciB0YXJnZXRcbiAgICAgICAgY29uc3Qgb3JpZ1JlbmRlclRhcmdldCA9IGRldmljZS5yZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgRGVidWdHcmFwaGljcy5wdXNoR3B1TWFya2VyKGRldmljZSwgJ1BJQ0tFUicpO1xuXG4gICAgICAgIC8vIFJlYWR5IHRoZSBkZXZpY2UgZm9yIHJlbmRlcmluZyB0byB0aGUgcGljayBidWZmZXJcbiAgICAgICAgZGV2aWNlLnNldFJlbmRlclRhcmdldCh0aGlzLnJlbmRlclRhcmdldCk7XG4gICAgICAgIGRldmljZS51cGRhdGVCZWdpbigpO1xuXG4gICAgICAgIGNvbnN0IHBpeGVscyA9IG5ldyBVaW50OEFycmF5KDQgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIGRldmljZS5yZWFkUGl4ZWxzKHgsIHksIHdpZHRoLCBoZWlnaHQsIHBpeGVscyk7XG5cbiAgICAgICAgZGV2aWNlLnVwZGF0ZUVuZCgpO1xuXG4gICAgICAgIC8vIFJlc3RvcmUgcmVuZGVyIHRhcmdldFxuICAgICAgICBkZXZpY2Uuc2V0UmVuZGVyVGFyZ2V0KG9yaWdSZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIERlYnVnR3JhcGhpY3MucG9wR3B1TWFya2VyKGRldmljZSk7XG5cbiAgICAgICAgY29uc3QgbWFwcGluZyA9IHRoaXMubWFwcGluZztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aCAqIGhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByID0gcGl4ZWxzWzQgKiBpICsgMF07XG4gICAgICAgICAgICBjb25zdCBnID0gcGl4ZWxzWzQgKiBpICsgMV07XG4gICAgICAgICAgICBjb25zdCBiID0gcGl4ZWxzWzQgKiBpICsgMl07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHIgPDwgMTYgfCBnIDw8IDggfCBiO1xuXG4gICAgICAgICAgICAvLyBXaGl0ZSBpcyAnbm8gc2VsZWN0aW9uJ1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAweGZmZmZmZikge1xuICAgICAgICAgICAgICAgIHRlbXBTZXQuYWRkKG1hcHBpbmdbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiB0aGUgY29udGVudCBvZiB0aGUgc2V0IGFzIGFuIGFycmF5XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICB0ZW1wU2V0LmZvckVhY2gobWVzaEluc3RhbmNlID0+IHNlbGVjdGlvbi5wdXNoKG1lc2hJbnN0YW5jZSkpO1xuICAgICAgICB0ZW1wU2V0LmNsZWFyKCk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgICB9XG5cbiAgICBhbGxvY2F0ZVJlbmRlclRhcmdldCgpIHtcblxuICAgICAgICBjb25zdCBjb2xvckJ1ZmZlciA9IG5ldyBUZXh0dXJlKHRoaXMuZGV2aWNlLCB7XG4gICAgICAgICAgICBmb3JtYXQ6IFBJWEVMRk9STUFUX1I4X0c4X0I4X0E4LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWlwbWFwczogZmFsc2UsXG4gICAgICAgICAgICBtaW5GaWx0ZXI6IEZJTFRFUl9ORUFSRVNULFxuICAgICAgICAgICAgbWFnRmlsdGVyOiBGSUxURVJfTkVBUkVTVCxcbiAgICAgICAgICAgIGFkZHJlc3NVOiBBRERSRVNTX0NMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICBhZGRyZXNzVjogQUREUkVTU19DTEFNUF9UT19FREdFLFxuICAgICAgICAgICAgbmFtZTogJ3BpY2snXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICAgICAgICBjb2xvckJ1ZmZlcjogY29sb3JCdWZmZXIsXG4gICAgICAgICAgICBkZXB0aDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWxlYXNlUmVuZGVyVGFyZ2V0KCkge1xuXG4gICAgICAgIC8vIHVuc2V0IGl0IGZyb20gdGhlIGNhbWVyYVxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEucmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQuZGVzdHJveVRleHR1cmVCdWZmZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRMYXllckNvbXBvc2l0aW9uKCkge1xuXG4gICAgICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc3QgcGlja0NvbG9ySWQgPSBkZXZpY2Uuc2NvcGUucmVzb2x2ZSgndUNvbG9yJyk7XG5cbiAgICAgICAgLy8gY2FtZXJhXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5ID0gbmV3IEVudGl0eSgpO1xuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5hZGRDb21wb25lbnQoJ2NhbWVyYScpO1xuXG4gICAgICAgIC8vIGxheWVyIGFsbCBtZXNoZXMgcmVuZGVyZWQgZm9yIHBpY2tpbmcgYXQgYWRkZWQgdG9cbiAgICAgICAgdGhpcy5sYXllciA9IG5ldyBMYXllcih7XG4gICAgICAgICAgICBuYW1lOiAnUGlja2VyJyxcbiAgICAgICAgICAgIHNoYWRlclBhc3M6IFNIQURFUl9QSUNLLFxuICAgICAgICAgICAgb3BhcXVlU29ydE1vZGU6IFNPUlRNT0RFX05PTkUsXG5cbiAgICAgICAgICAgIC8vIGV4ZWN1dGVzIGp1c3QgYmVmb3JlIHRoZSBtZXNoIGlzIHJlbmRlcmVkLiBBbmQgaW5kZXggZW5jb2RlZCBpbiByZ2IgaXMgYXNzaWduZWQgdG8gaXRcbiAgICAgICAgICAgIG9uRHJhd0NhbGw6IGZ1bmN0aW9uIChtZXNoSW5zdGFuY2UsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5waWNrQ29sb3JbMF0gPSAoKGluZGV4ID4+IDE2KSAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICAgICAgICAgIHNlbGYucGlja0NvbG9yWzFdID0gKChpbmRleCA+PiA4KSAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICAgICAgICAgIHNlbGYucGlja0NvbG9yWzJdID0gKGluZGV4ICYgMHhmZikgLyAyNTU7XG4gICAgICAgICAgICAgICAgcGlja0NvbG9ySWQuc2V0VmFsdWUoc2VsZi5waWNrQ29sb3IpO1xuICAgICAgICAgICAgICAgIGRldmljZS5zZXRCbGVuZGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBpbmRleCAtPiBtZXNoSW5zdGFuY2UgaW5kZXggbWFwcGluZ1xuICAgICAgICAgICAgICAgIHNlbGYubWFwcGluZ1tpbmRleF0gPSBtZXNoSW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxheWVyLmFkZENhbWVyYSh0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEpO1xuXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uXG4gICAgICAgIHRoaXMubGF5ZXJDb21wID0gbmV3IExheWVyQ29tcG9zaXRpb24oJ3BpY2tlcicpO1xuICAgICAgICB0aGlzLmxheWVyQ29tcC5wdXNoT3BhcXVlKHRoaXMubGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByaW1lcyB0aGUgcGljayBidWZmZXIgd2l0aCBhIHJlbmRlcmluZyBvZiB0aGUgc3BlY2lmaWVkIG1vZGVscyBmcm9tIHRoZSBwb2ludCBvZiB2aWV3IG9mXG4gICAgICogdGhlIHN1cHBsaWVkIGNhbWVyYS4gT25jZSB0aGUgcGljayBidWZmZXIgaGFzIGJlZW4gcHJlcGFyZWQsIHtAbGluayBQaWNrZXIjZ2V0U2VsZWN0aW9ufSBjYW5cbiAgICAgKiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgcGlja2VyIG9iamVjdC4gVGhlcmVmb3JlLCBpZiB0aGUgbW9kZWxzIG9yIGNhbWVyYSBkb1xuICAgICAqIG5vdCBjaGFuZ2UgaW4gYW55IHdheSwge0BsaW5rIFBpY2tlciNwcmVwYXJlfSBkb2VzIG5vdCBuZWVkIHRvIGJlIGNhbGxlZCBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FtZXJhQ29tcG9uZW50fSBjYW1lcmEgLSBUaGUgY2FtZXJhIGNvbXBvbmVudCB1c2VkIHRvIHJlbmRlciB0aGUgc2NlbmUuXG4gICAgICogQHBhcmFtIHtTY2VuZX0gc2NlbmUgLSBUaGUgc2NlbmUgY29udGFpbmluZyB0aGUgcGlja2FibGUgbWVzaCBpbnN0YW5jZXMuXG4gICAgICogQHBhcmFtIHtMYXllcltdfSBbbGF5ZXJzXSAtIExheWVycyBmcm9tIHdoaWNoIG9iamVjdHMgd2lsbCBiZSBwaWNrZWQuIElmIG5vdCBzdXBwbGllZCwgYWxsIGxheWVycyBvZiB0aGUgc3BlY2lmaWVkIGNhbWVyYSB3aWxsIGJlIHVzZWQuXG4gICAgICovXG4gICAgcHJlcGFyZShjYW1lcmEsIHNjZW5lLCBsYXllcnMpIHtcblxuICAgICAgICAvLyBoYW5kbGUgZGVwcmVjYXRlZCBhcmd1bWVudHNcbiAgICAgICAgaWYgKGNhbWVyYSBpbnN0YW5jZW9mIENhbWVyYSkge1xuICAgICAgICAgICAgRGVidWcuZGVwcmVjYXRlZCgncGMuUGlja2VyI3ByZXBhcmUgbm93IHRha2VzIHBjLkNhbWVyYUNvbXBvbmVudCBhcyBmaXJzdCBhcmd1bWVudC4gUGFzc2luZyBwYy5DYW1lcmEgaXMgZGVwcmVjYXRlZC4nKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjYW1lcmEgY29tcG9uZW50XG4gICAgICAgICAgICBjYW1lcmEgPSBjYW1lcmEubm9kZS5jYW1lcmE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGF5ZXJzIGluc3RhbmNlb2YgTGF5ZXIpIHtcbiAgICAgICAgICAgIGxheWVycyA9IFtsYXllcnNdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcG9wdWxhdGUgdGhlIGxheWVyIHdpdGggbWVzaGVzIGFuZCBkZXB0aCBjbGVhciBjb21tYW5kc1xuICAgICAgICB0aGlzLmxheWVyLmNsZWFyTWVzaEluc3RhbmNlcygpO1xuICAgICAgICBjb25zdCBkZXN0TWVzaEluc3RhbmNlcyA9IHRoaXMubGF5ZXIub3BhcXVlTWVzaEluc3RhbmNlcztcblxuICAgICAgICAvLyBzb3VyY2UgbWVzaCBpbnN0YW5jZXNcbiAgICAgICAgY29uc3Qgc3JjTGF5ZXJzID0gc2NlbmUubGF5ZXJzLmxheWVyTGlzdDtcbiAgICAgICAgY29uc3Qgc3ViTGF5ZXJFbmFibGVkID0gc2NlbmUubGF5ZXJzLnN1YkxheWVyRW5hYmxlZDtcbiAgICAgICAgY29uc3QgaXNUcmFuc3BhcmVudCA9IHNjZW5lLmxheWVycy5zdWJMYXllckxpc3Q7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmNMYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNyY0xheWVyID0gc3JjTGF5ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBza2lwIHRoZSBsYXllciBpZiBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgcHJvdmlkZWQgb25lc1xuICAgICAgICAgICAgaWYgKGxheWVycyAmJiBsYXllcnMuaW5kZXhPZihzcmNMYXllcikgPCAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzcmNMYXllci5lbmFibGVkICYmIHN1YkxheWVyRW5hYmxlZFtpXSkge1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGxheWVyIGlzIHJlbmRlcmVkIGJ5IHRoZSBjYW1lcmFcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllckNhbUlkID0gc3JjTGF5ZXIuY2FtZXJhcy5pbmRleE9mKGNhbWVyYSk7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyQ2FtSWQgPj0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBsYXllciBjbGVhcnMgdGhlIGRlcHRoLCBhZGQgY29tbWFuZCB0byBjbGVhciBpdFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjTGF5ZXIuX2NsZWFyRGVwdGhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RNZXNoSW5zdGFuY2VzLnB1c2godGhpcy5jbGVhckRlcHRoQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjb3B5IGFsbCBwaWNrYWJsZSBtZXNoIGluc3RhbmNlc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoSW5zdGFuY2VzID0gaXNUcmFuc3BhcmVudFtpXSA/IHNyY0xheWVyLmluc3RhbmNlcy50cmFuc3BhcmVudE1lc2hJbnN0YW5jZXMgOiBzcmNMYXllci5pbnN0YW5jZXMub3BhcXVlTWVzaEluc3RhbmNlcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtZXNoSW5zdGFuY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoSW5zdGFuY2UgPSBtZXNoSW5zdGFuY2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc2hJbnN0YW5jZS5waWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdE1lc2hJbnN0YW5jZXMucHVzaChtZXNoSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSB0aGUgcmVuZGVyIHRhcmdldCB0aGUgcmlnaHQgc2l6ZVxuICAgICAgICBpZiAoIXRoaXMucmVuZGVyVGFyZ2V0IHx8ICh0aGlzLndpZHRoICE9PSB0aGlzLnJlbmRlclRhcmdldC53aWR0aCB8fCB0aGlzLmhlaWdodCAhPT0gdGhpcy5yZW5kZXJUYXJnZXQuaGVpZ2h0KSkge1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlUmVuZGVyVGFyZ2V0KCk7XG4gICAgICAgICAgICB0aGlzLmFsbG9jYXRlUmVuZGVyVGFyZ2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcmVwYXJlIHRoZSByZW5kZXJpbmcgY2FtZXJhXG4gICAgICAgIHRoaXMudXBkYXRlQ2FtZXJhKGNhbWVyYSk7XG5cbiAgICAgICAgLy8gY2xlYXIgcmVnaXN0ZXJlZCBtZXNoZXMgbWFwcGluZ1xuICAgICAgICB0aGlzLm1hcHBpbmcubGVuZ3RoID0gMDtcblxuICAgICAgICAvLyByZW5kZXJcbiAgICAgICAgdGhpcy5hcHAucmVuZGVyQ29tcG9zaXRpb24odGhpcy5sYXllckNvbXApO1xuICAgIH1cblxuICAgIHVwZGF0ZUNhbWVyYShzcmNDYW1lcmEpIHtcblxuICAgICAgICAvLyBjb3B5IHRyYW5zZm9ybVxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jb3B5KHNyY0NhbWVyYS5lbnRpdHkpO1xuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5uYW1lID0gJ1BpY2tlckNhbWVyYSc7XG5cbiAgICAgICAgLy8gY29weSBjYW1lcmEgY29tcG9uZW50IHByb3BlcnRpZXMgLSB3aGljaCBvdmVyd3JpdGVzIGZldyBwcm9wZXJ0aWVzIHdlIGNoYW5nZSB0byB3aGF0IGlzIG5lZWRlZCBsYXRlclxuICAgICAgICBjb25zdCBkZXN0Q2FtZXJhID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgICAgICBkZXN0Q2FtZXJhLmNvcHkoc3JjQ2FtZXJhKTtcblxuICAgICAgICAvLyBzZXQgdXAgY2xlYXJzXG4gICAgICAgIGRlc3RDYW1lcmEuY2xlYXJDb2xvckJ1ZmZlciA9IHRydWU7XG4gICAgICAgIGRlc3RDYW1lcmEuY2xlYXJEZXB0aEJ1ZmZlciA9IHRydWU7XG4gICAgICAgIGRlc3RDYW1lcmEuY2xlYXJTdGVuY2lsQnVmZmVyID0gdHJ1ZTtcbiAgICAgICAgZGVzdENhbWVyYS5jbGVhckNvbG9yID0gQ29sb3IuV0hJVEU7XG5cbiAgICAgICAgLy8gcmVuZGVyIHRhcmdldFxuICAgICAgICBkZXN0Q2FtZXJhLnJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIC8vIGxheWVyc1xuICAgICAgICB0aGlzLmxheWVyLmNsZWFyQ2FtZXJhcygpO1xuICAgICAgICB0aGlzLmxheWVyLmFkZENhbWVyYShkZXN0Q2FtZXJhKTtcbiAgICAgICAgZGVzdENhbWVyYS5sYXllcnMgPSBbdGhpcy5sYXllci5pZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgcGljayBidWZmZXIuIFRoZSBwaWNrIGJ1ZmZlciByZXNvbHV0aW9uIGRvZXMgbm90IG5lZWQgdG8gbWF0Y2hcbiAgICAgKiB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgY29ycmVzcG9uZGluZyBmcmFtZSBidWZmZXIgdXNlIGZvciBnZW5lcmFsIHJlbmRlcmluZyBvZiB0aGUgM0Qgc2NlbmUuXG4gICAgICogSG93ZXZlciwgdGhlIGxvd2VyIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBwaWNrIGJ1ZmZlciwgdGhlIGxlc3MgYWNjdXJhdGUgdGhlIHNlbGVjdGlvblxuICAgICAqIHJlc3VsdHMgcmV0dXJuZWQgYnkge0BsaW5rIFBpY2tlciNnZXRTZWxlY3Rpb259LiBPbiB0aGUgb3RoZXIgaGFuZCwgc21hbGxlciBwaWNrIGJ1ZmZlcnNcbiAgICAgKiB3aWxsIHlpZWxkIGdyZWF0ZXIgcGVyZm9ybWFuY2UsIHNvIHRoZXJlIGlzIGEgdHJhZGUgb2ZmLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBwaWNrIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHBpY2sgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcih3aWR0aCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihoZWlnaHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgUGlja2VyIH07XG4iXSwibmFtZXMiOlsidGVtcFNldCIsIlNldCIsImNsZWFyRGVwdGhPcHRpb25zIiwiZGVwdGgiLCJmbGFncyIsIkNMRUFSRkxBR19ERVBUSCIsIlBpY2tlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwid2lkdGgiLCJoZWlnaHQiLCJHcmFwaGljc0RldmljZSIsImdldEFwcGxpY2F0aW9uIiwiRGVidWciLCJkZXByZWNhdGVkIiwiZGV2aWNlIiwiZ3JhcGhpY3NEZXZpY2UiLCJwaWNrQ29sb3IiLCJGbG9hdDMyQXJyYXkiLCJtYXBwaW5nIiwiY2FtZXJhRW50aXR5IiwibGF5ZXIiLCJsYXllckNvbXAiLCJpbml0TGF5ZXJDb21wb3NpdGlvbiIsIl9yZW5kZXJUYXJnZXQiLCJjbGVhckRlcHRoQ29tbWFuZCIsIkNvbW1hbmQiLCJjbGVhciIsInJlc2l6ZSIsImdldFNlbGVjdGlvbiIsIngiLCJ5IiwicmVjdCIsInJlbmRlclRhcmdldCIsIk1hdGgiLCJmbG9vciIsIm1heCIsIm9yaWdSZW5kZXJUYXJnZXQiLCJEZWJ1Z0dyYXBoaWNzIiwicHVzaEdwdU1hcmtlciIsInNldFJlbmRlclRhcmdldCIsInVwZGF0ZUJlZ2luIiwicGl4ZWxzIiwiVWludDhBcnJheSIsInJlYWRQaXhlbHMiLCJ1cGRhdGVFbmQiLCJwb3BHcHVNYXJrZXIiLCJpIiwiciIsImciLCJiIiwiaW5kZXgiLCJhZGQiLCJzZWxlY3Rpb24iLCJmb3JFYWNoIiwibWVzaEluc3RhbmNlIiwicHVzaCIsImFsbG9jYXRlUmVuZGVyVGFyZ2V0IiwiY29sb3JCdWZmZXIiLCJUZXh0dXJlIiwiZm9ybWF0IiwiUElYRUxGT1JNQVRfUjhfRzhfQjhfQTgiLCJtaXBtYXBzIiwibWluRmlsdGVyIiwiRklMVEVSX05FQVJFU1QiLCJtYWdGaWx0ZXIiLCJhZGRyZXNzVSIsIkFERFJFU1NfQ0xBTVBfVE9fRURHRSIsImFkZHJlc3NWIiwibmFtZSIsIlJlbmRlclRhcmdldCIsInJlbGVhc2VSZW5kZXJUYXJnZXQiLCJjYW1lcmEiLCJkZXN0cm95VGV4dHVyZUJ1ZmZlcnMiLCJkZXN0cm95Iiwic2VsZiIsInBpY2tDb2xvcklkIiwic2NvcGUiLCJyZXNvbHZlIiwiRW50aXR5IiwiYWRkQ29tcG9uZW50IiwiTGF5ZXIiLCJzaGFkZXJQYXNzIiwiU0hBREVSX1BJQ0siLCJvcGFxdWVTb3J0TW9kZSIsIlNPUlRNT0RFX05PTkUiLCJvbkRyYXdDYWxsIiwic2V0VmFsdWUiLCJzZXRCbGVuZGluZyIsImFkZENhbWVyYSIsIkxheWVyQ29tcG9zaXRpb24iLCJwdXNoT3BhcXVlIiwicHJlcGFyZSIsInNjZW5lIiwibGF5ZXJzIiwiQ2FtZXJhIiwibm9kZSIsImNsZWFyTWVzaEluc3RhbmNlcyIsImRlc3RNZXNoSW5zdGFuY2VzIiwib3BhcXVlTWVzaEluc3RhbmNlcyIsInNyY0xheWVycyIsImxheWVyTGlzdCIsInN1YkxheWVyRW5hYmxlZCIsImlzVHJhbnNwYXJlbnQiLCJzdWJMYXllckxpc3QiLCJsZW5ndGgiLCJzcmNMYXllciIsImluZGV4T2YiLCJlbmFibGVkIiwibGF5ZXJDYW1JZCIsImNhbWVyYXMiLCJfY2xlYXJEZXB0aEJ1ZmZlciIsIm1lc2hJbnN0YW5jZXMiLCJpbnN0YW5jZXMiLCJ0cmFuc3BhcmVudE1lc2hJbnN0YW5jZXMiLCJqIiwicGljayIsInVwZGF0ZUNhbWVyYSIsInJlbmRlckNvbXBvc2l0aW9uIiwic3JjQ2FtZXJhIiwiY29weSIsImVudGl0eSIsImRlc3RDYW1lcmEiLCJjbGVhckNvbG9yQnVmZmVyIiwiY2xlYXJEZXB0aEJ1ZmZlciIsImNsZWFyU3RlbmNpbEJ1ZmZlciIsImNsZWFyQ29sb3IiLCJDb2xvciIsIldISVRFIiwiY2xlYXJDYW1lcmFzIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBLE1BQU1BLE9BQU8sR0FBRyxJQUFJQyxHQUFHLEVBQUUsQ0FBQTtBQUV6QixNQUFNQyxpQkFBaUIsR0FBRztBQUN0QkMsRUFBQUEsS0FBSyxFQUFFLEdBQUc7QUFDVkMsRUFBQUEsS0FBSyxFQUFFQyxlQUFBQTtBQUNYLENBQUMsQ0FBQTs7QUFVRCxNQUFNQyxNQUFNLENBQUM7QUFRVEMsRUFBQUEsV0FBVyxDQUFDQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFO0lBQzVCLElBQUlGLEdBQUcsWUFBWUcsY0FBYyxFQUFFO01BQy9CSCxHQUFHLEdBQUdJLGNBQWMsRUFBRSxDQUFBO0FBQ3RCQyxNQUFBQSxLQUFLLENBQUNDLFVBQVUsQ0FBQyw0RkFBNEYsQ0FBQyxDQUFBO0FBQ2xILEtBQUE7SUFFQSxJQUFJLENBQUNOLEdBQUcsR0FBR0EsR0FBRyxDQUFBO0FBQ2QsSUFBQSxJQUFJLENBQUNPLE1BQU0sR0FBR1AsR0FBRyxDQUFDUSxjQUFjLENBQUE7O0FBR2hDLElBQUEsSUFBSSxD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
