/**
 * @license
 * PlayCanvas Engine v1.62.0 revision 818511d2b (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { Debug, DebugHelper } from '../../../core/debug.js';
import { SHADERLANGUAGE_WGSL } from '../constants.js';
import { ShaderProcessor } from '../shader-processor.js';
import { WebgpuDebug } from './webgpu-debug.js';

/**
 * A WebGPU implementation of the Shader.
 *
 * @ignore
 */
class WebgpuShader {
  /**
   * Transpiled vertex shader code.
   *
   * @type {Uint32Array | string}
   */

  /**
   * Transpiled fragment shader code.
   *
   * @type {Uint32Array | string}
   */

  /**
   * Name of the vertex entry point function.
   */

  /**
   * Name of the fragment entry point function.
   */

  /**
   * @param {import('../shader.js').Shader} shader - The shader.
   */
  constructor(shader) {
    this._vertexCode = void 0;
    this._fragmentCode = void 0;
    this.vertexEntryPoint = 'main';
    this.fragmentEntryPoint = 'main';
    /** @type {import('../shader.js').Shader} */
    this.shader = shader;
    const definition = shader.definition;
    Debug.assert(definition);
    if (definition.shaderLanguage === SHADERLANGUAGE_WGSL) {
      this._vertexCode = definition.vshader;
      this._fragmentCode = definition.fshader;
      this.vertexEntryPoint = 'vertexMain';
      this.fragmentEntryPoint = 'fragmentMain';
      shader.ready = true;
    } else {
      if (definition.processingOptions) {
        this.process();
      }
    }
  }

  /**
   * Free the WebGPU resources associated with a shader.
   *
   * @param {import('../shader.js').Shader} shader - The shader to free.
   */
  destroy(shader) {
    this._vertexCode = null;
    this._fragmentCode = null;
  }
  createShaderModule(code, shaderType) {
    const device = this.shader.device;
    const wgpu = device.wgpu;
    WebgpuDebug.validate(device);
    const shaderModule = wgpu.createShaderModule({
      code: code
    });
    DebugHelper.setLabel(shaderModule, `${shaderType}:${this.shader.label}`);
    WebgpuDebug.end(device, {
      shaderType,
      source: code,
      shader: this.shader
    });
    return shaderModule;
  }
  getVertexShaderModule() {
    return this.createShaderModule(this._vertexCode, 'Vertex');
  }
  getFragmentShaderModule() {
    return this.createShaderModule(this._fragmentCode, 'Fragment');
  }
  process() {
    const shader = this.shader;

    // process the shader source to allow for uniforms
    const processed = ShaderProcessor.run(shader.device, shader.definition, shader);

    // keep reference to processed shaders in debug mode
    Debug.call(() => {
      this.processed = processed;
    });
    this._vertexCode = this.transpile(processed.vshader, 'vertex', shader.definition.vshader);
    this._fragmentCode = this.transpile(processed.fshader, 'fragment', shader.definition.fshader);
    if (!(this._vertexCode && this._fragmentCode)) {
      shader.failed = true;
    } else {
      shader.ready = true;
    }
    shader.meshUniformBufferFormat = processed.meshUniformBufferFormat;
    shader.meshBindGroupFormat = processed.meshBindGroupFormat;
  }
  transpile(src, shaderType, originalSrc) {
    try {
      const spirv = this.shader.device.glslang.compileGLSL(src, shaderType);
      return this.shader.device.twgsl.convertSpirV2WGSL(spirv);
    } catch (err) {
      console.error(`Failed to transpile webgl ${shaderType} shader [${this.shader.label}] to WebGPU: [${err.message}]`, {
        processed: src,
        original: originalSrc,
        shader: this.shader
      });
    }
  }
  get vertexCode() {
    Debug.assert(this._vertexCode);
    return this._vertexCode;
  }
  get fragmentCode() {
    Debug.assert(this._fragmentCode);
    return this._fragmentCode;
  }

  /**
   * Dispose the shader when the context has been lost.
   */
  loseContext() {}

  /**
   * Restore shader after the context has been obtained.
   *
   * @param {import('../graphics-device.js').GraphicsDevice} device - The graphics device.
   * @param {import('../shader.js').Shader} shader - The shader to restore.
   */
  restoreContext(device, shader) {}
}

export { WebgpuShader };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ3B1LXNoYWRlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3BsYXRmb3JtL2dyYXBoaWNzL3dlYmdwdS93ZWJncHUtc2hhZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVnLCBEZWJ1Z0hlbHBlciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvZGVidWcuanMnO1xuaW1wb3J0IHsgU0hBREVSTEFOR1VBR0VfV0dTTCB9IGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCB7IFNoYWRlclByb2Nlc3NvciB9IGZyb20gJy4uL3NoYWRlci1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHsgV2ViZ3B1RGVidWcgfSBmcm9tICcuL3dlYmdwdS1kZWJ1Zy5qcyc7XG5cbi8qKlxuICogQSBXZWJHUFUgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNoYWRlci5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIFdlYmdwdVNoYWRlciB7XG4gICAgLyoqXG4gICAgICogVHJhbnNwaWxlZCB2ZXJ0ZXggc2hhZGVyIGNvZGUuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7VWludDMyQXJyYXkgfCBzdHJpbmd9XG4gICAgICovXG4gICAgX3ZlcnRleENvZGU7XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc3BpbGVkIGZyYWdtZW50IHNoYWRlciBjb2RlLlxuICAgICAqXG4gICAgICogQHR5cGUge1VpbnQzMkFycmF5IHwgc3RyaW5nfVxuICAgICAqL1xuICAgIF9mcmFnbWVudENvZGU7XG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSB2ZXJ0ZXggZW50cnkgcG9pbnQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmVydGV4RW50cnlQb2ludCA9ICdtYWluJztcblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGZyYWdtZW50IGVudHJ5IHBvaW50IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZyYWdtZW50RW50cnlQb2ludCA9ICdtYWluJztcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zaGFkZXIuanMnKS5TaGFkZXJ9IHNoYWRlciAtIFRoZSBzaGFkZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2hhZGVyKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9zaGFkZXIuanMnKS5TaGFkZXJ9ICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBzaGFkZXIuZGVmaW5pdGlvbjtcbiAgICAgICAgRGVidWcuYXNzZXJ0KGRlZmluaXRpb24pO1xuXG4gICAgICAgIGlmIChkZWZpbml0aW9uLnNoYWRlckxhbmd1YWdlID09PSBTSEFERVJMQU5HVUFHRV9XR1NMKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3ZlcnRleENvZGUgPSBkZWZpbml0aW9uLnZzaGFkZXI7XG4gICAgICAgICAgICB0aGlzLl9mcmFnbWVudENvZGUgPSBkZWZpbml0aW9uLmZzaGFkZXI7XG4gICAgICAgICAgICB0aGlzLnZlcnRleEVudHJ5UG9pbnQgPSAndmVydGV4TWFpbic7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50RW50cnlQb2ludCA9ICdmcmFnbWVudE1haW4nO1xuICAgICAgICAgICAgc2hhZGVyLnJlYWR5ID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5wcm9jZXNzaW5nT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZSB0aGUgV2ViR1BVIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggYSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vc2hhZGVyLmpzJykuU2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyIHRvIGZyZWUuXG4gICAgICovXG4gICAgZGVzdHJveShzaGFkZXIpIHtcbiAgICAgICAgdGhpcy5fdmVydGV4Q29kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYWdtZW50Q29kZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY3JlYXRlU2hhZGVyTW9kdWxlKGNvZGUsIHNoYWRlclR5cGUpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5zaGFkZXIuZGV2aWNlO1xuICAgICAgICBjb25zdCB3Z3B1ID0gZGV2aWNlLndncHU7XG5cbiAgICAgICAgV2ViZ3B1RGVidWcudmFsaWRhdGUoZGV2aWNlKTtcblxuICAgICAgICBjb25zdCBzaGFkZXJNb2R1bGUgPSB3Z3B1LmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICAgICAgICBjb2RlOiBjb2RlXG4gICAgICAgIH0pO1xuICAgICAgICBEZWJ1Z0hlbHBlci5zZXRMYWJlbChzaGFkZXJNb2R1bGUsIGAke3NoYWRlclR5cGV9OiR7dGhpcy5zaGFkZXIubGFiZWx9YCk7XG5cbiAgICAgICAgV2ViZ3B1RGVidWcuZW5kKGRldmljZSwge1xuICAgICAgICAgICAgc2hhZGVyVHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogY29kZSxcbiAgICAgICAgICAgIHNoYWRlcjogdGhpcy5zaGFkZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNoYWRlck1vZHVsZTtcbiAgICB9XG5cbiAgICBnZXRWZXJ0ZXhTaGFkZXJNb2R1bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNoYWRlck1vZHVsZSh0aGlzLl92ZXJ0ZXhDb2RlLCAnVmVydGV4Jyk7XG4gICAgfVxuXG4gICAgZ2V0RnJhZ21lbnRTaGFkZXJNb2R1bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNoYWRlck1vZHVsZSh0aGlzLl9mcmFnbWVudENvZGUsICdGcmFnbWVudCcpO1xuICAgIH1cblxuICAgIHByb2Nlc3MoKSB7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIC8vIHByb2Nlc3MgdGhlIHNoYWRlciBzb3VyY2UgdG8gYWxsb3cgZm9yIHVuaWZvcm1zXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IFNoYWRlclByb2Nlc3Nvci5ydW4oc2hhZGVyLmRldmljZSwgc2hhZGVyLmRlZmluaXRpb24sIHNoYWRlcik7XG5cbiAgICAgICAgLy8ga2VlcCByZWZlcmVuY2UgdG8gcHJvY2Vzc2VkIHNoYWRlcnMgaW4gZGVidWcgbW9kZVxuICAgICAgICBEZWJ1Zy5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkID0gcHJvY2Vzc2VkO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl92ZXJ0ZXhDb2RlID0gdGhpcy50cmFuc3BpbGUocHJvY2Vzc2VkLnZzaGFkZXIsICd2ZXJ0ZXgnLCBzaGFkZXIuZGVmaW5pdGlvbi52c2hhZGVyKTtcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRDb2RlID0gdGhpcy50cmFuc3BpbGUocHJvY2Vzc2VkLmZzaGFkZXIsICdmcmFnbWVudCcsIHNoYWRlci5kZWZpbml0aW9uLmZzaGFkZXIpO1xuXG4gICAgICAgIGlmICghKHRoaXMuX3ZlcnRleENvZGUgJiYgdGhpcy5fZnJhZ21lbnRDb2RlKSkge1xuICAgICAgICAgICAgc2hhZGVyLmZhaWxlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaGFkZXIucmVhZHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZGVyLm1lc2hVbmlmb3JtQnVmZmVyRm9ybWF0ID0gcHJvY2Vzc2VkLm1lc2hVbmlmb3JtQnVmZmVyRm9ybWF0O1xuICAgICAgICBzaGFkZXIubWVzaEJpbmRHcm91cEZvcm1hdCA9IHByb2Nlc3NlZC5tZXNoQmluZEdyb3VwRm9ybWF0O1xuICAgIH1cblxuICAgIHRyYW5zcGlsZShzcmMsIHNoYWRlclR5cGUsIG9yaWdpbmFsU3JjKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzcGlydiA9IHRoaXMuc2hhZGVyLmRldmljZS5nbHNsYW5nLmNvbXBpbGVHTFNMKHNyYywgc2hhZGVyVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIuZGV2aWNlLnR3Z3NsLmNvbnZlcnRTcGlyVjJXR1NMKHNwaXJ2KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdHJhbnNwaWxlIHdlYmdsICR7c2hhZGVyVHlwZX0gc2hhZGVyIFske3RoaXMuc2hhZGVyLmxhYmVsfV0gdG8gV2ViR1BVOiBbJHtlcnIubWVzc2FnZX1dYCwge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogc3JjLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiBvcmlnaW5hbFNyYyxcbiAgICAgICAgICAgICAgICBzaGFkZXI6IHRoaXMuc2hhZGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCB2ZXJ0ZXhDb2RlKCkge1xuICAgICAgICBEZWJ1Zy5hc3NlcnQodGhpcy5fdmVydGV4Q29kZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhDb2RlO1xuICAgIH1cblxuICAgIGdldCBmcmFnbWVudENvZGUoKSB7XG4gICAgICAgIERlYnVnLmFzc2VydCh0aGlzLl9mcmFnbWVudENvZGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJhZ21lbnRDb2RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgdGhlIHNoYWRlciB3aGVuIHRoZSBjb250ZXh0IGhhcyBiZWVuIGxvc3QuXG4gICAgICovXG4gICAgbG9zZUNvbnRleHQoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZSBzaGFkZXIgYWZ0ZXIgdGhlIGNvbnRleHQgaGFzIGJlZW4gb2J0YWluZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vZ3JhcGhpY3MtZGV2aWNlLmpzJykuR3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZSBncmFwaGljcyBkZXZpY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uL3NoYWRlci5qcycpLlNoYWRlcn0gc2hhZGVyIC0gVGhlIHNoYWRlciB0byByZXN0b3JlLlxuICAgICAqL1xuICAgIHJlc3RvcmVDb250ZXh0KGRldmljZSwgc2hhZGVyKSB7XG4gICAgfVxufVxuXG5leHBvcnQgeyBXZWJncHVTaGFkZXIgfTtcbiJdLCJuYW1lcyI6WyJXZWJncHVTaGFkZXIiLCJjb25zdHJ1Y3RvciIsInNoYWRlciIsIl92ZXJ0ZXhDb2RlIiwiX2ZyYWdtZW50Q29kZSIsInZlcnRleEVudHJ5UG9pbnQiLCJmcmFnbWVudEVudHJ5UG9pbnQiLCJkZWZpbml0aW9uIiwiRGVidWciLCJhc3NlcnQiLCJzaGFkZXJMYW5ndWFnZSIsIlNIQURFUkxBTkdVQUdFX1dHU0wiLCJ2c2hhZGVyIiwiZnNoYWRlciIsInJlYWR5IiwicHJvY2Vzc2luZ09wdGlvbnMiLCJwcm9jZXNzIiwiZGVzdHJveSIsImNyZWF0ZVNoYWRlck1vZHVsZSIsImNvZGUiLCJzaGFkZXJUeXBlIiwiZGV2aWNlIiwid2dwdSIsIldlYmdwdURlYnVnIiwidmFsaWRhdGUiLCJzaGFkZXJNb2R1bGUiLCJEZWJ1Z0hlbHBlciIsInNldExhYmVsIiwibGFiZWwiLCJlbmQiLCJzb3VyY2UiLCJnZXRWZXJ0ZXhTaGFkZXJNb2R1bGUiLCJnZXRGcmFnbWVudFNoYWRlck1vZHVsZSIsInByb2Nlc3NlZCIsIlNoYWRlclByb2Nlc3NvciIsInJ1biIsImNhbGwiLCJ0cmFuc3BpbGUiLCJmYWlsZWQiLCJtZXNoVW5pZm9ybUJ1ZmZlckZvcm1hdCIsIm1lc2hCaW5kR3JvdXBGb3JtYXQiLCJzcmMiLCJvcmlnaW5hbFNyYyIsInNwaXJ2IiwiZ2xzbGFuZyIsImNvbXBpbGVHTFNMIiwidHdnc2wiLCJjb252ZXJ0U3BpclYyV0dTTCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJvcmlnaW5hbCIsInZl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
