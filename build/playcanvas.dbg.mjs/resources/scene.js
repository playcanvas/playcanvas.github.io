/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { SceneUtils } from './scene-utils.js';
import { SceneParser } from './parser/scene.js';

class SceneHandler {
  constructor(app) {
    this.handlerType = "scene";
    this._app = app;
    this.maxRetries = 0;
  }

  load(url, callback) {
    SceneUtils.load(url, this.maxRetries, callback);
  }

  open(url, data) {
    this._app.systems.script.preloading = true;
    const parser = new SceneParser(this._app, false);
    const parent = parser.parse(data);
    const scene = this._app.scene;
    scene.root = parent;

    this._app.applySceneSettings(data.settings);

    this._app.systems.script.preloading = false;
    return scene;
  }

  patch(asset, assets) {}

}

export { SceneHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NlbmUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZXNvdXJjZXMvc2NlbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NlbmVVdGlscyB9IGZyb20gJy4vc2NlbmUtdXRpbHMuanMnO1xuaW1wb3J0IHsgU2NlbmVQYXJzZXIgfSBmcm9tICcuL3BhcnNlci9zY2VuZS5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9mcmFtZXdvcmsvYXBwLWJhc2UuanMnKS5BcHBCYXNlfSBBcHBCYXNlICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi9oYW5kbGVyLmpzJykuUmVzb3VyY2VIYW5kbGVyfSBSZXNvdXJjZUhhbmRsZXIgKi9cblxuLyoqXG4gKiBSZXNvdXJjZSBoYW5kbGVyIHVzZWQgZm9yIGxvYWRpbmcge0BsaW5rIFNjZW5lfSByZXNvdXJjZXMuXG4gKlxuICogQGltcGxlbWVudHMge1Jlc291cmNlSGFuZGxlcn1cbiAqL1xuY2xhc3MgU2NlbmVIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHRoZSByZXNvdXJjZSB0aGUgaGFuZGxlciBoYW5kbGVzLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBoYW5kbGVyVHlwZSA9IFwic2NlbmVcIjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBTY2VuZUhhbmRsZXIgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FwcEJhc2V9IGFwcCAtIFRoZSBydW5uaW5nIHtAbGluayBBcHBCYXNlfS5cbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuX2FwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBsb2FkKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgU2NlbmVVdGlscy5sb2FkKHVybCwgdGhpcy5tYXhSZXRyaWVzLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgb3Blbih1cmwsIGRhdGEpIHtcbiAgICAgICAgLy8gcHJldmVudCBzY3JpcHQgaW5pdGlhbGl6YXRpb24gdW50aWwgZW50aXJlIHNjZW5lIGlzIG9wZW5cbiAgICAgICAgdGhpcy5fYXBwLnN5c3RlbXMuc2NyaXB0LnByZWxvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBTY2VuZVBhcnNlcih0aGlzLl9hcHAsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGFyc2VyLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgIC8vIHNldCBzY2VuZSByb290XG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5fYXBwLnNjZW5lO1xuICAgICAgICBzY2VuZS5yb290ID0gcGFyZW50O1xuXG4gICAgICAgIHRoaXMuX2FwcC5hcHBseVNjZW5lU2V0dGluZ3MoZGF0YS5zZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gcmUtZW5hYmxlIHNjcmlwdCBpbml0aWFsaXphdGlvblxuICAgICAgICB0aGlzLl9hcHAuc3lzdGVtcy5zY3JpcHQucHJlbG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBzY2VuZTtcbiAgICB9XG5cbiAgICBwYXRjaChhc3NldCwgYXNzZXRzKSB7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTY2VuZUhhbmRsZXIgfTtcbiJdLCJuYW1lcyI6WyJTY2VuZUhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImFwcCIsImhhbmRsZXJUeXBlIiwiX2FwcCIsIm1heFJldHJpZXMiLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJTY2VuZVV0aWxzIiwib3BlbiIsImRhdGEiLCJzeXN0ZW1zIiwic2NyaXB0IiwicHJlbG9hZGluZyIsInBhcnNlciIsIlNjZW5lUGFyc2VyIiwicGFyZW50IiwicGFyc2UiLCJzY2VuZSIsInJvb3QiLCJhcHBseVNjZW5lU2V0dGluZ3MiLCJzZXR0aW5ncyIsInBhdGNoIiwiYXNzZXQiLCJhc3NldHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBV0EsTUFBTUEsWUFBTixDQUFtQjtFQWNmQyxXQUFXLENBQUNDLEdBQUQsRUFBTTtJQUFBLElBUmpCQyxDQUFBQSxXQVFpQixHQVJILE9BUUcsQ0FBQTtJQUNiLElBQUtDLENBQUFBLElBQUwsR0FBWUYsR0FBWixDQUFBO0lBQ0EsSUFBS0csQ0FBQUEsVUFBTCxHQUFrQixDQUFsQixDQUFBO0FBQ0gsR0FBQTs7QUFFREMsRUFBQUEsSUFBSSxDQUFDQyxHQUFELEVBQU1DLFFBQU4sRUFBZ0I7SUFDaEJDLFVBQVUsQ0FBQ0gsSUFBWCxDQUFnQkMsR0FBaEIsRUFBcUIsSUFBS0YsQ0FBQUEsVUFBMUIsRUFBc0NHLFFBQXRDLENBQUEsQ0FBQTtBQUNILEdBQUE7O0FBRURFLEVBQUFBLElBQUksQ0FBQ0gsR0FBRCxFQUFNSSxJQUFOLEVBQVk7SUFFWixJQUFLUCxDQUFBQSxJQUFMLENBQVVRLE9BQVYsQ0FBa0JDLE1BQWxCLENBQXlCQyxVQUF6QixHQUFzQyxJQUF0QyxDQUFBO0lBRUEsTUFBTUMsTUFBTSxHQUFHLElBQUlDLFdBQUosQ0FBZ0IsSUFBS1osQ0FBQUEsSUFBckIsRUFBMkIsS0FBM0IsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNYSxNQUFNLEdBQUdGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhUCxJQUFiLENBQWYsQ0FBQTtBQUdBLElBQUEsTUFBTVEsS0FBSyxHQUFHLElBQUtmLENBQUFBLElBQUwsQ0FBVWUsS0FBeEIsQ0FBQTtJQUNBQSxLQUFLLENBQUNDLElBQU4sR0FBYUgsTUFBYixDQUFBOztBQUVBLElBQUEsSUFBQSxDQUFLYixJQUFMLENBQVVpQixrQkFBVixDQUE2QlYsSUFBSSxDQUFDVyxRQUFsQyxDQUFBLENBQUE7O0lBR0EsSUFBS2xCLENBQUFBLElBQUwsQ0FBVVEsT0FBVixDQUFrQkMsTUFBbEIsQ0FBeUJDLFVBQXpCLEdBQXNDLEtBQXRDLENBQUE7QUFFQSxJQUFBLE9BQU9LLEtBQVAsQ0FBQTtBQUNILEdBQUE7O0FBRURJLEVBQUFBLEtBQUssQ0FBQ0MsS0FBRCxFQUFRQyxNQUFSLEVBQWdCLEVBQ3BCOztBQTNDYzs7OzsifQ==
