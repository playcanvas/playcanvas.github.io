/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { type } from '../core/core.js';
import { ACTION_KEYBOARD, ACTION_MOUSE, ACTION_GAMEPAD, PAD_1, PAD_L_STICK_Y, PAD_L_STICK_X, PAD_R_STICK_Y, PAD_R_STICK_X, EVENT_MOUSEMOVE } from './constants.js';
import { Keyboard } from './keyboard.js';
import { Mouse } from './mouse.js';

class Controller {
  constructor(element, options = {}) {
    this._keyboard = options.keyboard || null;
    this._mouse = options.mouse || null;
    this._gamepads = options.gamepads || null;
    this._element = null;
    this._actions = {};
    this._axes = {};
    this._axesValues = {};

    if (element) {
      this.attach(element);
    }
  }

  attach(element) {
    this._element = element;

    if (this._keyboard) {
      this._keyboard.attach(element);
    }

    if (this._mouse) {
      this._mouse.attach(element);
    }
  }

  detach() {
    if (this._keyboard) {
      this._keyboard.detach();
    }

    if (this._mouse) {
      this._mouse.detach();
    }

    this._element = null;
  }

  disableContextMenu() {
    if (!this._mouse) {
      this._enableMouse();
    }

    this._mouse.disableContextMenu();
  }

  enableContextMenu() {
    if (!this._mouse) {
      this._enableMouse();
    }

    this._mouse.enableContextMenu();
  }

  update(dt) {
    if (this._keyboard) {
      this._keyboard.update();
    }

    if (this._mouse) {
      this._mouse.update();
    }

    if (this._gamepads) {
      this._gamepads.update();
    }

    this._axesValues = {};

    for (const key in this._axes) {
      this._axesValues[key] = [];
    }
  }

  appendAction(action_name, action) {
    this._actions[action_name] = this._actions[action_name] || [];

    this._actions[action_name].push(action);
  }

  registerKeys(action, keys) {
    if (!this._keyboard) {
      this._enableKeyboard();
    }

    if (this._actions[action]) {
      throw new Error(`Action: ${action} already registered`);
    }

    if (keys === undefined) {
      throw new Error('Invalid button');
    }

    if (!keys.length) {
      keys = [keys];
    }

    this.appendAction(action, {
      type: ACTION_KEYBOARD,
      keys
    });
  }

  registerMouse(action, button) {
    if (!this._mouse) {
      this._enableMouse();
    }

    if (button === undefined) {
      throw new Error('Invalid button');
    }

    this.appendAction(action, {
      type: ACTION_MOUSE,
      button
    });
  }

  registerPadButton(action, pad, button) {
    if (button === undefined) {
      throw new Error('Invalid button');
    }

    this.appendAction(action, {
      type: ACTION_GAMEPAD,
      button,
      pad
    });
  }

  registerAxis(options) {
    const name = options.name;

    if (!this._axes[name]) {
      this._axes[name] = [];
    }

    const i = this._axes[name].push(name);

    options = options || {};
    options.pad = options.pad || PAD_1;

    const bind = function bind(controller, source, value, key) {
      switch (source) {
        case 'mousex':
          controller._mouse.on(EVENT_MOUSEMOVE, function (e) {
            controller._axesValues[name][i] = e.dx / 10;
          });

          break;

        case 'mousey':
          controller._mouse.on(EVENT_MOUSEMOVE, function (e) {
            controller._axesValues[name][i] = e.dy / 10;
          });

          break;

        case 'key':
          controller._axes[name].push(function () {
            return controller._keyboard.isPressed(key) ? value : 0;
          });

          break;

        case 'padrx':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_R_STICK_X);
          });

          break;

        case 'padry':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_R_STICK_Y);
          });

          break;

        case 'padlx':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_L_STICK_X);
          });

          break;

        case 'padly':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_L_STICK_Y);
          });

          break;

        default:
          throw new Error('Unknown axis');
      }
    };

    bind(this, options.positive, 1, options.positiveKey);

    if (options.negativeKey || options.negative !== options.positive) {
      bind(this, options.negative, -1, options.negativeKey);
    }
  }

  isPressed(actionName) {
    if (!this._actions[actionName]) {
      return false;
    }

    const length = this._actions[actionName].length;

    for (let index = 0; index < length; ++index) {
      const action = this._actions[actionName][index];

      switch (action.type) {
        case ACTION_KEYBOARD:
          if (this._keyboard) {
            const len = action.keys.length;

            for (let i = 0; i < len; i++) {
              if (this._keyboard.isPressed(action.keys[i])) {
                return true;
              }
            }
          }

          break;

        case ACTION_MOUSE:
          if (this._mouse && this._mouse.isPressed(action.button)) {
            return true;
          }

          break;

        case ACTION_GAMEPAD:
          if (this._gamepads && this._gamepads.isPressed(action.pad, action.button)) {
            return true;
          }

          break;
      }
    }

    return false;
  }

  wasPressed(actionName) {
    if (!this._actions[actionName]) {
      return false;
    }

    const length = this._actions[actionName].length;

    for (let index = 0; index < length; ++index) {
      const action = this._actions[actionName][index];

      switch (action.type) {
        case ACTION_KEYBOARD:
          if (this._keyboard) {
            const len = action.keys.length;

            for (let i = 0; i < len; i++) {
              if (this._keyboard.wasPressed(action.keys[i])) {
                return true;
              }
            }
          }

          break;

        case ACTION_MOUSE:
          if (this._mouse && this._mouse.wasPressed(action.button)) {
            return true;
          }

          break;

        case ACTION_GAMEPAD:
          if (this._gamepads && this._gamepads.wasPressed(action.pad, action.button)) {
            return true;
          }

          break;
      }
    }

    return false;
  }

  getAxis(name) {
    let value = 0;

    if (this._axes[name]) {
      const len = this._axes[name].length;

      for (let i = 0; i < len; i++) {
        if (type(this._axes[name][i]) === 'function') {
          const v = this._axes[name][i]();

          if (Math.abs(v) > Math.abs(value)) {
            value = v;
          }
        } else if (this._axesValues[name]) {
          if (Math.abs(this._axesValues[name][i]) > Math.abs(value)) {
            value = this._axesValues[name][i];
          }
        }
      }
    }

    return value;
  }

  _enableMouse() {
    this._mouse = new Mouse();

    if (!this._element) {
      throw new Error('Controller must be attached to an Element');
    }

    this._mouse.attach(this._element);
  }

  _enableKeyboard() {
    this._keyboard = new Keyboard();

    if (!this._element) {
      throw new Error('Controller must be attached to an Element');
    }

    this._keyboard.attach(this._element);
  }

}

export { Controller };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2lucHV0L2NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSB9IGZyb20gJy4uL2NvcmUvY29yZS5qcyc7XG5cbmltcG9ydCB7XG4gICAgQUNUSU9OX0dBTUVQQUQsIEFDVElPTl9LRVlCT0FSRCwgQUNUSU9OX01PVVNFLFxuICAgIEVWRU5UX01PVVNFTU9WRSxcbiAgICBQQURfMSxcbiAgICBQQURfTF9TVElDS19YLCBQQURfTF9TVElDS19ZLCBQQURfUl9TVElDS19YLCBQQURfUl9TVElDS19ZXG59IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuL2tleWJvYXJkLmpzJztcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSAnLi9tb3VzZS5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2dhbWUtcGFkcy5qcycpLkdhbWVQYWRzfSBHYW1lUGFkcyAqL1xuXG4vKipcbiAqIEEgZ2VuZXJhbCBpbnB1dCBoYW5kbGVyIHdoaWNoIGhhbmRsZXMgYm90aCBtb3VzZSBhbmQga2V5Ym9hcmQgaW5wdXQgYXNzaWduZWQgdG8gbmFtZWQgYWN0aW9ucy5cbiAqIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmUgaW5wdXQgaGFuZGxlcnMgc2VwYXJhdGVseSB0byBkZWZpbmluZyBrZXlib2FyZC9tb3VzZSBjb25maWd1cmF0aW9ucy5cbiAqL1xuY2xhc3MgQ29udHJvbGxlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgQ29udHJvbGxlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gW2VsZW1lbnRdIC0gRWxlbWVudCB0byBhdHRhY2ggQ29udHJvbGxlciB0by5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmR9IFtvcHRpb25zLmtleWJvYXJkXSAtIEEgS2V5Ym9hcmQgb2JqZWN0IHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge01vdXNlfSBbb3B0aW9ucy5tb3VzZV0gLSBBIE1vdXNlIG9iamVjdCB0byB1c2UuXG4gICAgICogQHBhcmFtIHtHYW1lUGFkc30gW29wdGlvbnMuZ2FtZXBhZHNdIC0gQSBHYW1lcGFkcyBvYmplY3QgdG8gdXNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGMgPSBuZXcgcGMuQ29udHJvbGxlcihkb2N1bWVudCk7XG4gICAgICpcbiAgICAgKiAvLyBSZWdpc3RlciB0aGUgXCJmaXJlXCIgYWN0aW9uIGFuZCBhc3NpZ24gaXQgdG8gYm90aCB0aGUgRW50ZXIga2V5IGFuZCB0aGUgU3BhY2ViYXIuXG4gICAgICogYy5yZWdpc3RlcktleXMoXCJmaXJlXCIsIFtwYy5LRVlfRU5URVIsIHBjLktFWV9TUEFDRV0pO1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9rZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbW91c2UgPSBvcHRpb25zLm1vdXNlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2dhbWVwYWRzID0gb3B0aW9ucy5nYW1lcGFkcyB8fCBudWxsO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2FjdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5fYXhlcyA9IHt9O1xuICAgICAgICB0aGlzLl9heGVzVmFsdWVzID0ge307XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoIENvbnRyb2xsZXIgdG8gYW4gRWxlbWVudC4gVGhpcyBpcyByZXF1aXJlZCBiZWZvcmUgeW91IGNhbiBtb25pdG9yIGZvciBrZXkvbW91c2VcbiAgICAgKiBpbnB1dHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBhdHRhY2ggbW91c2UgYW5kIGtleWJvYXJkIGV2ZW50IGhhbmRsZXIgdG9vLlxuICAgICAqL1xuICAgIGF0dGFjaChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5fa2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLmF0dGFjaChlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2UuYXR0YWNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0YWNoIENvbnRyb2xsZXIgZnJvbSBhbiBFbGVtZW50LiBUaGlzIHNob3VsZCBiZSBkb25lIGJlZm9yZSB0aGUgQ29udHJvbGxlciBpcyBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBpZiAodGhpcy5fa2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2UuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUgY29udGV4dCBtZW51IHVzdWFsbHkgYWN0aXZhdGVkIHdpdGggdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBkaXNhYmxlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU1vdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGhlIGNvbnRleHQgbWVudSB1c3VhbGx5IGFjdGl2YXRlZCB3aXRoIHRoZSByaWdodCBtb3VzZSBidXR0b24uIFRoaXMgaXMgZW5hYmxlZCBieVxuICAgICAqIGRlZmF1bHQuXG4gICAgICovXG4gICAgZW5hYmxlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU1vdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb3VzZS5lbmFibGVDb250ZXh0TWVudSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgS2V5Ym9hcmQgYW5kIE1vdXNlIGhhbmRsZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGR0IC0gVGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgZnJhbWUuXG4gICAgICovXG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICh0aGlzLl9rZXlib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmQudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2dhbWVwYWRzKSB7XG4gICAgICAgICAgICB0aGlzLl9nYW1lcGFkcy51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIGF4ZXMgdmFsdWVzXG4gICAgICAgIHRoaXMuX2F4ZXNWYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5fYXhlcykge1xuICAgICAgICAgICAgdGhpcy5fYXhlc1ZhbHVlc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYXBwZW5kIGFuIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25fbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiAtIEFuIGFjdGlvbiBvYmplY3QgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7QUNUSU9OX0tFWUJPQVJEIHwgQUNUSU9OX01PVVNFIHwgQUNUSU9OX0dBTUVQQUR9IGFjdGlvbi50eXBlIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbYWN0aW9uLmtleXNdIC0gS2V5Ym9hcmQ6IEEgbGlzdCBvZiBrZXljb2RlcyBlLmcuIGBbcGMuS0VZX0EsIHBjLktFWV9FTlRFUl1gLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWN0aW9uLmJ1dHRvbl0gLSBNb3VzZTogZS5nLiBgcGMuTU9VU0VCVVRUT05fTEVGVGAgLSBHYW1lcGFkOiBlLmcuIGBwYy5QQURfRkFDRV8xYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWN0aW9uLnBhZF0gLSBHYW1lcGFkOiBBbiBpbmRleCBvZiB0aGUgcGFkIHRvIHJlZ2lzdGVyICh1c2Uge0BsaW5rIFBBRF8xfSwgZXRjKS5cbiAgICAgKi9cbiAgICBhcHBlbmRBY3Rpb24oYWN0aW9uX25hbWUsIGFjdGlvbikge1xuICAgICAgICB0aGlzLl9hY3Rpb25zW2FjdGlvbl9uYW1lXSA9IHRoaXMuX2FjdGlvbnNbYWN0aW9uX25hbWVdIHx8IFtdO1xuICAgICAgICB0aGlzLl9hY3Rpb25zW2FjdGlvbl9uYW1lXS5wdXNoKGFjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhIGFjdGlvbiB3aGljaCBpcyBlbmFibGVkIHdoZW4gdGhlIHN1cHBsaWVkIGtleXMgYXJlIHByZXNzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBrZXlzIC0gQSBsaXN0IG9mIGtleWNvZGVzLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyS2V5cyhhY3Rpb24sIGtleXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9rZXlib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlS2V5Ym9hcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWN0aW9uc1thY3Rpb25dKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbjogJHthY3Rpb259IGFscmVhZHkgcmVnaXN0ZXJlZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ1dHRvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udmVydCB0byBhbiBhcnJheVxuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBrZXlzID0gW2tleXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGtleXMgdG8gYWN0aW9uc1xuICAgICAgICB0aGlzLmFwcGVuZEFjdGlvbihhY3Rpb24sIHtcbiAgICAgICAgICAgIHR5cGU6IEFDVElPTl9LRVlCT0FSRCxcbiAgICAgICAgICAgIGtleXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhbiBhY3Rpb24gd2hpY2ggaXMgZW5hYmxlZCB3aGVuIHRoZSBzdXBwbGllZCBtb3VzZSBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gLSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBidXR0b24gLSBUaGUgbW91c2UgYnV0dG9uLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyTW91c2UoYWN0aW9uLCBidXR0b24pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlTW91c2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ1dHRvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIG1vdXNlIGJ1dHRvbiB0byBhY3Rpb25zXG4gICAgICAgIHRoaXMuYXBwZW5kQWN0aW9uKGFjdGlvbiwge1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OX01PVVNFLFxuICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBvciB1cGRhdGUgYW4gYWN0aW9uIHdoaWNoIGlzIGVuYWJsZWQgd2hlbiB0aGUgZ2FtZXBhZCBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gLSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWQgLSBUaGUgaW5kZXggb2YgdGhlIHBhZCB0byByZWdpc3RlciAodXNlIHtAbGluayBQQURfMX0sIGV0YykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1dHRvbiAtIFRoZSBwYWQgYnV0dG9uLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyUGFkQnV0dG9uKGFjdGlvbiwgcGFkLCBidXR0b24pIHtcbiAgICAgICAgaWYgKGJ1dHRvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYnV0dG9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGdhbWVwYWQgYnV0dG9uIGFuZCBwYWQgdG8gYWN0aW9uc1xuICAgICAgICB0aGlzLmFwcGVuZEFjdGlvbihhY3Rpb24sIHtcbiAgICAgICAgICAgIHR5cGU6IEFDVElPTl9HQU1FUEFELFxuICAgICAgICAgICAgYnV0dG9uLFxuICAgICAgICAgICAgcGFkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGFuIGFjdGlvbiBhZ2FpbnN0IGEgY29udHJvbGxlciBheGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWRdIC0gVGhlIGluZGV4IG9mIHRoZSBnYW1lIHBhZCB0byByZWdpc3RlciBmb3IgKHVzZSB7QGxpbmsgUEFEXzF9LCBldGMpLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyQXhpcyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgICAgIGlmICghdGhpcy5fYXhlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5fYXhlc1tuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLl9heGVzW25hbWVdLnB1c2gobmFtZSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMucGFkID0gb3B0aW9ucy5wYWQgfHwgUEFEXzE7XG5cbiAgICAgICAgY29uc3QgYmluZCA9IGZ1bmN0aW9uIChjb250cm9sbGVyLCBzb3VyY2UsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW91c2V4JzpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5fbW91c2Uub24oRVZFTlRfTU9VU0VNT1ZFLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5fYXhlc1ZhbHVlc1tuYW1lXVtpXSA9IGUuZHggLyAxMDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNleSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuX21vdXNlLm9uKEVWRU5UX01PVVNFTU9WRSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuX2F4ZXNWYWx1ZXNbbmFtZV1baV0gPSBlLmR5IC8gMTA7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdrZXknOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2tleWJvYXJkLmlzUHJlc3NlZChrZXkpID8gdmFsdWUgOiAwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkcngnOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9SX1NUSUNLX1gpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkcnknOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9SX1NUSUNLX1kpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkbHgnOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9MX1NUSUNLX1gpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkbHknOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9MX1NUSUNLX1kpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGF4aXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBiaW5kKHRoaXMsIG9wdGlvbnMucG9zaXRpdmUsIDEsIG9wdGlvbnMucG9zaXRpdmVLZXkpO1xuICAgICAgICBpZiAob3B0aW9ucy5uZWdhdGl2ZUtleSB8fCBvcHRpb25zLm5lZ2F0aXZlICE9PSBvcHRpb25zLnBvc2l0aXZlKSB7XG4gICAgICAgICAgICBiaW5kKHRoaXMsIG9wdGlvbnMubmVnYXRpdmUsIC0xLCBvcHRpb25zLm5lZ2F0aXZlS2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNQcmVzc2VkKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdW2luZGV4XTtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9LRVlCT0FSRDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBhY3Rpb24ua2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkLmlzUHJlc3NlZChhY3Rpb24ua2V5c1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQUNUSU9OX01PVVNFOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbW91c2UgJiYgdGhpcy5fbW91c2UuaXNQcmVzc2VkKGFjdGlvbi5idXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9HQU1FUEFEOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2FtZXBhZHMgJiYgdGhpcy5fZ2FtZXBhZHMuaXNQcmVzc2VkKGFjdGlvbi5wYWQsIGFjdGlvbi5idXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBhY3Rpb24gd2FzIGVuYWJsZWQgdGhpcyBzaW5jZSB0aGUgbGFzdCB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGFjdGlvbiB3YXMgZW5hYmxlZCB0aGlzIHNpbmNlIHRoZSBsYXN0IHVwZGF0ZS5cbiAgICAgKi9cbiAgICB3YXNQcmVzc2VkKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdW2luZGV4XTtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9LRVlCT0FSRDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBhY3Rpb24ua2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkLndhc1ByZXNzZWQoYWN0aW9uLmtleXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9NT1VTRTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21vdXNlICYmIHRoaXMuX21vdXNlLndhc1ByZXNzZWQoYWN0aW9uLmJ1dHRvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQUNUSU9OX0dBTUVQQUQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9nYW1lcGFkcyAmJiB0aGlzLl9nYW1lcGFkcy53YXNQcmVzc2VkKGFjdGlvbi5wYWQsIGFjdGlvbi5idXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0QXhpcyhuYW1lKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2F4ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuX2F4ZXNbbmFtZV0ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlKHRoaXMuX2F4ZXNbbmFtZV1baV0pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLl9heGVzW25hbWVdW2ldKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh2KSA+IE1hdGguYWJzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9heGVzVmFsdWVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLl9heGVzVmFsdWVzW25hbWVdW2ldKSA+IE1hdGguYWJzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9heGVzVmFsdWVzW25hbWVdW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9lbmFibGVNb3VzZSgpIHtcbiAgICAgICAgdGhpcy5fbW91c2UgPSBuZXcgTW91c2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRyb2xsZXIgbXVzdCBiZSBhdHRhY2hlZCB0byBhbiBFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW91c2UuYXR0YWNoKHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cblxuICAgIF9lbmFibGVLZXlib2FyZCgpIHtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQoKTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRyb2xsZXIgbXVzdCBiZSBhdHRhY2hlZCB0byBhbiBFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQuYXR0YWNoKHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQ29udHJvbGxlciB9O1xuIl0sIm5hbWVzIjpbIkNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJvcHRpb25zIiwiX2tleWJvYXJkIiwia2V5Ym9hcmQiLCJfbW91c2UiLCJtb3VzZSIsIl9nYW1lcGFkcyIsImdhbWVwYWRzIiwiX2VsZW1lbnQiLCJfYWN0aW9ucyIsIl9heGVzIiwiX2F4ZXNWYWx1ZXMiLCJhdHRhY2giLCJkZXRhY2giLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJfZW5hYmxlTW91c2UiLCJlbmFibGVDb250ZXh0TWVudSIsInVwZGF0ZSIsImR0Iiwia2V5IiwiYXBwZW5kQWN0aW9uIiwiYWN0aW9uX25hbWUiLCJhY3Rpb24iLCJwdXNoIiwicmVnaXN0ZXJLZXlzIiwia2V5cyIsIl9lbmFibGVLZXlib2FyZCIsIkVycm9yIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwidHlwZSIsIkFDVElPTl9LRVlCT0FSRCIsInJlZ2lzdGVyTW91c2UiLCJidXR0b24iLCJBQ1RJT05fTU9VU0UiLCJyZWdpc3RlclBhZEJ1dHRvbiIsInBhZCIsIkFDVElPTl9HQU1FUEFEIiwicmVnaXN0ZXJBeGlzIiwibmFtZSIsImkiLCJQQURfMSIsImJpbmQiLCJjb250cm9sbGVyIiwic291cmNlIiwidmFsdWUiLCJvbiIsIkVWRU5UX01PVVNFTU9WRSIsImUiLCJkeCIsImR5IiwiaXNQcmVzc2VkIiwiZ2V0QXhpcyIsIlBBRF9SX1NUSUNLX1giLCJQQURfUl9TVElDS19ZIiwiUEFEX0xfU1RJQ0tfWCIsIlBBRF9MX1NUSUNLX1kiLCJwb3NpdGl2ZSIsInBvc2l0aXZlS2V5IiwibmVnYXRpdmVLZXkiLCJuZWdhdGl2ZSIsImFjdGlvbk5hbWUiLCJpbmRleCIsImxlbiIsIndhc1ByZXNzZWQiLCJ2IiwiTWF0aCIsImFicyIsIk1vdXNlIiwiS2V5Ym9hcmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFrQkEsTUFBTUEsVUFBTixDQUFpQjtBQWViQyxFQUFBQSxXQUFXLENBQUNDLE9BQUQsRUFBVUMsT0FBTyxHQUFHLEVBQXBCLEVBQXdCO0FBQy9CLElBQUEsSUFBQSxDQUFLQyxTQUFMLEdBQWlCRCxPQUFPLENBQUNFLFFBQVIsSUFBb0IsSUFBckMsQ0FBQTtBQUNBLElBQUEsSUFBQSxDQUFLQyxNQUFMLEdBQWNILE9BQU8sQ0FBQ0ksS0FBUixJQUFpQixJQUEvQixDQUFBO0FBQ0EsSUFBQSxJQUFBLENBQUtDLFNBQUwsR0FBaUJMLE9BQU8sQ0FBQ00sUUFBUixJQUFvQixJQUFyQyxDQUFBO0lBRUEsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQixJQUFoQixDQUFBO0lBRUEsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQixFQUFoQixDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsS0FBTCxHQUFhLEVBQWIsQ0FBQTtJQUNBLElBQUtDLENBQUFBLFdBQUwsR0FBbUIsRUFBbkIsQ0FBQTs7QUFFQSxJQUFBLElBQUlYLE9BQUosRUFBYTtNQUNULElBQUtZLENBQUFBLE1BQUwsQ0FBWVosT0FBWixDQUFBLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FBQTs7RUFRRFksTUFBTSxDQUFDWixPQUFELEVBQVU7SUFDWixJQUFLUSxDQUFBQSxRQUFMLEdBQWdCUixPQUFoQixDQUFBOztJQUNBLElBQUksSUFBQSxDQUFLRSxTQUFULEVBQW9CO0FBQ2hCLE1BQUEsSUFBQSxDQUFLQSxTQUFMLENBQWVVLE1BQWYsQ0FBc0JaLE9BQXRCLENBQUEsQ0FBQTtBQUNILEtBQUE7O0lBRUQsSUFBSSxJQUFBLENBQUtJLE1BQVQsRUFBaUI7QUFDYixNQUFBLElBQUEsQ0FBS0EsTUFBTCxDQUFZUSxNQUFaLENBQW1CWixPQUFuQixDQUFBLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FBQTs7QUFLRGEsRUFBQUEsTUFBTSxHQUFHO0lBQ0wsSUFBSSxJQUFBLENBQUtYLFNBQVQsRUFBb0I7TUFDaEIsSUFBS0EsQ0FBQUEsU0FBTCxDQUFlVyxNQUFmLEVBQUEsQ0FBQTtBQUNILEtBQUE7O0lBQ0QsSUFBSSxJQUFBLENBQUtULE1BQVQsRUFBaUI7TUFDYixJQUFLQSxDQUFBQSxNQUFMLENBQVlTLE1BQVosRUFBQSxDQUFBO0FBQ0gsS0FBQTs7SUFDRCxJQUFLTCxDQUFBQSxRQUFMLEdBQWdCLElBQWhCLENBQUE7QUFDSCxHQUFBOztBQUtETSxFQUFBQSxrQkFBa0IsR0FBRztJQUNqQixJQUFJLENBQUMsSUFBS1YsQ0FBQUEsTUFBVixFQUFrQjtBQUNkLE1BQUEsSUFBQSxDQUFLVyxZQUFMLEVBQUEsQ0FBQTtBQUNILEtBQUE7O0lBRUQsSUFBS1gsQ0FBQUEsTUFBTCxDQUFZVSxrQkFBWixFQUFBLENBQUE7QUFDSCxHQUFBOztBQU1ERSxFQUFBQSxpQkFBaUIsR0FBRztJQUNoQixJQUFJLENBQUMsSUFBS1osQ0FBQUEsTUFBVixFQUFrQjtBQUNkLE1BQUEsSUFBQSxDQUFLVyxZQUFMLEVBQUEsQ0FBQTtBQUNILEtBQUE7O0lBRUQsSUFBS1gsQ0FBQUEsTUFBTCxDQUFZWSxpQkFBWixFQUFBLENBQUE7QUFDSCxHQUFBOztFQU9EQyxNQUFNLENBQUNDLEVBQUQsRUFBSztJQUNQLElBQUksSUFBQSxDQUFLaEIsU0FBVCxFQUFvQjtNQUNoQixJQUFLQSxDQUFBQSxTQUFMLENBQWVlLE1BQWYsRUFBQSxDQUFBO0FBQ0gsS0FBQTs7SUFFRCxJQUFJLElBQUEsQ0FBS2IsTUFBVCxFQUFpQjtNQUNiLElBQUtBLENBQUFBLE1BQUwsQ0FBWWEsTUFBWixFQUFBLENBQUE7QUFDSCxLQUFBOztJQUVELElBQUksSUFBQSxDQUFLWCxTQUFULEVBQW9CO01BQ2hCLElBQUtBLENBQUFBLFNBQUwsQ0FBZVcsTUFBZixFQUFBLENBQUE7QUFDSCxLQUFBOztJQUdELElBQUtOLENBQUFBLFdBQUwsR0FBbUIsRUFBbkIsQ0FBQTs7QUFDQSxJQUFBLEtBQUssTUFBTVEsR0FBWCxJQUFrQixJQUFBLENBQUtULEtBQXZCLEVBQThCO0FBQzFCLE1BQUEsSUFBQSxDQUFLQyxXQUFMLENBQWlCUSxHQUFqQixDQUFBLEdBQXdCLEVBQXhCLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FBQTs7QUFZREMsRUFBQUEsWUFBWSxDQUFDQyxXQUFELEVBQWNDLE1BQWQsRUFBc0I7SUFDOUIsSUFBS2IsQ0FBQUEsUUFBTCxDQUFjWSxXQUFkLENBQUEsR0FBNkIsS0FBS1osUUFBTCxDQUFjWSxXQUFkLENBQUEsSUFBOEIsRUFBM0QsQ0FBQTs7QUFDQSxJQUFBLElBQUEsQ0FBS1osUUFBTCxDQUFjWSxXQUFkLENBQTJCRSxDQUFBQSxJQUEzQixDQUFnQ0QsTUFBaEMsQ0FBQSxDQUFBO0FBQ0gsR0FBQTs7QUFRREUsRUFBQUEsWUFBWSxDQUFDRixNQUFELEVBQVNHLElBQVQsRUFBZTtJQUN2QixJQUFJLENBQUMsSUFBS3ZCLENBQUFBLFNBQVYsRUFBcUI7QUFDakIsTUFBQSxJQUFBLENBQUt3QixlQUFMLEVBQUEsQ0FBQTtBQUNILEtBQUE7O0FBQ0QsSUFBQSxJQUFJLElBQUtqQixDQUFBQSxRQUFMLENBQWNhLE1BQWQsQ0FBSixFQUEyQjtBQUN2QixNQUFBLE1BQU0sSUFBSUssS0FBSixDQUFXLENBQVVMLFFBQUFBLEVBQUFBLE1BQU8scUJBQTVCLENBQU4sQ0FBQTtBQUNILEtBQUE7O0lBRUQsSUFBSUcsSUFBSSxLQUFLRyxTQUFiLEVBQXdCO0FBQ3BCLE1BQUEsTUFBTSxJQUFJRCxLQUFKLENBQVUsZ0JBQVYsQ0FBTixDQUFBO0FBQ0gsS0FBQTs7QUFHRCxJQUFBLElBQUksQ0FBQ0YsSUFBSSxDQUFDSSxNQUFWLEVBQWtCO01BQ2RKLElBQUksR0FBRyxDQUFDQSxJQUFELENBQVAsQ0FBQTtBQUNILEtBQUE7O0lBR0QsSUFBS0wsQ0FBQUEsWUFBTCxDQUFrQkUsTUFBbEIsRUFBMEI7QUFDdEJRLE1BQUFBLElBQUksRUFBRUMsZUFEZ0I7QUFFdEJOLE1BQUFBLElBQUFBO0tBRkosQ0FBQSxDQUFBO0FBSUgsR0FBQTs7QUFRRE8sRUFBQUEsYUFBYSxDQUFDVixNQUFELEVBQVNXLE1BQVQsRUFBaUI7SUFDMUIsSUFBSSxDQUFDLElBQUs3QixDQUFBQSxNQUFWLEVBQWtCO0FBQ2QsTUFBQSxJQUFBLENBQUtXLFlBQUwsRUFBQSxDQUFBO0FBQ0gsS0FBQTs7SUFFRCxJQUFJa0IsTUFBTSxLQUFLTCxTQUFmLEVBQTBCO0FBQ3RCLE1BQUEsTUFBTSxJQUFJRCxLQUFKLENBQVUsZ0JBQVYsQ0FBTixDQUFBO0FBQ0gsS0FBQTs7SUFHRCxJQUFLUCxDQUFBQSxZQUFMLENBQWtCRSxNQUFsQixFQUEwQjtBQUN0QlEsTUFBQUEsSUFBSSxFQUFFSSxZQURnQjtBQUV0QkQsTUFBQUEsTUFBQUE7S0FGSixDQUFBLENBQUE7QUFJSCxHQUFBOztBQVNERSxFQUFBQSxpQkFBaUIsQ0FBQ2IsTUFBRCxFQUFTYyxHQUFULEVBQWNILE1BQWQsRUFBc0I7SUFDbkMsSUFBSUEsTUFBTSxLQUFLTCxTQUFmLEVBQTBCO0FBQ3RCLE1BQUEsTUFBTSxJQUFJRCxLQUFKLENBQVUsZ0JBQVYsQ0FBTixDQUFBO0FBQ0gsS0FBQTs7SUFFRCxJQUFLUCxDQUFBQSxZQUFMLENBQWtCRSxNQUFsQixFQUEwQjtBQUN0QlEsTUFBQUEsSUFBSSxFQUFFTyxjQURnQjtNQUV0QkosTUFGc0I7QUFHdEJHLE1BQUFBLEdBQUFBO0tBSEosQ0FBQSxDQUFBO0FBS0gsR0FBQTs7RUFRREUsWUFBWSxDQUFDckMsT0FBRCxFQUFVO0FBQ2xCLElBQUEsTUFBTXNDLElBQUksR0FBR3RDLE9BQU8sQ0FBQ3NDLElBQXJCLENBQUE7O0FBQ0EsSUFBQSxJQUFJLENBQUMsSUFBSzdCLENBQUFBLEtBQUwsQ0FBVzZCLElBQVgsQ0FBTCxFQUF1QjtBQUNuQixNQUFBLElBQUEsQ0FBSzdCLEtBQUwsQ0FBVzZCLElBQVgsQ0FBQSxHQUFtQixFQUFuQixDQUFBO0FBQ0gsS0FBQTs7SUFDRCxNQUFNQyxDQUFDLEdBQUcsSUFBQSxDQUFLOUIsS0FBTCxDQUFXNkIsSUFBWCxDQUFpQmhCLENBQUFBLElBQWpCLENBQXNCZ0IsSUFBdEIsQ0FBVixDQUFBOztJQUVBdEMsT0FBTyxHQUFHQSxPQUFPLElBQUksRUFBckIsQ0FBQTtBQUNBQSxJQUFBQSxPQUFPLENBQUNtQyxHQUFSLEdBQWNuQyxPQUFPLENBQUNtQyxHQUFSLElBQWVLLEtBQTdCLENBQUE7O0FBRUEsSUFBQSxNQUFNQyxJQUFJLEdBQUcsU0FBUEEsSUFBTyxDQUFVQyxVQUFWLEVBQXNCQyxNQUF0QixFQUE4QkMsS0FBOUIsRUFBcUMxQixHQUFyQyxFQUEwQztBQUNuRCxNQUFBLFFBQVF5QixNQUFSO0FBQ0ksUUFBQSxLQUFLLFFBQUw7VUFDSUQsVUFBVSxDQUFDdkMsTUFBWCxDQUFrQjBDLEVBQWxCLENBQXFCQyxlQUFyQixFQUFzQyxVQUFVQyxDQUFWLEVBQWE7WUFDL0NMLFVBQVUsQ0FBQ2hDLFdBQVgsQ0FBdUI0QixJQUF2QixDQUFBLENBQTZCQyxDQUE3QixDQUFBLEdBQWtDUSxDQUFDLENBQUNDLEVBQUYsR0FBTyxFQUF6QyxDQUFBO1dBREosQ0FBQSxDQUFBOztBQUdBLFVBQUEsTUFBQTs7QUFDSixRQUFBLEtBQUssUUFBTDtVQUNJTixVQUFVLENBQUN2QyxNQUFYLENBQWtCMEMsRUFBbEIsQ0FBcUJDLGVBQXJCLEVBQXNDLFVBQVVDLENBQVYsRUFBYTtZQUMvQ0wsVUFBVSxDQUFDaEMsV0FBWCxDQUF1QjRCLElBQXZCLENBQUEsQ0FBNkJDLENBQTdCLENBQUEsR0FBa0NRLENBQUMsQ0FBQ0UsRUFBRixHQUFPLEVBQXpDLENBQUE7V0FESixDQUFBLENBQUE7O0FBR0EsVUFBQSxNQUFBOztBQUNKLFFBQUEsS0FBSyxLQUFMO0FBQ0lQLFVBQUFBLFVBQVUsQ0FBQ2pDLEtBQVgsQ0FBaUI2QixJQUFqQixDQUF1QmhCLENBQUFBLElBQXZCLENBQTRCLFlBQVk7WUFDcEMsT0FBT29CLFVBQVUsQ0FBQ3pDLFNBQVgsQ0FBcUJpRCxTQUFyQixDQUErQmhDLEdBQS9CLENBQUEsR0FBc0MwQixLQUF0QyxHQUE4QyxDQUFyRCxDQUFBO1dBREosQ0FBQSxDQUFBOztBQUdBLFVBQUEsTUFBQTs7QUFDSixRQUFBLEtBQUssT0FBTDtBQUNJRixVQUFBQSxVQUFVLENBQUNqQyxLQUFYLENBQWlCNkIsSUFBakIsQ0FBdUJoQixDQUFBQSxJQUF2QixDQUE0QixZQUFZO1lBQ3BDLE9BQU9vQixVQUFVLENBQUNyQyxTQUFYLENBQXFCOEMsT0FBckIsQ0FBNkJuRCxPQUFPLENBQUNtQyxHQUFyQyxFQUEwQ2lCLGFBQTFDLENBQVAsQ0FBQTtXQURKLENBQUEsQ0FBQTs7QUFHQSxVQUFBLE1BQUE7O0FBQ0osUUFBQSxLQUFLLE9BQUw7QUFDSVYsVUFBQUEsVUFBVSxDQUFDakMsS0FBWCxDQUFpQjZCLElBQWpCLENBQXVCaEIsQ0FBQUEsSUFBdkIsQ0FBNEIsWUFBWTtZQUNwQyxPQUFPb0IsVUFBVSxDQUFDckMsU0FBWCxDQUFxQjhDLE9BQXJCLENBQTZCbkQsT0FBTyxDQUFDbUMsR0FBckMsRUFBMENrQixhQUExQyxDQUFQLENBQUE7V0FESixDQUFBLENBQUE7O0FBR0EsVUFBQSxNQUFBOztBQUNKLFFBQUEsS0FBSyxPQUFMO0FBQ0lYLFVBQUFBLFVBQVUsQ0FBQ2pDLEtBQVgsQ0FBaUI2QixJQUFqQixDQUF1QmhCLENBQUFBLElBQXZCLENBQTRCLFlBQVk7WUFDcEMsT0FBT29CLFVBQVUsQ0FBQ3JDLFNBQVgsQ0FBcUI4QyxPQUFyQixDQUE2Qm5ELE9BQU8sQ0FBQ21DLEdBQXJDLEVBQTBDbUIsYUFBMUMsQ0FBUCxDQUFBO1dBREosQ0FBQSxDQUFBOztBQUdBLFVBQUEsTUFBQTs7QUFDSixRQUFBLEtBQUssT0FBTDtBQUNJWixVQUFBQSxVQUFVLENBQUNqQyxLQUFYLENBQWlCNkIsSUFBakIsQ0FBdUJoQixDQUFBQSxJQUF2QixDQUE0QixZQUFZO1lBQ3BDLE9BQU9vQixVQUFVLENBQUNyQyxTQUFYLENBQXFCOEMsT0FBckIsQ0FBNkJuRCxPQUFPLENBQUNtQyxHQUFyQyxFQUEwQ29CLGFBQTFDLENBQVAsQ0FBQTtXQURKLENBQUEsQ0FBQTs7QUFHQSxVQUFBLE1BQUE7O0FBQ0osUUFBQTtBQUNJLFVBQUEsTUFBTSxJQUFJN0IsS0FBSixDQUFVLGNBQVYsQ0FBTixDQUFBO0FBckNSLE9BQUE7S0FESixDQUFBOztBQTBDQWUsSUFBQUEsSUFBSSxDQUFDLElBQUQsRUFBT3pDLE9BQU8sQ0FBQ3dELFFBQWYsRUFBeUIsQ0FBekIsRUFBNEJ4RCxPQUFPLENBQUN5RCxXQUFwQyxDQUFKLENBQUE7O0lBQ0EsSUFBSXpELE9BQU8sQ0FBQzBELFdBQVIsSUFBdUIxRCxPQUFPLENBQUMyRCxRQUFSLEtBQXFCM0QsT0FBTyxDQUFDd0QsUUFBeEQsRUFBa0U7QUFDOURmLE1BQUFBLElBQUksQ0FBQyxJQUFELEVBQU96QyxPQUFPLENBQUMyRCxRQUFmLEVBQXlCLENBQUMsQ0FBMUIsRUFBNkIzRCxPQUFPLENBQUMwRCxXQUFyQyxDQUFKLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FBQTs7RUFRRFIsU0FBUyxDQUFDVSxVQUFELEVBQWE7QUFDbEIsSUFBQSxJQUFJLENBQUMsSUFBS3BELENBQUFBLFFBQUwsQ0FBY29ELFVBQWQsQ0FBTCxFQUFnQztBQUM1QixNQUFBLE9BQU8sS0FBUCxDQUFBO0FBQ0gsS0FBQTs7QUFFRCxJQUFBLE1BQU1oQyxNQUFNLEdBQUcsSUFBQSxDQUFLcEIsUUFBTCxDQUFjb0QsVUFBZCxFQUEwQmhDLE1BQXpDLENBQUE7O0lBRUEsS0FBSyxJQUFJaUMsS0FBSyxHQUFHLENBQWpCLEVBQW9CQSxLQUFLLEdBQUdqQyxNQUE1QixFQUFvQyxFQUFFaUMsS0FBdEMsRUFBNkM7TUFDekMsTUFBTXhDLE1BQU0sR0FBRyxJQUFLYixDQUFBQSxRQUFMLENBQWNvRCxVQUFkLENBQUEsQ0FBMEJDLEtBQTFCLENBQWYsQ0FBQTs7TUFDQSxRQUFReEMsTUFBTSxDQUFDUSxJQUFmO0FBQ0ksUUFBQSxLQUFLQyxlQUFMO1VBQ0ksSUFBSSxJQUFBLENBQUs3QixTQUFULEVBQW9CO0FBQ2hCLFlBQUEsTUFBTTZELEdBQUcsR0FBR3pDLE1BQU0sQ0FBQ0csSUFBUCxDQUFZSSxNQUF4QixDQUFBOztZQUNBLEtBQUssSUFBSVcsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3VCLEdBQXBCLEVBQXlCdkIsQ0FBQyxFQUExQixFQUE4QjtBQUMxQixjQUFBLElBQUksSUFBS3RDLENBQUFBLFNBQUwsQ0FBZWlELFNBQWYsQ0FBeUI3QixNQUFNLENBQUNHLElBQVAsQ0FBWWUsQ0FBWixDQUF6QixDQUFKLEVBQThDO0FBQzFDLGdCQUFBLE9BQU8sSUFBUCxDQUFBO0FBQ0gsZUFBQTtBQUNKLGFBQUE7QUFDSixXQUFBOztBQUNELFVBQUEsTUFBQTs7QUFDSixRQUFBLEtBQUtOLFlBQUw7QUFDSSxVQUFBLElBQUksSUFBSzlCLENBQUFBLE1BQUwsSUFBZSxJQUFBLENBQUtBLE1BQUwsQ0FBWStDLFNBQVosQ0FBc0I3QixNQUFNLENBQUNXLE1BQTdCLENBQW5CLEVBQXlEO0FBQ3JELFlBQUEsT0FBTyxJQUFQLENBQUE7QUFDSCxXQUFBOztBQUNELFVBQUEsTUFBQTs7QUFDSixRQUFBLEtBQUtJLGNBQUw7QUFDSSxVQUFBLElBQUksS0FBSy9CLFNBQUwsSUFBa0IsSUFBS0EsQ0FBQUEsU0FBTCxDQUFlNkMsU0FBZixDQUF5QjdCLE1BQU0sQ0FBQ2MsR0FBaEMsRUFBcUNkLE1BQU0sQ0FBQ1csTUFBNUMsQ0FBdEIsRUFBMkU7QUFDdkUsWUFBQSxPQUFPLElBQVAsQ0FBQTtBQUNILFdBQUE7O0FBQ0QsVUFBQSxNQUFBO0FBcEJSLE9BQUE7QUFzQkgsS0FBQTs7QUFDRCxJQUFBLE9BQU8sS0FBUCxDQUFBO0FBQ0gsR0FBQTs7RUFRRCtCLFVBQVUsQ0FBQ0gsVUFBRCxFQUFhO0FBQ25CLElBQUEsSUFBSSxDQUFDLElBQUtwRCxDQUFBQSxRQUFMLENBQWNvRCxVQUFkLENBQUwsRUFBZ0M7QUFDNUIsTUFBQSxPQUFPLEtBQVAsQ0FBQTtBQUNILEtBQUE7O0FBRUQsSUFBQSxNQUFNaEMsTUFBTSxHQUFHLElBQUEsQ0FBS3BCLFFBQUwsQ0FBY29ELFVBQWQsRUFBMEJoQyxNQUF6QyxDQUFBOztJQUVBLEtBQUssSUFBSWlDLEtBQUssR0FBRyxDQUFqQixFQUFvQkEsS0FBSyxHQUFHakMsTUFBNUIsRUFBb0MsRUFBRWlDLEtBQXRDLEVBQTZDO01BQ3pDLE1BQU14QyxNQUFNLEdBQUcsSUFBS2IsQ0FBQUEsUUFBTCxDQUFjb0QsVUFBZCxDQUFBLENBQTBCQyxLQUExQixDQUFmLENBQUE7O01BQ0EsUUFBUXhDLE1BQU0sQ0FBQ1EsSUFBZjtBQUNJLFFBQUEsS0FBS0MsZUFBTDtVQUNJLElBQUksSUFBQSxDQUFLN0IsU0FBVCxFQUFvQjtBQUNoQixZQUFBLE1BQU02RCxHQUFHLEdBQUd6QyxNQUFNLENBQUNHLElBQVAsQ0FBWUksTUFBeEIsQ0FBQTs7WUFDQSxLQUFLLElBQUlXLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUd1QixHQUFwQixFQUF5QnZCLENBQUMsRUFBMUIsRUFBOEI7QUFDMUIsY0FBQSxJQUFJLElBQUt0QyxDQUFBQSxTQUFMLENBQWU4RCxVQUFmLENBQTBCMUMsTUFBTSxDQUFDRyxJQUFQLENBQVllLENBQVosQ0FBMUIsQ0FBSixFQUErQztBQUMzQyxnQkFBQSxPQUFPLElBQVAsQ0FBQTtBQUNILGVBQUE7QUFDSixhQUFBO0FBQ0osV0FBQTs7QUFDRCxVQUFBLE1BQUE7O0FBQ0osUUFBQSxLQUFLTixZQUFMO0FBQ0ksVUFBQSxJQUFJLElBQUs5QixDQUFBQSxNQUFMLElBQWUsSUFBQSxDQUFLQSxNQUFMLENBQVk0RCxVQUFaLENBQXVCMUMsTUFBTSxDQUFDVyxNQUE5QixDQUFuQixFQUEwRDtBQUN0RCxZQUFBLE9BQU8sSUFBUCxDQUFBO0FBQ0gsV0FBQTs7QUFDRCxVQUFBLE1BQUE7O0FBQ0osUUFBQSxLQUFLSSxjQUFMO0FBQ0ksVUFBQSxJQUFJLEtBQUsvQixTQUFMLElBQWtCLElBQUtBLENBQUFBLFNBQUwsQ0FBZTBELFVBQWYsQ0FBMEIxQyxNQUFNLENBQUNjLEdBQWpDLEVBQXNDZCxNQUFNLENBQUNXLE1BQTdDLENBQXRCLEVBQTRFO0FBQ3hFLFlBQUEsT0FBTyxJQUFQLENBQUE7QUFDSCxXQUFBOztBQUNELFVBQUEsTUFBQTtBQXBCUixPQUFBO0FBc0JILEtBQUE7O0FBQ0QsSUFBQSxPQUFPLEtBQVAsQ0FBQTtBQUNILEdBQUE7O0VBRURtQixPQUFPLENBQUNiLElBQUQsRUFBTztJQUNWLElBQUlNLEtBQUssR0FBRyxDQUFaLENBQUE7O0FBRUEsSUFBQSxJQUFJLElBQUtuQyxDQUFBQSxLQUFMLENBQVc2QixJQUFYLENBQUosRUFBc0I7QUFDbEIsTUFBQSxNQUFNd0IsR0FBRyxHQUFHLElBQUEsQ0FBS3JELEtBQUwsQ0FBVzZCLElBQVgsRUFBaUJWLE1BQTdCLENBQUE7O01BQ0EsS0FBSyxJQUFJVyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHdUIsR0FBcEIsRUFBeUJ2QixDQUFDLEVBQTFCLEVBQThCO0FBQzFCLFFBQUEsSUFBSVYsSUFBSSxDQUFDLElBQUtwQixDQUFBQSxLQUFMLENBQVc2QixJQUFYLENBQWlCQyxDQUFBQSxDQUFqQixDQUFELENBQUosS0FBOEIsVUFBbEMsRUFBOEM7VUFDMUMsTUFBTXlCLENBQUMsR0FBRyxJQUFLdkQsQ0FBQUEsS0FBTCxDQUFXNkIsSUFBWCxDQUFBLENBQWlCQyxDQUFqQixDQUFWLEVBQUEsQ0FBQTs7QUFDQSxVQUFBLElBQUkwQixJQUFJLENBQUNDLEdBQUwsQ0FBU0YsQ0FBVCxDQUFBLEdBQWNDLElBQUksQ0FBQ0MsR0FBTCxDQUFTdEIsS0FBVCxDQUFsQixFQUFtQztBQUMvQkEsWUFBQUEsS0FBSyxHQUFHb0IsQ0FBUixDQUFBO0FBQ0gsV0FBQTtBQUNKLFNBTEQsTUFLTyxJQUFJLElBQUEsQ0FBS3RELFdBQUwsQ0FBaUI0QixJQUFqQixDQUFKLEVBQTRCO0FBQy9CLFVBQUEsSUFBSTJCLElBQUksQ0FBQ0MsR0FBTCxDQUFTLElBQUt4RCxDQUFBQSxXQUFMLENBQWlCNEIsSUFBakIsQ0FBQSxDQUF1QkMsQ0FBdkIsQ0FBVCxJQUFzQzBCLElBQUksQ0FBQ0MsR0FBTCxDQUFTdEIsS0FBVCxDQUExQyxFQUEyRDtBQUN2REEsWUFBQUEsS0FBSyxHQUFHLElBQUtsQyxDQUFBQSxXQUFMLENBQWlCNEIsSUFBakIsQ0FBQSxDQUF1QkMsQ0FBdkIsQ0FBUixDQUFBO0FBQ0gsV0FBQTtBQUNKLFNBQUE7QUFDSixPQUFBO0FBQ0osS0FBQTs7QUFFRCxJQUFBLE9BQU9LLEtBQVAsQ0FBQTtBQUNILEdBQUE7O0FBRUQ5QixFQUFBQSxZQUFZLEdBQUc7QUFDWCxJQUFBLElBQUEsQ0FBS1gsTUFBTCxHQUFjLElBQUlnRSxLQUFKLEVBQWQsQ0FBQTs7SUFDQSxJQUFJLENBQUMsSUFBSzVELENBQUFBLFFBQVYsRUFBb0I7QUFDaEIsTUFBQSxNQUFNLElBQUltQixLQUFKLENBQVUsMkNBQVYsQ0FBTixDQUFBO0FBQ0gsS0FBQTs7QUFDRCxJQUFBLElBQUEsQ0FBS3ZCLE1BQUwsQ0FBWVEsTUFBWixDQUFtQixLQUFLSixRQUF4QixDQUFBLENBQUE7QUFDSCxHQUFBOztBQUVEa0IsRUFBQUEsZUFBZSxHQUFHO0FBQ2QsSUFBQSxJQUFBLENBQUt4QixTQUFMLEdBQWlCLElBQUltRSxRQUFKLEVBQWpCLENBQUE7O0lBQ0EsSUFBSSxDQUFDLElBQUs3RCxDQUFBQSxRQUFWLEVBQW9CO0FBQ2hCLE1BQUEsTUFBTSxJQUFJbUIsS0FBSixDQUFVLDJDQUFWLENBQU4sQ0FBQTtBQUNILEtBQUE7O0FBQ0QsSUFBQSxJQUFBLENBQUt6QixTQUFMLENBQWVVLE1BQWYsQ0FBc0IsS0FBS0osUUFBM0IsQ0FBQSxDQUFBO0FBQ0gsR0FBQTs7QUF6WFk7Ozs7In0=
