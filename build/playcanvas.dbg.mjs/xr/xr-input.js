/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { EventHandler } from '../core/event-handler.js';
import { XrInputSource } from './xr-input-source.js';

class XrInput extends EventHandler {
  constructor(manager) {
    super();
    this.manager = void 0;
    this._inputSources = [];
    this._onInputSourcesChangeEvt = void 0;
    this.manager = manager;

    this._onInputSourcesChangeEvt = evt => {
      this._onInputSourcesChange(evt);
    };

    this.manager.on('start', this._onSessionStart, this);
    this.manager.on('end', this._onSessionEnd, this);
  }

  _onSessionStart() {
    const session = this.manager.session;
    session.addEventListener('inputsourceschange', this._onInputSourcesChangeEvt);
    session.addEventListener('select', evt => {
      const inputSource = this._getByInputSource(evt.inputSource);

      inputSource.update(evt.frame);
      inputSource.fire('select', evt);
      this.fire('select', inputSource, evt);
    });
    session.addEventListener('selectstart', evt => {
      const inputSource = this._getByInputSource(evt.inputSource);

      inputSource.update(evt.frame);
      inputSource._selecting = true;
      inputSource.fire('selectstart', evt);
      this.fire('selectstart', inputSource, evt);
    });
    session.addEventListener('selectend', evt => {
      const inputSource = this._getByInputSource(evt.inputSource);

      inputSource.update(evt.frame);
      inputSource._selecting = false;
      inputSource.fire('selectend', evt);
      this.fire('selectend', inputSource, evt);
    });
    session.addEventListener('squeeze', evt => {
      const inputSource = this._getByInputSource(evt.inputSource);

      inputSource.update(evt.frame);
      inputSource.fire('squeeze', evt);
      this.fire('squeeze', inputSource, evt);
    });
    session.addEventListener('squeezestart', evt => {
      const inputSource = this._getByInputSource(evt.inputSource);

      inputSource.update(evt.frame);
      inputSource._squeezing = true;
      inputSource.fire('squeezestart', evt);
      this.fire('squeezestart', inputSource, evt);
    });
    session.addEventListener('squeezeend', evt => {
      const inputSource = this._getByInputSource(evt.inputSource);

      inputSource.update(evt.frame);
      inputSource._squeezing = false;
      inputSource.fire('squeezeend', evt);
      this.fire('squeezeend', inputSource, evt);
    });
    const inputSources = session.inputSources;

    for (let i = 0; i < inputSources.length; i++) {
      this._addInputSource(inputSources[i]);
    }
  }

  _onSessionEnd() {
    let i = this._inputSources.length;

    while (i--) {
      const inputSource = this._inputSources[i];

      this._inputSources.splice(i, 1);

      inputSource.fire('remove');
      this.fire('remove', inputSource);
    }

    const session = this.manager.session;
    session.removeEventListener('inputsourceschange', this._onInputSourcesChangeEvt);
  }

  _onInputSourcesChange(evt) {
    for (let i = 0; i < evt.removed.length; i++) {
      this._removeInputSource(evt.removed[i]);
    }

    for (let i = 0; i < evt.added.length; i++) {
      this._addInputSource(evt.added[i]);
    }
  }

  _getByInputSource(xrInputSource) {
    for (let i = 0; i < this._inputSources.length; i++) {
      if (this._inputSources[i].inputSource === xrInputSource) {
        return this._inputSources[i];
      }
    }

    return null;
  }

  _addInputSource(xrInputSource) {
    if (this._getByInputSource(xrInputSource)) return;
    const inputSource = new XrInputSource(this.manager, xrInputSource);

    this._inputSources.push(inputSource);

    this.fire('add', inputSource);
  }

  _removeInputSource(xrInputSource) {
    for (let i = 0; i < this._inputSources.length; i++) {
      if (this._inputSources[i].inputSource !== xrInputSource) continue;
      const inputSource = this._inputSources[i];

      this._inputSources.splice(i, 1);

      let h = inputSource.hitTestSources.length;

      while (h--) {
        inputSource.hitTestSources[h].remove();
      }

      inputSource.fire('remove');
      this.fire('remove', inputSource);
      return;
    }
  }

  update(frame) {
    for (let i = 0; i < this._inputSources.length; i++) {
      this._inputSources[i].update(frame);
    }
  }

  get inputSources() {
    return this._inputSources;
  }

}

export { XrInput };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieHItaW5wdXQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy94ci94ci1pbnB1dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9jb3JlL2V2ZW50LWhhbmRsZXIuanMnO1xuXG5pbXBvcnQgeyBYcklucHV0U291cmNlIH0gZnJvbSAnLi94ci1pbnB1dC1zb3VyY2UuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi94ci1tYW5hZ2VyLmpzJykuWHJNYW5hZ2VyfSBYck1hbmFnZXIgKi9cblxuLyoqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gaW5wdXQgc291cmNlcyBmb3IgV2ViWFIuXG4gKlxuICogQGF1Z21lbnRzIEV2ZW50SGFuZGxlclxuICovXG5jbGFzcyBYcklucHV0IGV4dGVuZHMgRXZlbnRIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7WHJNYW5hZ2VyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbWFuYWdlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtYcklucHV0U291cmNlW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5wdXRTb3VyY2VzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25JbnB1dFNvdXJjZXNDaGFuZ2VFdnQ7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgWHJJbnB1dCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7WHJNYW5hZ2VyfSBtYW5hZ2VyIC0gV2ViWFIgTWFuYWdlci5cbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cbiAgICAgICAgdGhpcy5fb25JbnB1dFNvdXJjZXNDaGFuZ2VFdnQgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbklucHV0U291cmNlc0NoYW5nZShldnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubWFuYWdlci5vbignc3RhcnQnLCB0aGlzLl9vblNlc3Npb25TdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMubWFuYWdlci5vbignZW5kJywgdGhpcy5fb25TZXNzaW9uRW5kLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIG5ldyB7QGxpbmsgWHJJbnB1dFNvdXJjZX0gaXMgYWRkZWQgdG8gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgWHJJbnB1dCNhZGRcbiAgICAgKiBAcGFyYW0ge1hySW5wdXRTb3VyY2V9IGlucHV0U291cmNlIC0gSW5wdXQgc291cmNlIHRoYXQgaGFzIGJlZW4gYWRkZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBhcHAueHIuaW5wdXQub24oJ2FkZCcsIGZ1bmN0aW9uIChpbnB1dFNvdXJjZSkge1xuICAgICAqICAgICAvLyBuZXcgaW5wdXQgc291cmNlIGlzIGFkZGVkXG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHtAbGluayBYcklucHV0U291cmNlfSBpcyByZW1vdmVkIHRvIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQGV2ZW50IFhySW5wdXQjcmVtb3ZlXG4gICAgICogQHBhcmFtIHtYcklucHV0U291cmNlfSBpbnB1dFNvdXJjZSAtIElucHV0IHNvdXJjZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBhcHAueHIuaW5wdXQub24oJ3JlbW92ZScsIGZ1bmN0aW9uIChpbnB1dFNvdXJjZSkge1xuICAgICAqICAgICAvLyBpbnB1dCBzb3VyY2UgaXMgcmVtb3ZlZFxuICAgICAqIH0pO1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB7QGxpbmsgWHJJbnB1dFNvdXJjZX0gaGFzIHRyaWdnZXJlZCBwcmltYXJ5IGFjdGlvbi4gVGhpcyBjb3VsZCBiZSBwcmVzc2luZyBhXG4gICAgICogdHJpZ2dlciBidXR0b24sIG9yIHRvdWNoaW5nIGEgc2NyZWVuLlxuICAgICAqXG4gICAgICogQGV2ZW50IFhySW5wdXQjc2VsZWN0XG4gICAgICogQHBhcmFtIHtYcklucHV0U291cmNlfSBpbnB1dFNvdXJjZSAtIElucHV0IHNvdXJjZSB0aGF0IHRyaWdnZXJlZCBzZWxlY3QgZXZlbnQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2dCAtIFhSSW5wdXRTb3VyY2VFdmVudCBldmVudCBkYXRhIGZyb20gV2ViWFIgQVBJLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICAgKiBhcHAueHIuaW5wdXQub24oJ3NlbGVjdCcsIGZ1bmN0aW9uIChpbnB1dFNvdXJjZSwgZXZ0KSB7XG4gICAgICogICAgIHJheS5zZXQoaW5wdXRTb3VyY2UuZ2V0T3JpZ2luKCksIGlucHV0U291cmNlLmdldERpcmVjdGlvbigpKTtcbiAgICAgKiAgICAgaWYgKG9iai5pbnRlcnNlY3RzUmF5KHJheSkpIHtcbiAgICAgKiAgICAgICAgIC8vIHNlbGVjdGVkIGFuIG9iamVjdCB3aXRoIGlucHV0IHNvdXJjZVxuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHtAbGluayBYcklucHV0U291cmNlfSBoYXMgc3RhcnRlZCB0byB0cmlnZ2VyIHByaW1hcnkgYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IFhySW5wdXQjc2VsZWN0c3RhcnRcbiAgICAgKiBAcGFyYW0ge1hySW5wdXRTb3VyY2V9IGlucHV0U291cmNlIC0gSW5wdXQgc291cmNlIHRoYXQgdHJpZ2dlcmVkIHNlbGVjdHN0YXJ0IGV2ZW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldnQgLSBYUklucHV0U291cmNlRXZlbnQgZXZlbnQgZGF0YSBmcm9tIFdlYlhSIEFQSS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4ge0BsaW5rIFhySW5wdXRTb3VyY2V9IGhhcyBlbmRlZCB0cmlnZ2VycmluZyBwcmltYXJ5IGFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBYcklucHV0I3NlbGVjdGVuZFxuICAgICAqIEBwYXJhbSB7WHJJbnB1dFNvdXJjZX0gaW5wdXRTb3VyY2UgLSBJbnB1dCBzb3VyY2UgdGhhdCB0cmlnZ2VyZWQgc2VsZWN0ZW5kIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldnQgLSBYUklucHV0U291cmNlRXZlbnQgZXZlbnQgZGF0YSBmcm9tIFdlYlhSIEFQSS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4ge0BsaW5rIFhySW5wdXRTb3VyY2V9IGhhcyB0cmlnZ2VyZWQgc3F1ZWV6ZSBhY3Rpb24uIFRoaXMgaXMgYXNzb2NpYXRlZCB3aXRoXG4gICAgICogXCJncmFiYmluZ1wiIGFjdGlvbiBvbiB0aGUgY29udHJvbGxlcnMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgWHJJbnB1dCNzcXVlZXplXG4gICAgICogQHBhcmFtIHtYcklucHV0U291cmNlfSBpbnB1dFNvdXJjZSAtIElucHV0IHNvdXJjZSB0aGF0IHRyaWdnZXJlZCBzcXVlZXplIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldnQgLSBYUklucHV0U291cmNlRXZlbnQgZXZlbnQgZGF0YSBmcm9tIFdlYlhSIEFQSS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4ge0BsaW5rIFhySW5wdXRTb3VyY2V9IGhhcyBzdGFydGVkIHRvIHRyaWdnZXIgc3FlZXplIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBYcklucHV0I3NxdWVlemVzdGFydFxuICAgICAqIEBwYXJhbSB7WHJJbnB1dFNvdXJjZX0gaW5wdXRTb3VyY2UgLSBJbnB1dCBzb3VyY2UgdGhhdCB0cmlnZ2VyZWQgc3F1ZWV6ZXN0YXJ0IGV2ZW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldnQgLSBYUklucHV0U291cmNlRXZlbnQgZXZlbnQgZGF0YSBmcm9tIFdlYlhSIEFQSS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGFwcC54ci5pbnB1dC5vbignc3F1ZWV6ZXN0YXJ0JywgZnVuY3Rpb24gKGlucHV0U291cmNlLCBldnQpIHtcbiAgICAgKiAgICAgaWYgKG9iai5jb250YWluc1BvaW50KGlucHV0U291cmNlLmdldFBvc2l0aW9uKCkpKSB7XG4gICAgICogICAgICAgICAvLyBncmFiYmVkIGFuIG9iamVjdFxuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHtAbGluayBYcklucHV0U291cmNlfSBoYXMgZW5kZWQgdHJpZ2dlcnJpbmcgc3FlZXplIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBYcklucHV0I3NxdWVlemVlbmRcbiAgICAgKiBAcGFyYW0ge1hySW5wdXRTb3VyY2V9IGlucHV0U291cmNlIC0gSW5wdXQgc291cmNlIHRoYXQgdHJpZ2dlcmVkIHNxdWVlemVlbmQgZXZlbnQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2dCAtIFhSSW5wdXRTb3VyY2VFdmVudCBldmVudCBkYXRhIGZyb20gV2ViWFIgQVBJLlxuICAgICAqL1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX29uU2Vzc2lvblN0YXJ0KCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5tYW5hZ2VyLnNlc3Npb247XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXRzb3VyY2VzY2hhbmdlJywgdGhpcy5fb25JbnB1dFNvdXJjZXNDaGFuZ2VFdnQpO1xuXG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRTb3VyY2UgPSB0aGlzLl9nZXRCeUlucHV0U291cmNlKGV2dC5pbnB1dFNvdXJjZSk7XG4gICAgICAgICAgICBpbnB1dFNvdXJjZS51cGRhdGUoZXZ0LmZyYW1lKTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLmZpcmUoJ3NlbGVjdCcsIGV2dCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3NlbGVjdCcsIGlucHV0U291cmNlLCBldnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIChldnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0U291cmNlID0gdGhpcy5fZ2V0QnlJbnB1dFNvdXJjZShldnQuaW5wdXRTb3VyY2UpO1xuICAgICAgICAgICAgaW5wdXRTb3VyY2UudXBkYXRlKGV2dC5mcmFtZSk7XG4gICAgICAgICAgICBpbnB1dFNvdXJjZS5fc2VsZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLmZpcmUoJ3NlbGVjdHN0YXJ0JywgZXZ0KTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnc2VsZWN0c3RhcnQnLCBpbnB1dFNvdXJjZSwgZXZ0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRTb3VyY2UgPSB0aGlzLl9nZXRCeUlucHV0U291cmNlKGV2dC5pbnB1dFNvdXJjZSk7XG4gICAgICAgICAgICBpbnB1dFNvdXJjZS51cGRhdGUoZXZ0LmZyYW1lKTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLl9zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLmZpcmUoJ3NlbGVjdGVuZCcsIGV2dCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3NlbGVjdGVuZCcsIGlucHV0U291cmNlLCBldnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NxdWVlemUnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IHRoaXMuX2dldEJ5SW5wdXRTb3VyY2UoZXZ0LmlucHV0U291cmNlKTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLnVwZGF0ZShldnQuZnJhbWUpO1xuICAgICAgICAgICAgaW5wdXRTb3VyY2UuZmlyZSgnc3F1ZWV6ZScsIGV2dCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3NxdWVlemUnLCBpbnB1dFNvdXJjZSwgZXZ0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc3F1ZWV6ZXN0YXJ0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRTb3VyY2UgPSB0aGlzLl9nZXRCeUlucHV0U291cmNlKGV2dC5pbnB1dFNvdXJjZSk7XG4gICAgICAgICAgICBpbnB1dFNvdXJjZS51cGRhdGUoZXZ0LmZyYW1lKTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLl9zcXVlZXppbmcgPSB0cnVlO1xuICAgICAgICAgICAgaW5wdXRTb3VyY2UuZmlyZSgnc3F1ZWV6ZXN0YXJ0JywgZXZ0KTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnc3F1ZWV6ZXN0YXJ0JywgaW5wdXRTb3VyY2UsIGV2dCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NxdWVlemVlbmQnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IHRoaXMuX2dldEJ5SW5wdXRTb3VyY2UoZXZ0LmlucHV0U291cmNlKTtcbiAgICAgICAgICAgIGlucHV0U291cmNlLnVwZGF0ZShldnQuZnJhbWUpO1xuICAgICAgICAgICAgaW5wdXRTb3VyY2UuX3NxdWVlemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaW5wdXRTb3VyY2UuZmlyZSgnc3F1ZWV6ZWVuZCcsIGV2dCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3NxdWVlemVlbmQnLCBpbnB1dFNvdXJjZSwgZXZ0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWRkIGlucHV0IHNvdXJjZXNcbiAgICAgICAgY29uc3QgaW5wdXRTb3VyY2VzID0gc2Vzc2lvbi5pbnB1dFNvdXJjZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRJbnB1dFNvdXJjZShpbnB1dFNvdXJjZXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX29uU2Vzc2lvbkVuZCgpIHtcbiAgICAgICAgbGV0IGkgPSB0aGlzLl9pbnB1dFNvdXJjZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IHRoaXMuX2lucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0U291cmNlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpbnB1dFNvdXJjZS5maXJlKCdyZW1vdmUnKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgncmVtb3ZlJywgaW5wdXRTb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMubWFuYWdlci5zZXNzaW9uO1xuICAgICAgICBzZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0c291cmNlc2NoYW5nZScsIHRoaXMuX29uSW5wdXRTb3VyY2VzQ2hhbmdlRXZ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1hSSW5wdXRTb3VyY2VzQ2hhbmdlRXZlbnR9IGV2dCAtIFdlYlhSIGlucHV0IHNvdXJjZXMgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uSW5wdXRTb3VyY2VzQ2hhbmdlKGV2dCkge1xuICAgICAgICAvLyByZW1vdmVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldnQucmVtb3ZlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlSW5wdXRTb3VyY2UoZXZ0LnJlbW92ZWRbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZ0LmFkZGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRJbnB1dFNvdXJjZShldnQuYWRkZWRbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtYUklucHV0U291cmNlfSB4cklucHV0U291cmNlIC0gSW5wdXQgc291cmNlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge1hySW5wdXRTb3VyY2V8bnVsbH0gVGhlIGlucHV0IHNvdXJjZSB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIFdlYlhSIGlucHV0IHNvdXJjZSBvclxuICAgICAqIG51bGwgaWYgbm8gbWF0Y2ggaXMgZm91bmQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0QnlJbnB1dFNvdXJjZSh4cklucHV0U291cmNlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW5wdXRTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5wdXRTb3VyY2VzW2ldLmlucHV0U291cmNlID09PSB4cklucHV0U291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7WFJJbnB1dFNvdXJjZX0geHJJbnB1dFNvdXJjZSAtIElucHV0IHNvdXJjZSB0byBhZGQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYWRkSW5wdXRTb3VyY2UoeHJJbnB1dFNvdXJjZSkge1xuICAgICAgICBpZiAodGhpcy5fZ2V0QnlJbnB1dFNvdXJjZSh4cklucHV0U291cmNlKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IG5ldyBYcklucHV0U291cmNlKHRoaXMubWFuYWdlciwgeHJJbnB1dFNvdXJjZSk7XG4gICAgICAgIHRoaXMuX2lucHV0U291cmNlcy5wdXNoKGlucHV0U291cmNlKTtcbiAgICAgICAgdGhpcy5maXJlKCdhZGQnLCBpbnB1dFNvdXJjZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtYUklucHV0U291cmNlfSB4cklucHV0U291cmNlIC0gSW5wdXQgc291cmNlIHRvIHJlbW92ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVJbnB1dFNvdXJjZSh4cklucHV0U291cmNlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW5wdXRTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5wdXRTb3VyY2VzW2ldLmlucHV0U291cmNlICE9PSB4cklucHV0U291cmNlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IHRoaXMuX2lucHV0U291cmNlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0U291cmNlcy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgICAgIGxldCBoID0gaW5wdXRTb3VyY2UuaGl0VGVzdFNvdXJjZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGgtLSkge1xuICAgICAgICAgICAgICAgIGlucHV0U291cmNlLmhpdFRlc3RTb3VyY2VzW2hdLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnB1dFNvdXJjZS5maXJlKCdyZW1vdmUnKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgncmVtb3ZlJywgaW5wdXRTb3VyY2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsqfSBmcmFtZSAtIFhSRnJhbWUgZnJvbSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgY2FsbGJhY2suXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHVwZGF0ZShmcmFtZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0U291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5faW5wdXRTb3VyY2VzW2ldLnVwZGF0ZShmcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGFjdGl2ZSB7QGxpbmsgWHJJbnB1dFNvdXJjZX0gaW5zdGFuY2VzLlxuICAgICAqXG4gICAgICogQHR5cGUge1hySW5wdXRTb3VyY2VbXX1cbiAgICAgKi9cbiAgICBnZXQgaW5wdXRTb3VyY2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRTb3VyY2VzO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgWHJJbnB1dCB9O1xuIl0sIm5hbWVzIjpbIlhySW5wdXQiLCJFdmVudEhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsIm1hbmFnZXIiLCJfaW5wdXRTb3VyY2VzIiwiX29uSW5wdXRTb3VyY2VzQ2hhbmdlRXZ0IiwiZXZ0IiwiX29uSW5wdXRTb3VyY2VzQ2hhbmdlIiwib24iLCJfb25TZXNzaW9uU3RhcnQiLCJfb25TZXNzaW9uRW5kIiwic2Vzc2lvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnB1dFNvdXJjZSIsIl9nZXRCeUlucHV0U291cmNlIiwidXBkYXRlIiwiZnJhbWUiLCJmaXJlIiwiX3NlbGVjdGluZyIsIl9zcXVlZXppbmciLCJpbnB1dFNvdXJjZXMiLCJpIiwibGVuZ3RoIiwiX2FkZElucHV0U291cmNlIiwic3BsaWNlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZWQiLCJfcmVtb3ZlSW5wdXRTb3VyY2UiLCJhZGRlZCIsInhySW5wdXRTb3VyY2UiLCJYcklucHV0U291cmNlIiwicHVzaCIsImgiLCJoaXRUZXN0U291cmNlcyIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFXQSxNQUFNQSxPQUFOLFNBQXNCQyxZQUF0QixDQUFtQztFQXlCL0JDLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0FBQ2pCLElBQUEsS0FBQSxFQUFBLENBQUE7QUFEaUIsSUFBQSxJQUFBLENBcEJyQkEsT0FvQnFCLEdBQUEsS0FBQSxDQUFBLENBQUE7SUFBQSxJQWRyQkMsQ0FBQUEsYUFjcUIsR0FkTCxFQWNLLENBQUE7QUFBQSxJQUFBLElBQUEsQ0FSckJDLHdCQVFxQixHQUFBLEtBQUEsQ0FBQSxDQUFBO0lBR2pCLElBQUtGLENBQUFBLE9BQUwsR0FBZUEsT0FBZixDQUFBOztJQUVBLElBQUtFLENBQUFBLHdCQUFMLEdBQWlDQyxHQUFELElBQVM7TUFDckMsSUFBS0MsQ0FBQUEscUJBQUwsQ0FBMkJELEdBQTNCLENBQUEsQ0FBQTtLQURKLENBQUE7O0lBSUEsSUFBS0gsQ0FBQUEsT0FBTCxDQUFhSyxFQUFiLENBQWdCLE9BQWhCLEVBQXlCLElBQUEsQ0FBS0MsZUFBOUIsRUFBK0MsSUFBL0MsQ0FBQSxDQUFBO0lBQ0EsSUFBS04sQ0FBQUEsT0FBTCxDQUFhSyxFQUFiLENBQWdCLEtBQWhCLEVBQXVCLElBQUEsQ0FBS0UsYUFBNUIsRUFBMkMsSUFBM0MsQ0FBQSxDQUFBO0FBQ0gsR0FBQTs7QUF5RkRELEVBQUFBLGVBQWUsR0FBRztBQUNkLElBQUEsTUFBTUUsT0FBTyxHQUFHLElBQUtSLENBQUFBLE9BQUwsQ0FBYVEsT0FBN0IsQ0FBQTtBQUNBQSxJQUFBQSxPQUFPLENBQUNDLGdCQUFSLENBQXlCLG9CQUF6QixFQUErQyxLQUFLUCx3QkFBcEQsQ0FBQSxD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
