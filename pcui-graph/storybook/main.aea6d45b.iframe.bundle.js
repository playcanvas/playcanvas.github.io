(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/base-component.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.link.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),deepCopyFunction=(__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.number.is-finite.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),function deepCopyFunction(inObject){var value,key;if("object"!=typeof inObject||null===inObject)return inObject;var outObject=Array.isArray(inObject)?[]:{};for(key in inObject)value=inObject[key],outObject[key]=deepCopyFunction(value);return outObject}),lodash=(__webpack_require__("./node_modules/core-js/modules/es.string.sub.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./src/lib/joint.scss"),__webpack_require__("./src/lib/layout.scss"),__webpack_require__("./src/lib/material.scss"),__webpack_require__("./node_modules/jquery/dist/jquery.js"),__webpack_require__("./node_modules/lodash/lodash.js")),lodash_default=__webpack_require__.n(lodash),joint_min=(__webpack_require__("./node_modules/backbone/backbone.js"),__webpack_require__("./node_modules/jointjs/dist/joint.min.js"));__webpack_require__("./node_modules/core-js/modules/es.object.freeze.js");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Vec2=function(){function Vec2(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vec2),2===x.length?(this.x=x[0],this.y=x[1]):(this.x=x,this.y=y)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Vec2,[{key:"add",value:function add(rhs){return this.x+=rhs.x,this.y+=rhs.y,this}},{key:"add2",value:function add2(lhs,rhs){return this.x=lhs.x+rhs.x,this.y=lhs.y+rhs.y,this}},{key:"addScalar",value:function addScalar(scalar){return this.x+=scalar,this.y+=scalar,this}},{key:"clone",value:function clone(){return new Vec2(this.x,this.y)}},{key:"copy",value:function copy(rhs){return this.x=rhs.x,this.y=rhs.y,this}},{key:"cross",value:function cross(rhs){return this.x*rhs.y-this.y*rhs.x}},{key:"distance",value:function distance(rhs){var x=this.x-rhs.x,y=this.y-rhs.y;return Math.sqrt(x*x+y*y)}},{key:"div",value:function div(rhs){return this.x/=rhs.x,this.y/=rhs.y,this}},{key:"div2",value:function div2(lhs,rhs){return this.x=lhs.x/rhs.x,this.y=lhs.y/rhs.y,this}},{key:"divScalar",value:function divScalar(scalar){return this.x/=scalar,this.y/=scalar,this}},{key:"dot",value:function dot(rhs){return this.x*rhs.x+this.y*rhs.y}},{key:"equals",value:function equals(rhs){return this.x===rhs.x&&this.y===rhs.y}},{key:"length",value:function length(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"lengthSq",value:function lengthSq(){return this.x*this.x+this.y*this.y}},{key:"lerp",value:function lerp(lhs,rhs,alpha){return this.x=lhs.x+alpha*(rhs.x-lhs.x),this.y=lhs.y+alpha*(rhs.y-lhs.y),this}},{key:"mul",value:function mul(rhs){return this.x*=rhs.x,this.y*=rhs.y,this}},{key:"mul2",value:function mul2(lhs,rhs){return this.x=lhs.x*rhs.x,this.y=lhs.y*rhs.y,this}},{key:"mulScalar",value:function mulScalar(scalar){return this.x*=scalar,this.y*=scalar,this}},{key:"normalize",value:function normalize(){var lengthSq=this.x*this.x+this.y*this.y;if(lengthSq>0){var invLength=1/Math.sqrt(lengthSq);this.x*=invLength,this.y*=invLength}return this}},{key:"floor",value:function floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"min",value:function min(rhs){return rhs.x<this.x&&(this.x=rhs.x),rhs.y<this.y&&(this.y=rhs.y),this}},{key:"max",value:function max(rhs){return rhs.x>this.x&&(this.x=rhs.x),rhs.y>this.y&&(this.y=rhs.y),this}},{key:"set",value:function set(x,y){return this.x=x,this.y=y,this}},{key:"sub",value:function sub(rhs){return this.x-=rhs.x,this.y-=rhs.y,this}},{key:"sub2",value:function sub2(lhs,rhs){return this.x=lhs.x-rhs.x,this.y=lhs.y-rhs.y,this}},{key:"subScalar",value:function subScalar(scalar){return this.x-=scalar,this.y-=scalar,this}},{key:"toString",value:function toString(){return"["+this.x+", "+this.y+"]"}}],[{key:"angleRad",value:function angleRad(lhs,rhs){return Math.atan2(lhs.x*rhs.y-lhs.y*rhs.x,lhs.x*rhs.x+lhs.y*rhs.y)}}]),Vec2}();function joint_graph_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function joint_graph_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Vec2.ZERO=Object.freeze(new Vec2(0,0)),Vec2.ONE=Object.freeze(new Vec2(1,1)),Vec2.UP=Object.freeze(new Vec2(0,1)),Vec2.DOWN=Object.freeze(new Vec2(0,-1)),Vec2.RIGHT=Object.freeze(new Vec2(1,0)),Vec2.LEFT=Object.freeze(new Vec2(-1,0)),joint_min.V.matrixToTransformString=function(matrix){return matrix||(matrix=!0),"matrix("+[matrix.a||1,matrix.b||0,matrix.c||0,matrix.d||1,matrix.e||0,matrix.f||0]+")"},joint_min.V.prototype.transform=function(matrix,opt){var node=this.node;if(joint_min.V.isUndefined(matrix))return node.parentNode?this.getTransformToElement(node.parentNode):node.getScreenCTM();if(opt&&opt.absolute)return this.attr("transform",joint_min.V.matrixToTransformString(matrix));var svgTransform=joint_min.V.createSVGTransform(matrix);return node.transform.baseVal.appendItem(svgTransform),this};var joint_graph_JointGraph=function(){function JointGraph(dom){var _this=this,config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};joint_graph_classCallCheck(this,JointGraph),this._config=config,this._graph=new joint_min.dia.Graph({},{cellNamespace:joint_min.shape}),this._paper=new joint_min.dia.Paper({el:dom,model:this._graph,width:dom.offsetWidth,cellViewNamespace:joint_min.shapes,height:dom.offsetHeight,clickThreshold:1,restrictTranslate:this._config.restrictTranslate,background:{color:config.defaultStyles.background.color},gridSize:config.defaultStyles.background.gridSize,linkPinning:!1,interactive:!this._config.readOnly,defaultLink:function defaultLink(cellView,magnet){var defaultLink=new joint_min.shapes.standard.Link({connector:{name:"normal"}});return defaultLink.attr({line:{stroke:joint_min.V(magnet).attr("stroke"),strokeWidth:2,targetMarker:null}}),defaultLink},validateConnection:function validateConnection(cellViewS,magnetS,cellViewT,magnetT,end,linkView){if(joint_min.V(cellViewS).id===joint_min.V(cellViewT).id)return!1;if(!joint_min.V(magnetS)||!joint_min.V(magnetT))return!1;var sPort=joint_min.V(magnetS).attr("port"),tPort=joint_min.V(magnetT.parentNode).attr("port");return!(sPort.includes("in")&&tPort.includes("in")||sPort.includes("out")&&tPort.includes("out"))&&((!sPort.includes("in")||"hidden"===joint_min.V(magnetS.children[1]).attr().visibility)&&cellViewS._portElementsCache[sPort].portContentElement.children()[0].attr().edgeType===cellViewT._portElementsCache[tPort].portContentElement.children()[0].attr().edgeType)},markAvailable:!0,drawGrid:{name:"doubleMesh",args:[{color:"#0e1923",thickness:1},{color:"#06101b",scaleFactor:10,thickness:2}]}});var graphResizeObserver=new ResizeObserver((function(_){_this._resizeGraph(dom)}));graphResizeObserver.observe(dom),this._panPaper=!1,this._translate=new Vec2,this._totalTranslate=new Vec2,this._pan=new Vec2,this._mousePos=new Vec2,this._paper.on("blank:pointerdown",(function(e){_this._panPaper=!0,_this._mousePos=new Vec2(e.offsetX,e.offsetY)})),this._paper.on("blank:pointerup",(function(){_this._panPaper=!1,_this._translate.add(_this._pan)})),dom.addEventListener("mousemove",(function(e){_this._panPaper&&(_this._pan=_this._mousePos.clone().sub(new Vec2(e.offsetX,e.offsetY)),_this._mousePos=new Vec2(e.offsetX,e.offsetY),_this._paper.translate(_this._paper.translate().tx-_this._pan.x,_this._paper.translate().ty-_this._pan.y))}));var handleCanvasMouseWheel=function handleCanvasMouseWheel(e,x,y,delta){e.preventDefault();var newScale=_this._paper.scale().sx+.025*delta;_this._scaleToPoint(newScale,x,y)},handleCellMouseWheel=function handleCellMouseWheel(cellView,e,x,y,delta){return handleCanvasMouseWheel(e,x,y,delta)};if(this._paper.on("cell:mousewheel",handleCellMouseWheel),this._paper.on("blank:mousewheel",handleCanvasMouseWheel),config.adjustVertices){var adjustGraphVertices=lodash_default.a.partial(this.adjustVertices.bind(this),this._graph);this._graph.on("add remove change:source change:target",adjustGraphVertices),this._paper.on("cell:pointerup",adjustGraphVertices)}}return function joint_graph_createClass(Constructor,protoProps,staticProps){return protoProps&&joint_graph_defineProperties(Constructor.prototype,protoProps),staticProps&&joint_graph_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(JointGraph,[{key:"_resizeGraph",value:function _resizeGraph(dom){this._paper.setDimensions(dom.offsetWidth,dom.offsetHeight)}},{key:"_scaleToPoint",value:function _scaleToPoint(nextScale,x,y){if(nextScale>=(this._config.minZoom||.25)&&nextScale<=(this._config.maxZoom||1.5)){var beta=this._paper.scale().sx/nextScale,ax=x-x*beta,ay=y-y*beta,translate=this._paper.translate(),nextTx=translate.tx-ax*nextScale,nextTy=translate.ty-ay*nextScale;this._paper.translate(nextTx,nextTy);var ctm=this._paper.matrix();ctm.a=nextScale,ctm.d=nextScale,this._paper.matrix(ctm)}}},{key:"adjustVertices",value:function adjustVertices(graph,cell){var _this2=this;if(!this.ignoreAdjustVertices)if((cell=cell.model||cell)instanceof joint_min.dia.Element)lodash_default.a.chain(graph.getConnectedLinks(cell)).groupBy((function(link){return lodash_default.a.omit([link.source().id,link.target().id],cell.id)[0]})).each((function(group,key){"undefined"!==key&&_this2.adjustVertices(graph,lodash_default.a.first(group))})).value();else{var sourceId=cell.get("source").id||cell.previous("source").id,targetId=cell.get("target").id||cell.previous("target").id;if(sourceId&&targetId){var siblings=lodash_default.a.filter(graph.getLinks(),(function(sibling){var siblingSourceId=sibling.source().id,siblingTargetId=sibling.target().id;return siblingSourceId===sourceId&&siblingTargetId===targetId||siblingSourceId===targetId&&siblingTargetId===sourceId})),numSiblings=siblings.length;switch(numSiblings){case 0:break;case 1:cell.unset("vertices"),cell.set("connector",{name:"normal"});break;default:var sourceCenter=graph.getCell(sourceId).getBBox().center(),targetCenter=graph.getCell(targetId).getBBox().center();joint_min.g.Line(sourceCenter,targetCenter).midpoint();var theta=sourceCenter.theta(targetCenter);lodash_default.a.each(siblings,(function(sibling,index){var offset=20*Math.ceil(index/2),sign=index%2?1:-1;numSiblings%2==0&&(offset-=10*sign);var reverse=theta<180?1:-1,angle=joint_min.g.toRad(theta+sign*reverse*90),shift=joint_min.g.Point.fromPolar(offset*sign,angle,0);_this2.ignoreAdjustVertices=!0,sibling.source(sibling.getSourceCell(),{anchor:{name:"center",args:{dx:shift.x,dy:shift.y}}}),sibling.target(sibling.getTargetCell(),{anchor:{name:"center",args:{dx:shift.x,dy:shift.y}}}),_this2.ignoreAdjustVertices=!1}))}}}}}]),JointGraph}(),joint_graph=joint_graph_JointGraph,pcui=__webpack_require__("./node_modules/@playcanvas/pcui/dist/pcui.mjs");function graph_view_node_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Colors_bcgDarkest="#20292b",graph_view_node_GraphViewNode=function(){function GraphViewNode(graphView,paper,graph,graphSchema,nodeData,nodeSchema,onCreateEdge,onNodeSelected){var _this=this;!function graph_view_node_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GraphViewNode),this._graphView=graphView,this._config=graphView._config,this._paper=paper,this._graph=graph,this._graphSchema=graphSchema,this.nodeData=nodeData,this.nodeSchema=nodeSchema,this.state=GraphViewNode.STATES.DEFAULT;var rectHeight=this.getSchemaValue("baseHeight"),portHeight=0,attributeHeight=0;if(nodeSchema.inPorts&&(portHeight=25*nodeSchema.inPorts.length+10),nodeSchema.outPorts){var outHeight=25*nodeSchema.outPorts.length+10;outHeight>portHeight&&(portHeight=outHeight)}var visibleAttributes=nodeSchema.attributes&&nodeSchema.attributes.filter((function(a){return!a.hidden}));visibleAttributes&&visibleAttributes.length>0&&(attributeHeight=32*visibleAttributes.length+10);var labelName,rectSize={x:this.getSchemaValue("baseWidth"),y:rectHeight+portHeight+attributeHeight};labelName="string"==typeof(nodeSchema.headerTextFormatter&&nodeSchema.headerTextFormatter(nodeData.attributes,nodeData.id))?nodeSchema.headerTextFormatter(nodeData.attributes,nodeData.id):nodeSchema.outPorts||nodeSchema.inPorts?nodeData.attributes&&nodeData.attributes.name?nodeData.attributes.name+" ("+nodeSchema.name+")":nodeSchema.name:nodeData.attributes&&nodeData.attributes.name||nodeData.name;var rect=new joint_min.shapes.html.Element({attrs:{body:{fill:this.getSchemaValue("fill"),stroke:this.getSchemaValue("stroke"),strokeWidth:2,width:rectSize.x,height:rectSize.y},labelBackground:{fill:this.getSchemaValue("fill"),refX:2,refY:2,width:rectSize.x-4,height:rectHeight-4},labelSeparator:{fill:this.getSchemaValue("stroke"),width:rectSize.x-2,height:this.getSchemaValue("inPorts")||this.getSchemaValue("outPorts")?2:0,refX:1,refY:rectHeight-1},inBackground:{fill:this.getSchemaValue("fillSecondary"),width:this.getSchemaValue("inPorts")?rectSize.x/2-1:rectSize.x-2,height:rectSize.y-rectHeight-2>=0?rectSize.y-rectHeight-2:0,refX:1,refY:rectHeight+1},outBackground:{fill:this.getSchemaValue("fill"),width:this.getSchemaValue("inPorts")?rectSize.x/2-1:0,height:rectSize.y-rectHeight-2>=0?rectSize.y-rectHeight-2:0,refX:rectSize.x/2,refY:rectHeight+1},icon:this.getSchemaValue("includeIcon")?{text:this.getSchemaValue("icon"),fontFamily:"pc-icon",fontSize:14,fill:this.getSchemaValue("iconColor"),refX:8,refY:8}:void 0,label:{text:labelName,fill:this.getSchemaValue("textColor"),textAnchor:this.getSchemaValue("textAlignMiddle")?"middle":"left",refX:this.getSchemaValue("textAlignMiddle")?rectSize.x/2:this.getSchemaValue("includeIcon")?28:14,refY:this.getSchemaValue("textAlignMiddle")?rectHeight/2:14,fontSize:12,fontWeight:600,width:rectSize.x,height:rectHeight,lineSpacing:50,lineHeight:this.getSchemaValue("lineHeight")},marker:nodeData.marker?{refX:rectSize.x-20,fill:this.getSchemaValue("stroke"),d:"M0 0 L20 0 L20 20 Z"}:null,texture:nodeData.texture?{href:nodeData.texture,fill:"red",width:95,height:95,refX:5,refY:65}:null},ports:{groups:{in:{position:{name:"line",args:{start:{x:0,y:rectHeight},end:{x:0,y:rectHeight+25*(nodeSchema.inPorts?nodeSchema.inPorts.length:0)}}},label:{position:{name:"right",args:{y:5}}},markup:'<circle class="port-body"></circle><circle class="port-inner-body" visibility="hidden"></circle>',attrs:{".port-body":{strokeWidth:2,fill:Colors_bcgDarkest,magnet:!0,r:5,cy:5,cx:1},".port-inner-body":{strokeWidth:2,stroke:this._config.defaultStyles.edge.stroke,r:1,cy:5,cx:1}}},out:{position:{name:"line",args:{start:{x:rectSize.x-10,y:rectHeight},end:{x:rectSize.x-10,y:rectHeight+25*(nodeSchema.outPorts?nodeSchema.outPorts.length:0)}}},label:{position:{name:"left",args:{y:5,x:-5}}},markup:'<circle class="port-body"></circle><circle class="port-inner-body" visibility="hidden"></circle>',attrs:{".port-body":{strokeWidth:2,fill:Colors_bcgDarkest,magnet:!0,r:5,cy:5,cx:9},".port-inner-body":{strokeWidth:2,stroke:this._config.defaultStyles.edge.stroke,r:1,cy:5,cx:9}}}}}});rect.position(nodeData.posX,nodeData.posY),rect.resize(rectSize.x,rectSize.y),nodeSchema.inPorts&&nodeSchema.inPorts.forEach((function(port,i){rect.addPort({id:"in"+i,group:"in",edgeType:port.edgeType,markup:'<circle class="port-body" id="'+nodeData.id+"-in"+i+'" edgeType="'+port.type+'"></circle><circle class="port-inner-body" visibility="hidden"></circle>',attrs:{".port-body":{stroke:_this._graphSchema.edges[port.type].stroke||_this._config.defaultStyles.edge.stroke},text:{text:port.textFormatter?port.textFormatter(nodeData.attributes):port.name,fill:_this.getSchemaValue("textColorSecondary"),"font-size":14}}}),_this._graph.on("change:target",(function(cell){if(!_this._suppressChangeTargetEvent){var target=cell.get("target"),source=cell.get("source");if(target&&source){if(target&&target.port&&target.port.includes("out")){var temp=target;target=source,source=temp}if(target&&target.id&&target.id===_this.model.id&&source&&source.port&&target.port&&Number(target.port.replace("in",""))===i){var sourceNodeId=_this._graphView.getNode(source.id).nodeData.id,edgeId=sourceNodeId+","+source.port.replace("out","")+"-"+_this.nodeData.id+","+target.port.replace("in",""),edge={to:_this.nodeData.id,from:sourceNodeId,outPort:Number(source.port.replace("out","")),inPort:Number(target.port.replace("in","")),edgeType:port.type};_this._suppressChangeTargetEvent=!0,_this._graph.removeCells(cell),_this._suppressChangeTargetEvent=!1,onCreateEdge(edgeId,edge)}}}}))})),nodeSchema.outPorts&&nodeSchema.outPorts.forEach((function(port,i){return rect.addPort({id:"out"+i,group:"out",markup:'<circle class="port-body" id="'+nodeData.id+"-out"+i+'" edgeType="'+port.type+'"></circle><circle class="port-inner-body" visibility="hidden"></circle>',attrs:{type:port.type,".port-body":{stroke:_this._graphSchema.edges[port.type].stroke||_this._config.defaultStyles.edge.stroke},text:{text:port.textFormatter?port.textFormatter(nodeData.attributes):port.name,fill:_this.getSchemaValue("textColorSecondary"),"font-size":14}}})}));var containers=[];visibleAttributes&&visibleAttributes.forEach((function(attribute,i){var input,nodeValue,container=new pcui.b({class:"graph-node-container"}),label=new pcui.e({text:attribute.name,class:"graph-node-label"});switch(nodeData.attributes&&(void 0!==nodeData.attributes[attribute.name]?nodeValue=nodeData.attributes[attribute.name]:Object.keys(nodeData.attributes).forEach((function(k){var a=nodeData.attributes[k];a.name===attribute.name&&(nodeValue=a.defaultValue)}))),nodeValue||(nodeValue=nodeData[attribute.name]),attribute.type){case"TEXT_INPUT":input=new pcui.g({class:"graph-node-input",value:nodeValue});break;case"BOOLEAN_INPUT":input=new pcui.a({class:"graph-node-input",value:nodeValue});break;case"NUMERIC_INPUT":input=new pcui.f({class:"graph-node-input",hideSlider:!0,value:nodeValue&&nodeValue.x?nodeValue.x:nodeValue});break;case"VEC_2_INPUT":(input=new pcui.h({dimensions:2,class:"graph-node-input",hideSlider:!0,value:[nodeValue.x,nodeValue.y]})).dom.setAttribute("style","margin-right: 6px;"),input.inputs.forEach((function(i){return i._sliderControl.dom.remove()}));break;case"VEC_3_INPUT":(input=new pcui.h({dimensions:3,class:"graph-node-input",hideSlider:!0,value:[nodeValue.x,nodeValue.y,nodeValue.z]})).dom.setAttribute("style","margin-right: 6px;"),input.inputs.forEach((function(i){return i._sliderControl.dom.remove()}));break;case"VEC_4_INPUT":(input=new pcui.h({dimensions:4,class:"graph-node-input",hideSlider:!0,value:[nodeValue.x,nodeValue.y,nodeValue.z,nodeValue.w]})).dom.setAttribute("style","margin-right: 6px;"),input.inputs.forEach((function(i){return i._sliderControl.dom.remove()}))}input.enabled=!_this._graphView._config.readOnly,input.dom.setAttribute("id","input_"+attribute.name),container.dom.setAttribute("style","margin-top: "+(0===i?33+portHeight:5)+"px; margin-bottom: 5px;"),container.append(label),container.append(input),containers.push(container)}));var onCellMountedToDom=function onCellMountedToDom(){var nodeDiv=document.querySelector("#nodediv_"+rect.id);containers.forEach((function(container){nodeDiv.appendChild(container.dom)})),_this._paper.findViewByModel(rect).on("element:pointerdown",(function(){_this._hasLinked?_this._hasLinked=!1:onNodeSelected(_this.nodeData)}))};this._graphView._batchingCells?(this._graphView._cells.push(rect),this._graphView._cellMountedFunctions.push(onCellMountedToDom)):(this._graph.addCell(rect),onCellMountedToDom()),this.model=rect}return function graph_view_node_createClass(Constructor,protoProps,staticProps){return protoProps&&graph_view_node_defineProperties(Constructor.prototype,protoProps),staticProps&&graph_view_node_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(GraphViewNode,[{key:"getSchemaValue",value:function getSchemaValue(item){return void 0!==this.nodeSchema[item]?this.nodeSchema[item]:this._config.defaultStyles.node[item]}},{key:"addContextMenu",value:function addContextMenu(items){if(!this._graphView._config.readOnly){var nodeView=this._paper.findViewByModel(this.model),contextMenu=document.createElement("div");this._paper.el.appendChild(contextMenu),this._contextMenuElement=contextMenu,this._contextMenu=new pcui.c({triggerElement:nodeView.el,dom:contextMenu,items:this._graphView._parent._initialiseNodeContextMenuItems(this.nodeData,items)})}}},{key:"mapVectorToArray",value:function mapVectorToArray(v){var arr=[];return Number.isFinite(v.x)&&arr.push(v.x),Number.isFinite(v.y)&&arr.push(v.y),Number.isFinite(v.z)&&arr.push(v.z),Number.isFinite(v.w)&&arr.push(v.w),arr}},{key:"updateFormattedTextFields",value:function updateFormattedTextFields(){var _this2=this;if(this.nodeSchema.headerTextFormatter){var formattedText=this.nodeSchema.headerTextFormatter(this.nodeData.attributes,this.nodeData.id);"string"==typeof formattedText&&this.model.attr("label/text",formattedText)}this.nodeSchema.outPorts&&this.nodeSchema.outPorts.forEach((function(port,i){port.textFormatter&&(document.getElementById(_this2.nodeData.id+"-out"+i).parentElement.parentElement.querySelector("tspan").innerHTML=port.textFormatter(_this2.nodeData.attributes))})),this.nodeSchema.inPorts&&this.nodeSchema.inPorts.forEach((function(port,i){port.textFormatter&&(document.getElementById(_this2.nodeData.id+"-in"+i).parentElement.parentElement.querySelector("tspan").innerHTML=port.textFormatter(_this2.nodeData.attributes))}))}},{key:"updateAttribute",value:function updateAttribute(attribute,value){this.nodeData.attributes[attribute]=value;var attributeElement=document.querySelector("#nodediv_"+this.model.id).querySelector("#input_"+attribute);attributeElement&&(attributeElement.ui.suspendEvents=!0,Number.isFinite(value.x)?attributeElement.ui.value=this.mapVectorToArray(value):attributeElement.ui.value=value,attributeElement.ui.error=!1,attributeElement.ui.suspendEvents=!1),this.updateFormattedTextFields()}},{key:"setAttributeErrorState",value:function setAttributeErrorState(attribute,value){var attributeElement=document.querySelector("#nodediv_"+this.model.id).querySelector("#input_"+attribute);attributeElement&&(attributeElement.ui.error=value)}},{key:"updateNodeType",value:function updateNodeType(nodeType){this._paper.findViewByModel(this.model).el.removeEventListener("contextmenu",this._contextMenu._contextMenuEvent),this._paper.el.removeChild(this._contextMenuElement),this.addContextMenu(this._graphSchema.nodes[nodeType].contextMenuItems)}},{key:"updatePosition",value:function updatePosition(pos){this.model.position(pos.x,pos.y)}},{key:"addEvent",value:function addEvent(event,callback,attribute){var _this3=this,nodeView=this._paper.findViewByModel(this.model);switch(event){case"updatePosition":nodeView.on("element:pointerup",(function(){var newPos=_this3._graphView.getWindowToGraphPosition(nodeView.el.getBoundingClientRect());callback(_this3.nodeData.id,newPos)}));break;case"updateAttribute":var attributeElement=document.querySelector("#nodediv_"+this.model.id).querySelector("#input_"+attribute.name);if(!attributeElement)break;attributeElement.ui.on("change",(function(value){if("name"===attribute.name){var nameTaken=!1;Object.keys(_this3._graphView._graphData.get("data.nodes")).forEach((function(nodeKey){_this3._graphView._graphData.get("data.nodes")[nodeKey].name===value&&(nameTaken=!0)}));var _attributeElement=document.querySelector("#nodediv_"+_this3.model.id).querySelector("#input_"+attribute.name);if(nameTaken)return void(_attributeElement.ui.error=!0);_attributeElement.ui.error=!1}callback(_this3.nodeData.id,attribute,value)}))}}},{key:"select",value:function select(){this.model.attr("body/stroke",this.getSchemaValue("strokeSelected")),this.state=GraphViewNode.STATES.SELECTED}},{key:"hover",value:function hover(){this.state!==GraphViewNode.STATES.SELECTED&&this.model.attr("body/stroke",this.getSchemaValue("strokeHover"))}},{key:"hoverRemove",value:function hoverRemove(){this.state===GraphViewNode.STATES.DEFAULT?this.deselect():this.state===GraphViewNode.STATES.SELECTED&&this.select()}},{key:"deselect",value:function deselect(){this.model.attr("body/stroke",this.getSchemaValue("stroke")),this.state=GraphViewNode.STATES.DEFAULT}}]),GraphViewNode}();graph_view_node_GraphViewNode.STATES={DEFAULT:0,SELECTED:1};var graph_view_node=graph_view_node_GraphViewNode;function graph_view_edge_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}joint_min.connectors.smoothInOut=function(sourcePoint,targetPoint,vertices,args){var p1=sourcePoint.clone();p1.offset(30,0);var p2=targetPoint.clone();p2.offset(-30,0);var path=new joint_min.g.Path(joint_min.g.Path.createSegment("M",sourcePoint));return path.appendSegment(joint_min.g.Path.createSegment("C",p1,p2,targetPoint)),path};var graph_view_edge_GraphViewEdge=function(){function GraphViewEdge(graphView,paper,graph,graphSchema,edgeData,edgeSchema,onEdgeSelected){var _this=this;!function graph_view_edge_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GraphViewEdge),this._graphView=graphView,this._config=graphView._config,this._paper=paper,this._graph=graph,this._graphSchema=graphSchema,this.edgeData=edgeData,this._edgeSchema=edgeSchema,this.state=GraphViewEdge.STATES.DEFAULT;var link=GraphViewEdge.createLink(this._config.defaultStyles,edgeSchema,edgeData),sourceNode=this._graphView.getNode(edgeData.from);edgeData&&Number.isFinite(edgeData.outPort)?link.source({id:sourceNode.model.id,port:"out"+edgeData.outPort}):sourceNode.model&&link.source(sourceNode.model);var targetNode=this._graphView.getNode(edgeData.to);edgeData&&Number.isFinite(edgeData.inPort)?link.target({id:targetNode.model.id,port:"in"+edgeData.inPort}):link.target(targetNode.model);var onCellMountedToDom=function onCellMountedToDom(){_this._paper.findViewByModel(link).on("cell:pointerdown",(function(){_this._config.readOnly||onEdgeSelected(edgeData)})),edgeData&&Number.isFinite(edgeData.inPort)&&_this._graphView.updatePortStatesForEdge(link,!0),link.toBack()};this._graphView._batchingCells?(this._graphView._cells.push(link),this._graphView._cellMountedFunctions.push(onCellMountedToDom)):(this._graph.addCell(link),onCellMountedToDom()),this.model=link}return function graph_view_edge_createClass(Constructor,protoProps,staticProps){return protoProps&&graph_view_edge_defineProperties(Constructor.prototype,protoProps),staticProps&&graph_view_edge_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(GraphViewEdge,[{key:"addContextMenu",value:function addContextMenu(items){if(!this._graphView._config.readOnly){var edgeCell=this._paper.findViewByModel(this.model);if(edgeCell){var contextMenu=document.createElement("div");this._paper.el.appendChild(contextMenu),new pcui.c({triggerElement:edgeCell.el,dom:contextMenu,items:items})}}}},{key:"select",value:function select(){var edgeSchema=this._edgeSchema;this.model.attr("line/stroke",edgeSchema.strokeSelected||this._config.defaultStyles.edge.strokeSelected),this.model.attr("line/strokeWidth",edgeSchema.strokeWidthSelected||this._config.defaultStyles.edge.strokeWidthSelected),this.model.attr("line/targetMarker",{stroke:edgeSchema.strokeSelected||this._config.defaultStyles.edge.strokeSelected,fill:edgeSchema.strokeSelected||this._config.defaultStyles.edge.strokeSelected})}},{key:"deselect",value:function deselect(){var edgeSchema=this._edgeSchema;this.model.attr("line/stroke",edgeSchema.stroke||this._config.defaultStyles.edge.stroke),this.model.attr("line/strokeWidth",edgeSchema.strokeWidth||this._config.defaultStyles.edge.strokeWidth),this.model.attr("line/targetMarker",{stroke:edgeSchema.stroke||this._config.defaultStyles.edge.stroke,fill:edgeSchema.stroke||this._config.defaultStyles.edge.stroke}),this.state=GraphViewEdge.STATES.DEFAULT}},{key:"mute",value:function mute(){var edgeSchema=this._edgeSchema;this.model.attr("line/stroke","#42495B"),this.model.attr("line/strokeWidth",edgeSchema.strokeWidth||this._config.defaultStyles.edge.stroke),this.model.attr("line/targetMarker",{stroke:"#9BA1A3",fill:"#9BA1A3"})}},{key:"addSourceMarker",value:function addSourceMarker(){var edgeSchema=this._edgeSchema;this.model.attr("line/sourceMarker",{type:"path",d:"m-2.57106,0.93353c-0.56989,-0.39644 -0.57234,-1.2387 -0.00478,-1.63846l7.25619,-5.11089c0.66251,-0.46663 1.57585,0.00721 1.57585,0.81756l0,10.1587c0,0.8077 -0.90803,1.2821 -1.57106,0.8209l-7.2562,-5.04781z",stroke:edgeSchema.stroke||this._config.defaultStyles.edge.stroke,fill:edgeSchema.stroke||this._config.defaultStyles.edge.stroke})}},{key:"addTargetMarker",value:function addTargetMarker(){var edgeSchema=this._edgeSchema;this.model.attr("line/targetMarker",{type:"path",d:"m-2.57106,0.93353c-0.56989,-0.39644 -0.57234,-1.2387 -0.00478,-1.63846l7.25619,-5.11089c0.66251,-0.46663 1.57585,0.00721 1.57585,0.81756l0,10.1587c0,0.8077 -0.90803,1.2821 -1.57106,0.8209l-7.2562,-5.04781z",stroke:edgeSchema.stroke||this._config.defaultStyles.edge.stroke,fill:edgeSchema.stroke||this._config.defaultStyles.edge.stroke})}}],[{key:"createLink",value:function createLink(defaultStyles,edgeSchema,edgeData){var link=new joint_min.shapes.standard.Link;return link.attr({line:{strokeWidth:edgeSchema.strokeWidth||defaultStyles.edge.strokeWidth,stroke:edgeSchema.stroke||defaultStyles.edge.stroke}}),edgeSchema.smooth||"smooth"===defaultStyles.edge.connectionStyle?link.set("connector",{name:"smooth"}):(edgeSchema.smoothInOut||"smoothInOut"===defaultStyles.edge.connectionStyle)&&link.set("connector",{name:"smoothInOut"}),edgeData&&Number.isFinite(edgeData.outPort)?(link.attr("line/targetMarker",null),link):(edgeSchema.targetMarker||defaultStyles.edge.targetMarker?link.attr("line/targetMarker",{type:"path",d:"m1.18355,0.8573c-0.56989,-0.39644 -0.57234,-1.2387 -0.00478,-1.63846l7.25619,-5.11089c0.66255,-0.46663 1.57585,0.00721 1.57585,0.81756l0,10.1587c0,0.8077 -0.908,1.2821 -1.57106,0.8209l-7.2562,-5.04781z",stroke:edgeSchema.stroke||defaultStyles.edge.stroke,fill:edgeSchema.stroke||defaultStyles.edge.stroke}):link.attr("line/targetMarker",null),(edgeSchema.sourceMarker||defaultStyles.edge.sourceMarker)&&link.attr("line/sourceMarker",{d:"M 6 0 a 6 6 0 1 0 0 1"}),link)}}]),GraphViewEdge}();graph_view_edge_GraphViewEdge.STATES={DEFAULT:0,SELECTED:1};var graph_view_edge=graph_view_edge_GraphViewEdge,constants=(__webpack_require__("./node_modules/jointjs/dist/joint.css"),__webpack_require__("./node_modules/jointjs/css/layout.css"),__webpack_require__("./node_modules/jointjs/css/themes/material.css"),__webpack_require__("./src/constants.js"));function graph_view_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var graph_view_GraphView=function(_JointGraph){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(GraphView,_JointGraph);var _super=_createSuper(GraphView);function GraphView(parent,dom,graphSchema,graphData,config){var _this;return function graph_view_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GraphView),(_this=_super.call(this,dom,config))._parent=parent,_this._dom=dom,_this._graphSchema=graphSchema,_this._graphData=graphData,_this._config=config,_this._nodes={},_this._edges={},_this._cells=[],_this._cellMountedFunctions=[],joint_min.shapes.html={},joint_min.shapes.html.Element=function jointShapeElement(){return joint_min.shapes.standard.Rectangle.extend({defaults:joint_min.util.deepSupplement({type:"html.Element",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"labelBackground"},{tagName:"rect",selector:"labelSeparator"},{tagName:"rect",selector:"inBackground"},{tagName:"rect",selector:"outBackground"},{tagName:"text",selector:"icon"},{tagName:"text",selector:"label"},{tagName:"image",selector:"texture"},{tagName:"path",selector:"marker"}]},joint_min.shapes.standard.Rectangle.prototype.defaults)})}(),joint_min.shapes.html.ElementView=function jointShapeElementView(paper){return joint_min.dia.ElementView.extend({initialize:function initialize(){var _this=this;lodash_default.a.bindAll(this,"updateBox"),joint_min.dia.ElementView.prototype.initialize.apply(this,arguments),this.div=document.createElement("div"),this.div.setAttribute("id","nodediv_"+this.model.id),this.div.classList.add("graph-node-div"),this.model.on("change",this.updateBox,this),paper.on("cell:mousewheel",this.updateBox,this),paper.on("blank:mousewheel",this.updateBox,this),paper.on("blank:pointerup",this.updateBox,this),document.addEventListener("mousemove",(function(e){_this.updateBox()})),this.model.on("remove",this.removeBox,this),this.updateBox()},render:function render(){return joint_min.dia.ElementView.prototype.render.apply(this,arguments),paper.$el.append(this.div),this.updateBox(),this},updateBox:function updateBox(){var bbox=this.model.getBBox();this.div.setAttribute("style","\n            position: absolute;\n            width: "+bbox.width+"px;\n            height: "+bbox.height+"px;\n            left: "+bbox.width/2*paper.scale().sx+"px;\n            top: "+bbox.height/2*paper.scale().sx+"px;\n            transform: translate("+(paper.translate().tx+paper.scale().sx*bbox.x-bbox.width/2)+"px, "+(paper.translate().ty+paper.scale().sx*bbox.y-bbox.height/2)+"px) scale("+paper.scale().sx+");\n        ")},removeBox:function removeBox(evt){this.div.remove()}})}(_this._paper),_this._graph.on("remove",(function(cell){return _this.updatePortStatesForEdge(cell,!1)})),_this._graph.on("change:target",(function(cell){return _this.updatePortStatesForEdge(cell,!0)})),_this._paper.on("cell:mousewheel",(function(){parent._dispatchEvent(constants.b.UPDATE_SCALE,{scale:_this._paper.scale().sx})})),_this._paper.on("blank:mousewheel",(function(){parent._dispatchEvent(constants.b.UPDATE_SCALE,{scale:_this._paper.scale().sx})})),_this._paper.on("blank:pointerup",(function(){parent._dispatchEvent(constants.b.UPDATE_TRANSLATE,{pos:{x:_this._paper.translate().tx,y:_this._paper.translate().ty}})})),_this._paper.on({"cell:mouseenter":function cellMouseenter(cellView){var selectedEdge,selectedEdgeId,node=_this.getNode(cellView.model.id);node&&node.state!==graph_view_node.STATES.SELECTED&&(node.hover(),(selectedEdge=_this._parent._selectedItem&&"EDGE"===_this._parent._selectedItem._type?_this.getEdge(_this._parent._selectedItem._id):null)&&(selectedEdgeId=selectedEdge.model.id),_this._config.edgeHoverEffect&&Object.keys(_this._edges).forEach((function(edgeKey){var currEdge=_this.getEdge(edgeKey);currEdge.model.id!==selectedEdgeId&&([currEdge.edgeData.from,currEdge.edgeData.to].includes(node.nodeData.id)?currEdge.deselect():currEdge.mute())})));var edge=_this.getEdge(cellView.model.id);_this._config.edgeHoverEffect&&edge&&edge.state!==graph_view_edge.STATES.SELECTED&&(edge.deselect(),(selectedEdge=_this._parent._selectedItem&&"EDGE"===_this._parent._selectedItem._type?_this.getEdge(_this._parent._selectedItem._id):null)&&(selectedEdgeId=selectedEdge.model.id),Object.keys(_this._edges).forEach((function(edgeKey){var currEdge=_this.getEdge(edgeKey);edge.model.id!==currEdge.model.id&&selectedEdgeId!==currEdge.model.id&&currEdge.mute()})),_this.getNode(edge.edgeData.from).hover(),_this.getNode(edge.edgeData.to).hover())},"cell:mouseleave":function cellMouseleave(cellView,e){var selectedEdge;if(!e.relatedTarget||!e.relatedTarget.classList.contains("graph-node-input")){var node=_this.getNode(cellView.model.id);node&&node.state!==graph_view_node.STATES.SELECTED&&((selectedEdge=_this._parent._selectedItem&&"EDGE"===_this._parent._selectedItem._type?_this.getEdge(_this._parent._selectedItem._id):null)&&[selectedEdge.edgeData.from,selectedEdge.edgeData.to].includes(node.nodeData.id)||node.hoverRemove(),_this._config.edgeHoverEffect&&Object.keys(_this._edges).forEach((function(edgeKey){var currEdge=_this.getEdge(edgeKey);selectedEdge&&currEdge.model.id===selectedEdge.model.id||currEdge.deselect()})));var edge=_this.getEdge(cellView.model.id);_this._config.edgeHoverEffect&&edge&&edge.state!==graph_view_edge.STATES.SELECTED&&(Object.keys(_this._edges).forEach((function(edgeKey){var currEdge=_this.getEdge(edgeKey);currEdge.state===graph_view_edge.STATES.SELECTED?currEdge.select():currEdge.state===graph_view_edge.STATES.DEFAULT&&(_this._parent._selectedItem&&"EDGE"===_this._parent._selectedItem._type?currEdge.mute():currEdge.deselect())})),(selectedEdge=_this._parent._selectedItem&&"EDGE"===_this._parent._selectedItem._type?_this.getEdge(_this._parent._selectedItem._id):null)&&[selectedEdge.edgeData.from,selectedEdge.edgeData.to].includes(edge.edgeData.from)||_this.getNode(edge.edgeData.from).hoverRemove(),selectedEdge&&[selectedEdge.edgeData.from,selectedEdge.edgeData.to].includes(edge.edgeData.to)||_this.getNode(edge.edgeData.to).hoverRemove())}}}),_this}return function graph_view_createClass(Constructor,protoProps,staticProps){return protoProps&&graph_view_defineProperties(Constructor.prototype,protoProps),staticProps&&graph_view_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(GraphView,[{key:"batchCells",value:function batchCells(){this._batchingCells=!0}},{key:"isBatchingCells",value:function isBatchingCells(){return this._batchingCells}},{key:"addCellMountedFunction",value:function addCellMountedFunction(f){this._cellMountedFunctions.push(f)}},{key:"applyBatchedCells",value:function applyBatchedCells(){this._batchingCells=!1,this._graph.addCells(this._cells),this._cellMountedFunctions.forEach((function(f){return f()})),this._cells=[],this._cellMountedFunctions=[]}},{key:"updatePortStatesForEdge",value:function updatePortStatesForEdge(cell,connected){var source=cell.get("source"),target=cell.get("target");source&&source.port&&target&&target.port&&(this._paper.findViewByModel(source.id)._portElementsCache[source.port].portContentElement.children()[1].attr("visibility",connected?"visible":"hidden"),this._paper.findViewByModel(target.id)._portElementsCache[target.port].portContentElement.children()[1].attr("visibility",connected?"visible":"hidden"))}},{key:"getWindowToGraphPosition",value:function getWindowToGraphPosition(pos){var scale=this._paper.scale().sx,translate=this._paper.translate(),boundingClientRect=this._paper.el.getBoundingClientRect();return new Vec2(-translate.tx/scale+(pos.x-boundingClientRect.x)/scale,-translate.ty/scale+(pos.y-boundingClientRect.y)/scale)}},{key:"addCanvasContextMenu",value:function addCanvasContextMenu(items){return this._viewContextMenu=document.createElement("div"),this._paper.el.appendChild(this._viewContextMenu),new pcui.c({dom:this._viewContextMenu,items:items})._contextMenuEvent}},{key:"addNodeContextMenu",value:function addNodeContextMenu(id,items){var _this2=this,addNodeContextMenuFunction=function addNodeContextMenuFunction(){_this2.getNode(id).addContextMenu(items)};this._batchingCells?this._cellMountedFunctions.push(addNodeContextMenuFunction):addNodeContextMenuFunction()}},{key:"addEdgeContextMenu",value:function addEdgeContextMenu(id,items){this.getEdge(id).addContextMenu(items)}},{key:"getNode",value:function getNode(id){return this._nodes[id]}},{key:"addNode",value:function addNode(nodeData,nodeSchema,onCreateEdge,onNodeSelected){var node=new graph_view_node(this,this._paper,this._graph,this._graphSchema,nodeData,nodeSchema,onCreateEdge,onNodeSelected);return this._nodes[nodeData.id]=node,this._nodes[node.model.id]=node,node.nodeData}},{key:"removeNode",value:function removeNode(modelId){var node=this.getNode(modelId);this._graph.removeCells(node.model),delete this._nodes[node.nodeData.id],delete this._nodes[modelId]}},{key:"updateNodeAttribute",value:function updateNodeAttribute(id,attribute,value){this.getNode(id).updateAttribute(attribute,value)}},{key:"setNodeAttributeErrorState",value:function setNodeAttributeErrorState(id,attribute,value){this.getNode(id).setAttributeErrorState(attribute,value)}},{key:"updateNodePosition",value:function updateNodePosition(id,pos){this.getNode(id).updatePosition(pos)}},{key:"updateNodeType",value:function updateNodeType(id,nodeType){this.getNode(id).updateNodeType(nodeType)}},{key:"addNodeEvent",value:function addNodeEvent(id,event,callback,attribute){var _this3=this,addNodeEventFunction=function addNodeEventFunction(){_this3.getNode(id).addEvent(event,callback,attribute)};this._batchingCells?this._cellMountedFunctions.push(addNodeEventFunction):addNodeEventFunction()}},{key:"getEdge",value:function getEdge(id){if(this._edges[id])return this._edges[id]}},{key:"addEdge",value:function addEdge(edgeData,edgeSchema,onEdgeSelected){var edge;return(edge=Number.isFinite(edgeData.outPort)?this.getEdge(edgeData.from+","+edgeData.outPort+"-"+edgeData.to+","+edgeData.inPort):this.getEdge(edgeData.from+"-"+edgeData.to))?edgeData.to===edge.edgeData.to?edgeData.outPort||edge.addTargetMarker():edgeData.inPort||edge.addSourceMarker():(edge=new graph_view_edge(this,this._paper,this._graph,this._graphSchema,edgeData,edgeSchema,onEdgeSelected),Number.isFinite(edgeData.outPort)?this._edges[edgeData.from+","+edgeData.outPort+"-"+edgeData.to+","+edgeData.inPort]=edge:this._edges[edgeData.from+"-"+edgeData.to]=edge,this._edges[edge.model.id]=edge),edge.edgeData}},{key:"removeEdge",value:function removeEdge(id){var edge=this.getEdge(id);edge&&(this._graph.removeCells(edge.model),delete this._edges[edge.model.id]),delete this._edges[id]}},{key:"disableInputEvents",value:function disableInputEvents(){document.querySelectorAll(".graph-node-input").forEach((function(input){input.classList.add("graph-node-input-no-pointer-events")}))}},{key:"enableInputEvents",value:function enableInputEvents(){document.querySelectorAll(".graph-node-input").forEach((function(input){input.classList.remove("graph-node-input-no-pointer-events")}))}},{key:"addUnconnectedEdge",value:function addUnconnectedEdge(nodeId,edgeType,edgeSchema,validateEdge,onEdgeConnected){var _this4=this;this.disableInputEvents();var link=graph_view_edge.createLink(this._config.defaultStyles,edgeSchema);link.source(this.getNode(nodeId).model),link.target(this.getNode(nodeId).model);var mouseMoveEvent=function mouseMoveEvent(e){var mousePos=_this4.getWindowToGraphPosition(new Vec2(e.clientX,e.clientY)),sourceNodeView=_this4._paper.findViewByModel(_this4.getNode(nodeId).model),sourceNodePos=_this4.getGraphPosition(sourceNodeView.el.getBoundingClientRect()),pointerVector=mousePos.clone().sub(sourceNodePos),direction=new Vec2(e.clientX,e.clientY).clone().sub(sourceNodeView.el.getBoundingClientRect()).normalize().mulScalar(20);pointerVector=sourceNodePos.add(pointerVector).sub(direction),link.target({x:pointerVector.x,y:pointerVector.y})},cellPointerDownEvent=function cellPointerDownEvent(cellView){if(_this4.getNode(cellView.model.id)){var targetNodeId=_this4.getNode(cellView.model.id).nodeData.id,nodeModel=_this4.getNode(nodeId).model;cellView.model.id!==nodeModel.id&&!cellView.model.isLink()&&validateEdge(edgeType,nodeId,targetNodeId)&&(link.target(cellView.model),onEdgeConnected(edgeType,nodeId,targetNodeId)),_this4._graph.removeCells(link),document.removeEventListener("mousemove",mouseMoveEvent),_this4._paper.off("cell:pointerdown",cellPointerDownEvent),_this4.enableInputEvents()}};document.addEventListener("mousemove",mouseMoveEvent),document.addEventListener("mousedown",(function mouseDownEvent(){_this4._paper.off("cell:pointerdown",cellPointerDownEvent),document.removeEventListener("mousemove",mouseMoveEvent),_this4._graph.removeCells(link),_this4.enableInputEvents()})),this._paper.on("cell:pointerdown",cellPointerDownEvent),this._graph.addCell(link)}},{key:"onBlankSelection",value:function onBlankSelection(callback){this._paper.on("blank:pointerdown",(function(){callback()}))}},{key:"selectNode",value:function selectNode(id){var _this5=this,node=this.getNode(id);node&&(node.select(),Object.keys(this._edges).forEach((function(edgeKey){_this5.getEdge(edgeKey).deselect()})))}},{key:"deselectNode",value:function deselectNode(id){var node=this.getNode(id);node&&node.deselect()}},{key:"selectEdge",value:function selectEdge(id){var _this6=this,edge=this.getEdge(id);edge&&(edge.select(),Object.keys(this._edges).forEach((function(edgeKey){var currEdge=_this6.getEdge(edgeKey);edge.model.id!==currEdge.model.id&&currEdge.mute()})),this.getNode(edge.edgeData.from).hover(),this.getNode(edge.edgeData.to).hover())}},{key:"deselectEdge",value:function deselectEdge(id){var _this7=this,edge=this.getEdge(id);edge&&(Object.keys(this._edges).forEach((function(edgeKey){_this7.getEdge(edgeKey).deselect()})),this.getNode(edge.edgeData.from).hoverRemove(),this.getNode(edge.edgeData.to).hoverRemove())}},{key:"setGraphPosition",value:function setGraphPosition(posX,posY){this._paper.translate(posX,posY)}},{key:"getGraphPosition",value:function getGraphPosition(){var t=this._paper.translate();return new Vec2([t.tx,t.ty])}},{key:"setGraphScale",value:function setGraphScale(scale){this._paper.scale(scale)}},{key:"getGraphScale",value:function getGraphScale(){return this._paper.scale().sx}},{key:"getNodeDomElement",value:function getNodeDomElement(id){return this.getNode(id).model.findView(this._paper).el}},{key:"getEdgeDomElement",value:function getEdgeDomElement(id){return this.getEdge(id).model.findView(this._paper).el}},{key:"destroy",value:function destroy(){this._graph.clear(),this._paper.remove()}}]),GraphView}(joint_graph),graph_view=graph_view_GraphView,dist=(__webpack_require__("./src/style.scss"),__webpack_require__("./node_modules/@playcanvas/observer/dist/index.mjs"));function selected_item_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var selected_item=function(){function SelectedItem(graph,type,id,edgeId){!function selected_item_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectedItem),this._graph=graph,this._type=type,this._id=id,this._edgeId=edgeId}return function selected_item_createClass(Constructor,protoProps,staticProps){return protoProps&&selected_item_defineProperties(Constructor.prototype,protoProps),staticProps&&selected_item_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(SelectedItem,[{key:"type",get:function get(){return this._type}},{key:"id",get:function get(){return this._id}},{key:"edgeId",get:function get(){return this._edgeId}},{key:"selectItem",value:function selectItem(){switch(this._type){case"NODE":this._graph.view.selectNode(this._id);break;case"EDGE":this._graph.view.selectEdge(this._id)}}},{key:"deselectItem",value:function deselectItem(){switch(this._type){case"NODE":this._graph.view.deselectNode(this._id);break;case"EDGE":this._graph.view.deselectEdge(this._id)}}}]),SelectedItem}();function src_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function src_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function src_setPrototypeOf(o,p){return src_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},src_setPrototypeOf(o,p)}function src_createSuper(Derived){var hasNativeReflectConstruct=function src_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=src_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=src_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return src_possibleConstructorReturn(this,result)}}function src_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function src_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function src_getPrototypeOf(o){return src_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},src_getPrototypeOf(o)}var src_Graph=function(_Element){!function src_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&src_setPrototypeOf(subClass,superClass)}(Graph,_Element);var _super=src_createSuper(Graph);function Graph(schema){var _this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return src_classCallCheck(this,Graph),(_this=_super.call(this,options.dom?options.dom:document.createElement("div"),{})).class.add("pcui-graph"),_this._graphSchema=schema,_this._graphData=new dist.a({data:options.initialData?options.initialData:{}}),_this._contextMenuItems=options.contextMenuItems||[],_this._suppressGraphDataEvents=!1,_this._config=Object.assign({},constants.a,{readOnly:options.readOnly,passiveUIEvents:options.passiveUIEvents,incrementNodeNames:options.incrementNodeNames,restrictTranslate:options.restrictTranslate,edgeHoverEffect:options.edgeHoverEffect,includeFonts:options.includeFonts,adjustVertices:options.adjustVertices}),options.defaultStyles&&(options.defaultStyles.background&&(_this._config.defaultStyles.background=Object.assign({},_this._config.defaultStyles.background,options.defaultStyles.background)),options.defaultStyles.edge&&(_this._config.defaultStyles.edge=Object.assign({},_this._config.defaultStyles.edge,options.defaultStyles.edge)),options.defaultStyles.node&&(_this._config.defaultStyles.node=Object.assign({},_this._config.defaultStyles.node,options.defaultStyles.node))),_this._config.readOnly&&(_this._config.selfContainedMode=!0),_this._buildGraphFromData(),options.defaultStyles.initialScale&&_this.setGraphScale(options.defaultStyles.initialScale),options.defaultStyles.initialPosition&&_this.setGraphPosition(options.defaultStyles.initialPosition.x,options.defaultStyles.initialPosition.y),_this}return function src_createClass(Constructor,protoProps,staticProps){return protoProps&&src_defineProperties(Constructor.prototype,protoProps),staticProps&&src_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Graph,[{key:"data",get:function get(){return this._graphData.get("data")}},{key:"destroy",value:function destroy(){this.view.destroy()}},{key:"_buildGraphFromData",value:function _buildGraphFromData(){var _this2=this;this.view=new graph_view(this,this.dom,this._graphSchema,this._graphData,this._config),this.view.batchCells();var nodes=this._graphData.get("data.nodes");nodes&&Object.keys(nodes).forEach((function(nodeKey){var node=nodes[nodeKey],nodeSchema=_this2._graphSchema.nodes[node.nodeType];nodeSchema.attributes&&(nodeSchema.attributes&&!node.attributes&&(node.attributes={}),nodeSchema.attributes.forEach((function(attribute){!node.attributes[attribute.name]&&attribute.defaultValue&&(_this2._suppressGraphDataEvents=!0,_this2._graphData.set("data.nodes."+nodeKey+".attributes."+attribute.name,attribute.defaultValue),_this2._suppressGraphDataEvents=!1)}))),_this2.createNode(_this2._graphData.get("data.nodes."+nodeKey),void 0,!0)}));var edges=this._graphData.get("data.edges");edges&&Object.keys(edges).forEach((function(edgeKey){_this2.createEdge(edges[edgeKey],edgeKey,!0)})),this.view.applyBatchedCells(),this._config.readOnly||this._addCanvasContextMenu(),this._selectedItem=null,this.view.onBlankSelection((function(){_this2._dispatchEvent(constants.b.DESELECT_ITEM,{prevItem:_this2._selectedItem})})),this._config.passiveUIEvents||this._registerInternalEventListeners()}},{key:"_addCanvasContextMenu",value:function _addCanvasContextMenu(){var _this3=this,updateItem=function updateItem(item){if(item.action===constants.b.ADD_NODE)item.onClick=function(e){var node=Object.assign({},item,{id:Number(""+Date.now()+Math.floor(1e4*Math.random()))});item.attributes&&(node.attributes=Object.assign({},item.attributes)),delete node.action,delete node.text,delete node.onClick;var nodeSchema=_this3._graphSchema.nodes[node.nodeType];nodeSchema.attributes&&!node.attributes&&(node.attributes={}),nodeSchema.attributes&&nodeSchema.attributes.forEach((function(attribute){!node.attributes[attribute.name]&&attribute.defaultValue&&(node.attributes[attribute.name]=attribute.defaultValue)})),_this3._config.incrementNodeNames&&node.attributes.name&&(node.attributes.name=node.attributes.name+" "+Object.keys(_this3._graphData.get("data.nodes")).length);for(var element=e.target;!element.classList.contains("pcui-contextmenu");)element=element.parentElement;var pos={x:Number(element.style.left.replace("px","")),y:Number(element.style.top.replace("px",""))};pos=_this3.getWindowToGraphPosition(pos),node.posX=pos.x,node.posY=pos.y,_this3._dispatchEvent(constants.b.ADD_NODE,{node:node})};return item},viewContextMenuItems=this._contextMenuItems.map((function(item){return(item=updateItem(item)).items?(item.items.map((function(subitem){return updateItem(subitem)})),item):item}));this.view.addCanvasContextMenu(viewContextMenuItems)}},{key:"selectNode",value:function selectNode(node){this.deselectItem(),this._selectedItem=new selected_item(this,"NODE",node.id),this._selectedItem.selectItem()}},{key:"selectEdge",value:function selectEdge(edge,edgeId){this.deselectItem(),this._selectedItem=new selected_item(this,"EDGE",edge.from+"-"+edge.to,edgeId),this._selectedItem.selectItem()}},{key:"deselectItem",value:function deselectItem(){this._selectedItem&&(this._selectedItem.deselectItem(),this._selectedItem=null)}},{key:"_isValidEdge",value:function _isValidEdge(edgeType,source,target){var edge=this._graphSchema.edges[edgeType];return edge.from.includes(this._graphData.get("data.nodes."+source+".nodeType"))&&edge.to.includes(this._graphData.get("data.nodes."+target+".nodeType"))}},{key:"createEdge",value:function createEdge(edge,edgeId){var _this4=this,edgeSchema=this._graphSchema.edges[edge.edgeType];if(this.view.addEdge(edge,edgeSchema,(function(edge){_this4._dispatchEvent(constants.b.SELECT_EDGE,{edge:edge,prevItem:_this4._selectedItem})})),edgeSchema.contextMenuItems){var contextMenuItems=deepCopyFunction(edgeSchema.contextMenuItems).map((function(item){return item.action===constants.b.DELETE_EDGE&&(item.onClick=function(){_this4._dispatchEvent(constants.b.DELETE_EDGE,{edgeId:edgeId,edge:_this4._graphData.get("data.edges."+edgeId)})}),item})),addEdgeContextMenuFunction=function addEdgeContextMenuFunction(){Number.isFinite(edge.outPort)?_this4.view.addEdgeContextMenu(edge.from+","+edge.outPort+"-"+edge.to+","+edge.inPort,contextMenuItems):_this4.view.addEdgeContextMenu(edge.from+"-"+edge.to,contextMenuItems)};this.view.isBatchingCells()?this.view.addCellMountedFunction(addEdgeContextMenuFunction):addEdgeContextMenuFunction()}this._graphData.get("data.edges."+edgeId)||this._graphData.set("data.edges."+edgeId,edge)}},{key:"_onEdgeConnected",value:function _onEdgeConnected(edgeType,from,to){var edgeId=Number(""+Date.now()+Math.floor(1e4*Math.random())),edge={from:from,to:to,edgeType:edgeType,conditions:{}};this._dispatchEvent(constants.b.ADD_EDGE,{edge:edge,edgeId:edgeId})}},{key:"_createUnconnectedEdgeForNode",value:function _createUnconnectedEdgeForNode(node,edgeType){var edgeSchema=this._graphSchema.edges[edgeType];this.view.addUnconnectedEdge(node.id,edgeType,edgeSchema,this._isValidEdge.bind(this),this._onEdgeConnected.bind(this))}},{key:"_onCreateEdge",value:function _onCreateEdge(edgeId,edge){this._dispatchEvent(constants.b.ADD_EDGE,{edge:edge,edgeId:edgeId})}},{key:"_onNodeSelected",value:function _onNodeSelected(node){this.suppressNodeSelect?this.suppressNodeSelect=!1:this._dispatchEvent(constants.b.SELECT_NODE,{node:node,prevItem:this._selectedItem})}},{key:"_onNodePositionUpdated",value:function _onNodePositionUpdated(nodeId,pos){var node=this._graphData.get("data.nodes."+nodeId),prevPosX=node.posX,prevPosY=node.posY;pos.x===node.posX&&pos.y===node.posY||(node.posX=pos.x,node.posY=pos.y,this.updateNodePosition(nodeId,{x:prevPosX,y:prevPosY}),this._dispatchEvent(constants.b.UPDATE_NODE_POSITION,{nodeId:nodeId,node:node}))}},{key:"_onNodeAttributeUpdated",value:function _onNodeAttributeUpdated(nodeId,attribute,value){var prevAttributeValue,node=this._graphData.get("data.nodes."+nodeId),attributeKey=void 0!==node.attributes[attribute.name]?attribute.name:void 0;if(attributeKey||Object.keys(node.attributes).forEach((function(k){node.attributes[k].name===attribute.name&&(attributeKey=k)})),prevAttributeValue=Number.isFinite(node.attributes[attributeKey].x)?Object.assign({},node.attributes[attributeKey]):node.attributes[attributeKey],Array.isArray(value)){var keyMap=["x","y","z","w"];value.forEach((function(v,i){node.attributes[attributeKey][keyMap[i]]=v}))}else Object.keys(prevAttributeValue).includes("x")&&Number.isFinite(value)?node.attributes[attributeKey].x=value:node.attributes[attributeKey]=value;JSON.stringify(node.attributes[attributeKey])!==JSON.stringify(prevAttributeValue)&&(this.updateNodeAttribute(nodeId,attribute.name,value),this._dispatchEvent(constants.b.UPDATE_NODE_ATTRIBUTE,{node:node,attribute:attribute.name,attributeKey:attributeKey}))}},{key:"_initialiseNodeContextMenuItems",value:function _initialiseNodeContextMenuItems(node,items){var _this5=this;return deepCopyFunction(items).map((function(item){return item.action===constants.b.ADD_EDGE&&(item.onClick=function(){return _this5._createUnconnectedEdgeForNode(node,item.edgeType)}),item.action===constants.b.DELETE_NODE&&(item.onClick=function(){_this5._dispatchEvent(constants.b.DELETE_NODE,_this5._deleteNode(node.id))}),item}))}},{key:"createNode",value:function createNode(node){var _this6=this,nodeSchema=this._graphSchema.nodes[node.nodeType];if(node=this.view.addNode(node,nodeSchema,this._onCreateEdge.bind(this),this._onNodeSelected.bind(this)),this._graphData.get("data.nodes."+node.id)||this._graphData.set("data.nodes."+node.id,node),this.view.addNodeEvent(node.id,"updatePosition",this._onNodePositionUpdated.bind(this)),nodeSchema.attributes&&nodeSchema.attributes.forEach((function(attribute){_this6.view.addNodeEvent(node.id,"updateAttribute",_this6._onNodeAttributeUpdated.bind(_this6),attribute)})),nodeSchema.contextMenuItems){var contextMenuItems=this._initialiseNodeContextMenuItems(node,nodeSchema.contextMenuItems);this.view.addNodeContextMenu(node.id,contextMenuItems)}}},{key:"updateNodePosition",value:function updateNodePosition(nodeId,pos){this._graphData.get("data.nodes."+nodeId)&&(this._graphData.set("data.nodes."+nodeId+".posX",pos.x),this._graphData.set("data.nodes."+nodeId+".posY",pos.y),this.view.updateNodePosition(nodeId,pos))}},{key:"updateNodeAttribute",value:function updateNodeAttribute(nodeId,attributeName,value){this._graphData.get("data.nodes."+nodeId)&&(this._graphData.set("data.nodes."+nodeId+".attributes."+attributeName,value),this.view.updateNodeAttribute(nodeId,attributeName,value))}},{key:"setNodeAttributeErrorState",value:function setNodeAttributeErrorState(nodeId,attributeName,value){this._graphData.get("data.nodes."+nodeId)&&this.view.setNodeAttributeErrorState(nodeId,attributeName,value)}},{key:"updateNodeType",value:function updateNodeType(nodeId,nodeType){Number.isFinite(nodeType)&&this._graphData.get("data.nodes."+nodeId)&&(this._graphData.set("data.nodes."+nodeId+".nodeType",nodeType),this.view.updateNodeType(nodeId,nodeType))}},{key:"_deleteNode",value:function _deleteNode(nodeId){if(this._graphData.get("data.nodes."+nodeId)){this._selectedItem&&this._selectedItem._id===nodeId&&this.deselectItem();for(var node=this._graphData.get("data.nodes."+nodeId),edges=[],edgeData={},edgeKeys=Object.keys(this._graphData.get("data.edges")),i=0;i<edgeKeys.length;i++){var edge=this._graphData.get("data.edges."+edgeKeys[i]);edgeData[edgeKeys[i]]=edge,edge.from!==nodeId&&edge.to!==nodeId||edges.push(edgeKeys[i])}return{node:node,edges:edges,edgeData:edgeData}}}},{key:"deleteNode",value:function deleteNode(nodeId){var _this7=this,_this$_deleteNode=this._deleteNode(nodeId),node=_this$_deleteNode.node,edges=_this$_deleteNode.edges,edgeData=_this$_deleteNode.edgeData;Object.values(edges).forEach((function(e){var edge=edgeData[e];_this7.deleteEdge(edge.from+"-"+edge.to)})),this._graphData.unset("data.nodes."+nodeId),this.view.removeNode(node.id)}},{key:"deleteEdge",value:function deleteEdge(edgeId){var _this8=this;if(this._graphData.get("data.edges."+edgeId)){var _ref=this._graphData.get("data.edges."+edgeId)||{},from=_ref.from,to=_ref.to,outPort=_ref.outPort,inPort=_ref.inPort;this._selectedItem&&this._selectedItem._id===from+"-"+to&&this.deselectItem(),Number.isFinite(outPort)?this.view.removeEdge(from+","+outPort+"-"+to+","+inPort):this.view.removeEdge(from+"-"+to),this.view.removeEdge(from+"-"+to),this._graphData.unset("data.edges."+edgeId);var edges=this._graphData.get("data.edges");Object.keys(edges).forEach((function(edgeKey){var edge=edges[edgeKey],edgeSchema=_this8._graphSchema.edges[edge.edgeType];[edge.from,edge.to].includes(from)&&[edge.from,edge.to].includes(to)&&(_this8.view.addEdge(edge,edgeSchema,(function(edge){_this8.selectEdge(edge,edgeKey)})),_this8.selectEdge(edge,edgeKey))}))}}},{key:"setGraphPosition",value:function setGraphPosition(posX,posY){this.view.setGraphPosition(posX,posY)}},{key:"getGraphPosition",value:function getGraphPosition(){return this.view.getGraphPosition()}},{key:"setGraphScale",value:function setGraphScale(scale){var _this9=this;this.view.setGraphScale(scale),Object.keys(this.view._nodes).forEach((function(nodeKey){_this9.view._paper.findViewByModel(_this9.view._nodes[nodeKey].model).updateBox()}))}},{key:"getGraphScale",value:function getGraphScale(){return this.view.getGraphScale()}},{key:"getWindowToGraphPosition",value:function getWindowToGraphPosition(pos){return this.view.getWindowToGraphPosition(pos)}},{key:"on",value:function on(eventName,callback){(!this._config.readOnly||eventName.includes("EVENT_SELECT_")||eventName.includes("EVENT_DESELECT"))&&this.dom.addEventListener(eventName,(function(e){callback(e.detail)}))}},{key:"_dispatchEvent",value:function _dispatchEvent(action,data){this.dom.dispatchEvent(new CustomEvent(action,{detail:data}))}},{key:"_registerInternalEventListeners",value:function _registerInternalEventListeners(){var _this10=this;this.on(constants.b.ADD_NODE,(function(_ref2){var node=_ref2.node;_this10.createNode(node),_this10.selectNode(node)})),this.on(constants.b.DELETE_NODE,(function(_ref3){var node=_ref3.node;_ref3.edgeData,_ref3.edges;_this10.deleteNode(node.id)})),this.on(constants.b.SELECT_NODE,(function(_ref4){var node=_ref4.node;_this10._selectedItem&&_this10._selectedItem.deselectItem(),_this10._selectedItem=new selected_item(_this10,"NODE",node.id),_this10._selectedItem.selectItem()})),this.on(constants.b.UPDATE_NODE_POSITION,(function(_ref5){var nodeId=_ref5.nodeId,node=_ref5.node;_this10.updateNodePosition(nodeId,{x:node.posX,y:node.posY})})),this.on(constants.b.UPDATE_NODE_ATTRIBUTE,(function(_ref6){var node=_ref6.node;_this10._graphData.set("data.nodes."+node.id,node)})),this.on(constants.b.ADD_EDGE,(function(_ref7){var edge=_ref7.edge,edgeId=_ref7.edgeId;Number.isFinite(edge.inPort)&&Object.keys(_this10._graphData.get("data.edges")).forEach((function(edgeKey){var edgeToCompare=_this10._graphData.get("data.edges."+edgeKey);edgeToCompare.to===edge.to&&edgeToCompare.inPort===edge.inPort&&_this10.deleteEdge(edgeKey)})),_this10.createEdge(edge,edgeId),_this10.suppressNodeSelect=!0,_this10.selectEdge(edge,edgeId)})),this.on(constants.b.DELETE_EDGE,(function(_ref8){var edgeId=_ref8.edgeId;_this10.deleteEdge(edgeId)})),this.on(constants.b.SELECT_EDGE,(function(_ref9){var edge=_ref9.edge;_this10._selectedItem&&_this10._selectedItem.deselectItem(),_this10._selectedItem=new selected_item(_this10,"EDGE",edge.from+"-"+edge.to),_this10._selectedItem.selectItem()})),this.on(constants.b.DESELECT_ITEM,(function(){_this10.deselectItem()}))}}]),Graph}(pcui.d);src_Graph.GRAPH_ACTIONS=constants.b;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function base_component_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function base_component_setPrototypeOf(o,p){return base_component_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},base_component_setPrototypeOf(o,p)}function base_component_createSuper(Derived){var hasNativeReflectConstruct=function base_component_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=base_component_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=base_component_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return base_component_possibleConstructorReturn(this,result)}}function base_component_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function base_component_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function base_component_getPrototypeOf(o){return base_component_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},base_component_getPrototypeOf(o)}var base_component_BaseComponent=function(_React$Component){!function base_component_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&base_component_setPrototypeOf(subClass,superClass)}(BaseComponent,_React$Component);var _super=base_component_createSuper(BaseComponent);function BaseComponent(props){var _this;return function base_component_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseComponent),(_this=_super.call(this,props)).attachElement=function(nodeElement,containerElement){nodeElement&&(_this.element=new src_Graph(_this.props.schema,Object.assign({},_this.props.options,{dom:nodeElement})),_this.onClick&&_this.element.on("click",_this.onClick),_this.onChange&&_this.element.on("change",_this.onChange),_this.props.parent&&(_this.element.parent=_this.props.parent))},_this.getPropertyDescriptor=function(obj,prop){var desc;do{desc=Object.getOwnPropertyDescriptor(obj,prop)}while(!desc&&(obj=Object.getPrototypeOf(obj)));return desc},_this}return function base_component_createClass(Constructor,protoProps,staticProps){return protoProps&&base_component_defineProperties(Constructor.prototype,protoProps),staticProps&&base_component_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(BaseComponent,[{key:"componentDidMount",value:function componentDidMount(){this.link&&this.element.link(this.link.observer,this.link.path)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this2=this;Object.keys(this.props).forEach((function(prop){var propDescriptor=_this2.getPropertyDescriptor(_this2.element,prop);propDescriptor&&propDescriptor.set&&(_this2.element[prop]=_this2.props[prop])})),prevProps.link!==this.props.link&&this.element.link(this.props.link.observer,this.props.link.path)}},{key:"render",value:function render(){return Object(jsx_runtime.jsx)("div",{ref:this.attachElement})}}]),BaseComponent}(react_default.a.Component);base_component_BaseComponent.__docgenInfo={description:"",methods:[{name:"attachElement",docblock:null,modifiers:[],params:[{name:"nodeElement",type:null},{name:"containerElement",type:null}],returns:null},{name:"getPropertyDescriptor",docblock:null,modifiers:[],params:[{name:"obj",type:null},{name:"prop",type:null}],returns:null}],displayName:"BaseComponent"};__webpack_exports__.a=base_component_BaseComponent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/base-component.jsx"]={name:"BaseComponent",docgenInfo:base_component_BaseComponent.__docgenInfo,path:".storybook/base-component.jsx"})},"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject);__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),client=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object(client.addParameters)({backgrounds:{default:"playcanvas",values:[{name:"playcanvas",value:"#374346",default:!0},{name:"white",value:"#FFFFFF"}],controls:{expanded:!0}}}),Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./.storybook/stories sync recursive ^\\.(?:(?:(?:(?!(?:^|\\/)\\.).)*?))$":function(module,exports,__webpack_require__){var map={"./advanced/directed-graph.stories":"./.storybook/stories/advanced/directed-graph.stories.jsx","./advanced/directed-graph.stories.jsx":"./.storybook/stories/advanced/directed-graph.stories.jsx","./advanced/version-control.stories":"./.storybook/stories/advanced/version-control.stories.jsx","./advanced/version-control.stories.jsx":"./.storybook/stories/advanced/version-control.stories.jsx","./advanced/visual-programming-graph.stories":"./.storybook/stories/advanced/visual-programming-graph.stories.jsx","./advanced/visual-programming-graph.stories.jsx":"./.storybook/stories/advanced/visual-programming-graph.stories.jsx","./basic/directed-graph.stories":"./.storybook/stories/basic/directed-graph.stories.jsx","./basic/directed-graph.stories.jsx":"./.storybook/stories/basic/directed-graph.stories.jsx","./basic/node-attribute-error":"./.storybook/stories/basic/node-attribute-error.jsx","./basic/node-attribute-error.jsx":"./.storybook/stories/basic/node-attribute-error.jsx","./basic/node-attributes":"./.storybook/stories/basic/node-attributes.jsx","./basic/node-attributes.jsx":"./.storybook/stories/basic/node-attributes.jsx","./basic/styling.stories":"./.storybook/stories/basic/styling.stories.jsx","./basic/styling.stories.jsx":"./.storybook/stories/basic/styling.stories.jsx","./basic/visual-programming-graph":"./.storybook/stories/basic/visual-programming-graph.jsx","./basic/visual-programming-graph.jsx":"./.storybook/stories/basic/visual-programming-graph.jsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./.storybook/stories sync recursive ^\\.(?:(?:(?:(?!(?:^|\\/)\\.).)*?))$"},"./.storybook/stories/advanced/directed-graph.stories.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DirectedGraphExample",(function(){return DirectedGraphExample}));__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _nodes,_edges,_src_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/constants.js"),_base_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Advanced/Directed Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_5__.a,parameters:{docs:{}}};var GRAPH_ENUM={NODE:{STATE:0},EDGE:{EDGE:0}},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM.NODE.STATE]={name:"state",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",icon:"",iconColor:"#FFFFFF",contextMenuItems:[{text:"Add transition",action:_src_constants__WEBPACK_IMPORTED_MODULE_4__.b.ADD_EDGE,edgeType:GRAPH_ENUM.EDGE.EDGE},{text:"Delete state",action:_src_constants__WEBPACK_IMPORTED_MODULE_4__.b.DELETE_NODE}]},_nodes),edges:(_edges={},_edges[GRAPH_ENUM.EDGE.EDGE]={stroke:"#0379EE",strokeWidth:2,targetMarkerStroke:"#0379EE",targetMarker:!0,from:[GRAPH_ENUM.NODE.STATE,GRAPH_ENUM.NODE.START_STATE,GRAPH_ENUM.NODE.DEFAULT_STATE],to:[GRAPH_ENUM.NODE.STATE,GRAPH_ENUM.NODE.DEFAULT_STATE,GRAPH_ENUM.NODE.END_STATE],contextMenuItems:[{text:"Delete edge",action:_src_constants__WEBPACK_IMPORTED_MODULE_4__.b.DELETE_EDGE}]},_edges)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM.NODE.STATE,name:"NODE A",posX:100,posY:100},1235:{id:1235,nodeType:GRAPH_ENUM.NODE.STATE,name:"NODE B",posX:100,posY:300},1236:{id:1236,nodeType:GRAPH_ENUM.NODE.STATE,name:"NODE C",posX:300,posY:200}},edges:{"1234-1235":{edgeType:GRAPH_ENUM.EDGE.EDGE,from:1234,to:1235},"1235-1236":{edgeType:GRAPH_ENUM.EDGE.EDGE,from:1235,to:1236},"1236-1235":{edgeType:GRAPH_ENUM.EDGE.EDGE,from:1236,to:1235}}},GRAPH_CONTEXT_MENU_ITEMS_ITEMS=[{text:"Add new state",action:_src_constants__WEBPACK_IMPORTED_MODULE_4__.b.ADD_NODE,nodeType:GRAPH_ENUM.NODE.STATE,attributes:{name:"New state",speed:1,loop:!1}}],DirectedGraphExample=function DirectedGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_5__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,contextMenuItems:GRAPH_CONTEXT_MENU_ITEMS_ITEMS,passiveUIEvents:!1,includeFonts:!0,incrementNodeNames:!0,adjustVertices:!0,defaultStyles:{background:{color:"#20292B",gridSize:10},edge:{connectionStyle:"default"}}}})};DirectedGraphExample.displayName="DirectedGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),setTimeout((function(){Object.keys(_src_constants__WEBPACK_IMPORTED_MODULE_4__.b).forEach((function(key){var graphAction=_src_constants__WEBPACK_IMPORTED_MODULE_4__.b[key];document.querySelector(".pcui-graph").ui.on(graphAction,(function(data){console.log(graphAction,data)}))}))}),500),DirectedGraphExample.parameters=Object.assign({storySource:{source:"(args) => { \n    return <Component schema={GRAPH_SCHEMA} options={{\n        initialData: GRAPH_DATA,\n        contextMenuItems: GRAPH_CONTEXT_MENU_ITEMS_ITEMS,\n        passiveUIEvents: false,\n        includeFonts: true,\n        incrementNodeNames: true,\n        adjustVertices: true,\n        defaultStyles: {\n            background: {\n                color: '#20292B',\n                gridSize: 10\n            },\n            edge: {\n                connectionStyle: 'default'\n            }\n        }\n    }} />;\n}"}},DirectedGraphExample.parameters),DirectedGraphExample.__docgenInfo={description:"",methods:[],displayName:"DirectedGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/advanced/directed-graph.stories.jsx"]={name:"DirectedGraphExample",docgenInfo:DirectedGraphExample.__docgenInfo,path:".storybook/stories/advanced/directed-graph.stories.jsx"})},"./.storybook/stories/advanced/version-control.stories.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VersionControlGraphExample",(function(){return VersionControlGraphExample}));__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/constants.js");var _base_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Advanced/Version Control Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_5__.a,parameters:{docs:{}}};var GRAPH_SCHEMA={nodes:{0:{fill:"#ead1db",stroke:"#965070",strokeSelected:"#965070",strokeHover:"#965070",textColor:"#20292b",baseHeight:60,baseWidth:150,textAlignMiddle:!0,includeIcon:!1},1:{fill:"#fbe5cd",stroke:"#ff574b",strokeSelected:"#ff574b",strokeHover:"#ff574b",textColor:"#20292b",baseHeight:60,baseWidth:150,textAlignMiddle:!0,includeIcon:!1},2:{fill:"#d0e1f2",stroke:"#4d7cd7",strokeSelected:"#4d7cd7",strokeHover:"#4d7cd7",textColor:"#20292b",baseHeight:60,baseWidth:150,textAlignMiddle:!0,includeIcon:!1},3:{fill:"#d9ead3",stroke:"#43fb39",strokeSelected:"#43fb39",strokeHover:"#43fb39",textColor:"#20292b",baseHeight:60,baseWidth:150,textAlignMiddle:!0,includeIcon:!1}},edges:{0:{from:[0],to:[0,1,2,3],stroke:"#965070",strokeWidth:3,connectionStyle:"smoothInOut"},1:{from:[1],to:[0,1,2,3],stroke:"#ff574b",strokeWidth:3,connectionStyle:"smoothInOut"},2:{from:[2],to:[0,1,2,3],stroke:"#4d7cd7",strokeWidth:3,connectionStyle:"smoothInOut"},3:{from:[3],to:[0,1,2,3],stroke:"#43fb39",strokeWidth:3,connectionStyle:"smoothInOut"}}},GRAPH_DATA={nodes:{},edges:{"02-12":{from:"02",to:"12",edgeType:0},"17-04":{from:"17",to:"04",edgeType:1},"13-30":{from:"13",to:"30",edgeType:1},"24-32":{from:"24",to:"32",edgeType:2},"25-14":{from:"25",to:"14",edgeType:2},"36-26":{from:"36",to:"26",edgeType:3}}};[["Branch 1, Commit 5\nAug 23, 21 zpaul","Branch 1, Commit 4\nAug 23, 21 zpaul","Branch 1, Commit 3\nAug 23, 21 zpaul","Branch 1, Commit 2\nAug 23, 21 zpaul","Branch 1, Commit 1\nAug 23, 21 zpaul"],["Branch 2, Commit 8\nAug 23, 21 zpaul","Branch 2, Commit 7\nAug 23, 21 zpaul","Branch 2, Commit 6\nAug 23, 21 zpaul","Branch 2, Commit 5\nAug 23, 21 zpaul","Branch 2, Commit 4\nAug 23, 21 zpaul","Branch 2, Commit 3\nAug 23, 21 zpaul","Branch 2, Commit 2\nAug 23, 21 zpaul","Branch 2, Commit 1\nAug 23, 21 zpaul"],["Branch 3, Commit 7\nAug 23, 21 zpaul","Branch 3, Commit 6\nAug 23, 21 zpaul","Branch 3, Commit 5\nAug 23, 21 zpaul","Branch 3, Commit 4\nAug 23, 21 zpaul","Branch 3, Commit 3\nAug 23, 21 zpaul","Branch 3, Commit 2\nAug 23, 21 zpaul","Branch 3, Commit 1\nAug 23, 21 zpaul"],["Branch 4, Commit 7\nAug 23, 21 zpaul","Branch 4, Commit 6\nAug 23, 21 zpaul","Branch 4, Commit 5\nAug 23, 21 zpaul","Branch 4, Commit 4\nAug 23, 21 zpaul","Branch 4, Commit 3\nAug 23, 21 zpaul","Branch 4, Commit 2\nAug 23, 21 zpaul","Branch 4, Commit 1\nAug 23, 21 zpaul"]].forEach((function(commits,i){commits.forEach((function(commit,j){GRAPH_DATA.nodes[""+i+j]={id:""+i+j,name:commit,nodeType:i,posX:250*i+50,posY:100*j+100,marker:["17","31","36"].includes(""+i+j)},0!==j&&(GRAPH_DATA.edges[""+i+(j-1)+"-"+i+j]={to:""+i+(j-1),from:""+i+j,edgeType:i})}))}));var VersionControlGraphExample=function VersionControlGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_5__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{initialScale:.75,background:{color:"#20292B",gridSize:1},edge:{connectionStyle:"default",targetMarker:!0,sourceMarker:!0}},readOnly:!0}})};VersionControlGraphExample.displayName="VersionControlGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),setTimeout((function(){var graph=document.querySelector(".pcui-graph").ui;graph.on("EVENT_SELECT_NODE",(function(_ref){var node=_ref.node;"00"===node.id&&(graph.createNode({id:"4848583",name:"Branch 1, Commit 6\nAug 23, 21 zpaul",nodeType:0,posX:node.posX,posY:node.posY-100}),graph.createEdge({to:"4848583",from:"00",edgeType:0},"00-4848583"))}))}),0),VersionControlGraphExample.parameters=Object.assign({storySource:{source:"(args) => { \n    return <Component schema={GRAPH_SCHEMA} options={{\n        initialData: GRAPH_DATA,\n        passiveUIEvents: false,\n        includeFonts: true,\n        defaultStyles: {\n            initialScale: 0.75,\n            background: {\n                color: '#20292B',\n                gridSize: 1\n            },\n            edge: {\n                connectionStyle: 'default',\n                targetMarker: true,\n                sourceMarker: true\n            }\n        },\n        readOnly: true\n    }} />;\n}"}},VersionControlGraphExample.parameters),VersionControlGraphExample.__docgenInfo={description:"",methods:[],displayName:"VersionControlGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/advanced/version-control.stories.jsx"]={name:"VersionControlGraphExample",docgenInfo:VersionControlGraphExample.__docgenInfo,path:".storybook/stories/advanced/version-control.stories.jsx"})},"./.storybook/stories/advanced/visual-programming-graph.stories.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VisualProgrammingGraphExample",(function(){return VisualProgrammingGraphExample}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _nodes,_edges,_src_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants.js"),_base_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Advanced/Visual Programming Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_3__.a,parameters:{docs:{}}};var GRAPH_ENUM={NODE:{VARIABLE_FLOAT:0,MULTIPLY:1,OUT:2,ADD:3,SINE:4,TEXTURE:5,VARIABLE_VEC_2:6},EDGE:{FLOAT:1,VEC_2:2,VEC_3:3,VEC_4:4,MATRIX:5}},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM.NODE.VARIABLE_FLOAT]={name:"Variable Float",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[],outPorts:[{name:"output",type:GRAPH_ENUM.EDGE.FLOAT}]},_nodes[GRAPH_ENUM.NODE.VARIABLE_VEC_2]={name:"Variable Vec2",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[],outPorts:[{name:"output",type:GRAPH_ENUM.EDGE.VEC_2}]},_nodes[GRAPH_ENUM.NODE.MULTIPLY]={name:"Multiply",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[],inPorts:[{name:"left",type:GRAPH_ENUM.EDGE.FLOAT},{name:"right",type:GRAPH_ENUM.EDGE.FLOAT}],outPorts:[{name:"output",type:GRAPH_ENUM.EDGE.FLOAT}]},_nodes[GRAPH_ENUM.NODE.ADD]={name:"Add",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[{text:"Delete node",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_NODE}],inPorts:[{name:"left",type:GRAPH_ENUM.EDGE.FLOAT},{name:"right",type:GRAPH_ENUM.EDGE.FLOAT}],outPorts:[{name:"output",type:GRAPH_ENUM.EDGE.FLOAT}]},_nodes[GRAPH_ENUM.NODE.SINE]={name:"Sine",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[{text:"Delete node",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_NODE}],inPorts:[{name:"input",type:GRAPH_ENUM.EDGE.FLOAT}],outPorts:[{name:"output",type:GRAPH_ENUM.EDGE.FLOAT}]},_nodes[GRAPH_ENUM.NODE.FRAGMENT_OUTPUT]={name:"Fragment Output",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[],inPorts:[{name:"rgba",type:GRAPH_ENUM.EDGE.VEC_4},{name:"rgb",type:GRAPH_ENUM.EDGE.VEC_3},{name:"a",type:GRAPH_ENUM.EDGE.FLOAT}]},_nodes[GRAPH_ENUM.NODE.TEXTURE]={name:"Texture",fill:"rgb(54, 67, 70, 0.8)",stroke:"#20292b",contextMenuItems:[],inPorts:[{name:"uv",type:GRAPH_ENUM.EDGE.VEC_2}],outPorts:[{name:"rgba",type:GRAPH_ENUM.EDGE.VEC_4},{name:"rgb",type:GRAPH_ENUM.EDGE.VEC_3},{name:"r",type:GRAPH_ENUM.EDGE.FLOAT},{name:"g",type:GRAPH_ENUM.EDGE.FLOAT},{name:"b",type:GRAPH_ENUM.EDGE.FLOAT}]},_nodes),edges:(_edges={},_edges[GRAPH_ENUM.EDGE.FLOAT]={stroke:"#0379EE",fill:"rgb(54, 67, 70, 0.8)",strokeWidth:2,targetMarker:null,contextMenuItems:[{text:"Delete edge",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_EDGE}]},_edges[GRAPH_ENUM.EDGE.VEC_2]={stroke:"#0379EE",strokeWidth:2,targetMarker:null,contextMenuItems:[{text:"Delete edge",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_EDGE}]},_edges[GRAPH_ENUM.EDGE.VEC_3]={stroke:"#0379EE",strokeWidth:2,targetMarker:null,contextMenuItems:[{text:"Delete edge",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_EDGE}]},_edges[GRAPH_ENUM.EDGE.VEC_4]={stroke:"#0379EE",strokeWidth:2,targetMarker:null,contextMenuItems:[{text:"Delete edge",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_EDGE}]},_edges[GRAPH_ENUM.EDGE.MATRIX]={stroke:"#0379EE",strokeWidth:2,targetMarker:null,contextMenuItems:[{text:"Delete edge",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.DELETE_EDGE}]},_edges)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM.NODE.VARIABLE_FLOAT,name:"maxAlpha",posX:100,posY:150,attributes:{name:"maxAlpha"}},1235:{id:1235,nodeType:GRAPH_ENUM.NODE.VARIABLE_FLOAT,posX:100,posY:350,attributes:{name:"time"}},1236:{id:1236,nodeType:GRAPH_ENUM.NODE.MULTIPLY,name:"Multiply",posX:650,posY:250},1237:{id:1237,nodeType:GRAPH_ENUM.NODE.FRAGMENT_OUTPUT,name:"Fragment Output",posX:1050,posY:50},1238:{id:1238,nodeType:GRAPH_ENUM.NODE.SINE,name:"Sine",posX:350,posY:350},1239:{id:1239,nodeType:GRAPH_ENUM.NODE.TEXTURE,name:"Texture",posX:650,posY:50},1240:{id:1240,nodeType:GRAPH_ENUM.NODE.VARIABLE_VEC_2,name:"meshUV",posX:100,posY:50,attributes:{name:"uvCoords"}}},edges:{"1234,0-1236,0":{edgeType:GRAPH_ENUM.EDGE.FLOAT,from:1234,to:1236,outPort:0,inPort:0},"1235,0-1238,0":{edgeType:GRAPH_ENUM.EDGE.FLOAT,from:1235,to:1238,outPort:0,inPort:0},"1238,0-1236,1":{edgeType:GRAPH_ENUM.EDGE.FLOAT,from:1238,to:1236,outPort:0,inPort:1},"1236,0-1237,2":{edgeType:GRAPH_ENUM.EDGE.FLOAT,from:1236,to:1237,outPort:0,inPort:2},"1239,1-1237,1":{edgeType:GRAPH_ENUM.EDGE.VEC_3,from:1239,to:1237,outPort:1,inPort:1},"1240,0-1239,0":{edgeType:GRAPH_ENUM.EDGE.VEC_2,from:1240,to:1239,outPort:0,inPort:0}}},GRAPH_CONTEXT_MENU_ITEMS=[{text:"New add",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.ADD_NODE,nodeType:GRAPH_ENUM.NODE.ADD,name:"Add"},{text:"New multiply",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.ADD_NODE,nodeType:GRAPH_ENUM.NODE.MULTIPLY,name:"Multiply"},{text:"New sine",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.ADD_NODE,nodeType:GRAPH_ENUM.NODE.SINE,name:"Sine"},{text:"New texture",action:_src_constants__WEBPACK_IMPORTED_MODULE_2__.b.ADD_NODE,nodeType:GRAPH_ENUM.NODE.TEXTURE,name:"Texture"}],VisualProgrammingGraphExample=function VisualProgrammingGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_3__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,contextMenuItems:GRAPH_CONTEXT_MENU_ITEMS,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{edge:{connectionStyle:"smoothInOut"},background:{color:"#20292B",gridSize:10}}}})};VisualProgrammingGraphExample.displayName="VisualProgrammingGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),VisualProgrammingGraphExample.parameters=Object.assign({storySource:{source:"(args) => { \n    return <Component schema={GRAPH_SCHEMA} options={{\n        initialData: GRAPH_DATA,\n        contextMenuItems: GRAPH_CONTEXT_MENU_ITEMS,\n        passiveUIEvents: false,\n        includeFonts: true,\n        defaultStyles: {\n            edge: {\n                connectionStyle: 'smoothInOut'\n            },\n            background: {\n                color: '#20292B',\n                gridSize: 10\n            }\n        }\n    }} />;\n}"}},VisualProgrammingGraphExample.parameters),VisualProgrammingGraphExample.__docgenInfo={description:"",methods:[],displayName:"VisualProgrammingGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/advanced/visual-programming-graph.stories.jsx"]={name:"VisualProgrammingGraphExample",docgenInfo:VisualProgrammingGraphExample.__docgenInfo,path:".storybook/stories/advanced/visual-programming-graph.stories.jsx"})},"./.storybook/stories/basic/directed-graph.stories.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DirectedGraphExample",(function(){return DirectedGraphExample}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/constants.js");var _nodes,_edges,_base_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Basic/Directed Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_3__.a,parameters:{docs:{}}};var GRAPH_ENUM_NODE={HELLO:0,WORLD:0},GRAPH_ENUM_EDGE={HELLO_TO_WORLD:0},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM_NODE.HELLO]={name:"Hello"},_nodes[GRAPH_ENUM_NODE.WORLD]={name:"World"},_nodes),edges:(_edges={},_edges[GRAPH_ENUM_EDGE.HELLO_TO_WORLD]={from:[GRAPH_ENUM_NODE.HELLO],to:[GRAPH_ENUM_NODE.WORLD]},_edges)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM_NODE.HELLO,name:"Hello",posX:100,posY:100},1235:{id:1235,nodeType:GRAPH_ENUM_NODE.WORLD,name:"World",posX:100,posY:300}},edges:{"1234-1235":{edgeType:GRAPH_ENUM_EDGE.HELLO_TO_WORLD,from:1234,to:1235}}},DirectedGraphExample=function DirectedGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_3__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{background:{color:"#20292B",gridSize:10},edge:{connectionStyle:"default",targetMarker:!0}}}})};DirectedGraphExample.displayName="DirectedGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),DirectedGraphExample.parameters=Object.assign({storySource:{source:"(args) => { \n    return <Component schema={GRAPH_SCHEMA} options={{\n        initialData: GRAPH_DATA,\n        passiveUIEvents: false,\n        includeFonts: true,\n        defaultStyles: {\n            background: {\n                color: '#20292B',\n                gridSize: 10\n            },\n            edge: {\n                connectionStyle: 'default',\n                targetMarker: true\n            }\n        }\n    }} />;\n}"}},DirectedGraphExample.parameters),DirectedGraphExample.__docgenInfo={description:"",methods:[],displayName:"DirectedGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/basic/directed-graph.stories.jsx"]={name:"DirectedGraphExample",docgenInfo:DirectedGraphExample.__docgenInfo,path:".storybook/stories/basic/directed-graph.stories.jsx"})},"./.storybook/stories/basic/node-attribute-error.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NodeAttributeErrorGraphExample",(function(){return NodeAttributeErrorGraphExample}));__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/react/index.js");var _nodes,_src_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants.js"),_base_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Basic/Node Attribute Error Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_4__.a,parameters:{docs:{}}};var GRAPH_ENUM_NODE={HELLO_WORLD:0},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM_NODE.HELLO_WORLD]={name:"Alphabet Only",attributes:[{name:"text",type:"TEXT_INPUT"}]},_nodes)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM_NODE.HELLO_WORLD,name:"Alphabet Only",posX:200,posY:200,attributes:{text:"abcdef"}}},edges:{}},NodeAttributeErrorGraphExample=function NodeAttributeErrorGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_4__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{edge:{connectionStyle:"smoothInOut"},background:{color:"#20292B",gridSize:10}}}})};NodeAttributeErrorGraphExample.displayName="NodeAttributeErrorGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),setTimeout((function(){var graph=document.querySelector(".pcui-graph").ui;graph.on(_src_constants__WEBPACK_IMPORTED_MODULE_3__.b.UPDATE_NODE_ATTRIBUTE,(function(data){data.node.attributes[data.attribute].match("^[A-Za-z]*$")?(graph.updateNodeAttribute(1234,data.attribute,data.node.attributes[data.attribute]),graph.setNodeAttributeErrorState(1234,data.attribute,!1)):graph.setNodeAttributeErrorState(1234,data.attribute,!0)}))}),500),NodeAttributeErrorGraphExample.__docgenInfo={description:"",methods:[],displayName:"NodeAttributeErrorGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/basic/node-attribute-error.jsx"]={name:"NodeAttributeErrorGraphExample",docgenInfo:NodeAttributeErrorGraphExample.__docgenInfo,path:".storybook/stories/basic/node-attribute-error.jsx"})},"./.storybook/stories/basic/node-attributes.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NodeAttributesGraphExample",(function(){return NodeAttributesGraphExample}));__webpack_require__("./node_modules/react/index.js");var _nodes,_edges,_src_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants.js"),_base_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Basic/Node Attributes Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_2__.a,parameters:{docs:{}}};var GRAPH_ENUM_NODE={HELLO:0,WORLD:1},GRAPH_ENUM_EDGE={HELLO_TO_WORLD:0},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM_NODE.HELLO]={name:"Hello",headerTextFormatter:function headerTextFormatter(attributes){return"Hello "+attributes.foo},outPorts:[{name:"output",type:GRAPH_ENUM_EDGE.HELLO_TO_WORLD,textFormatter:function textFormatter(attributes){return"output ("+attributes.foo+")"}}],attributes:[{name:"foo",type:"TEXT_INPUT"}]},_nodes[GRAPH_ENUM_NODE.WORLD]={name:"World",inPorts:[{name:"input",type:GRAPH_ENUM_EDGE.HELLO_TO_WORLD,textFormatter:function textFormatter(attributes){return"input ("+attributes.foo+")"}}],attributes:[{name:"foo",type:"TEXT_INPUT",hidden:!0}]},_nodes),edges:(_edges={},_edges[GRAPH_ENUM_EDGE.HELLO_TO_WORLD]={from:GRAPH_ENUM_NODE.HELLO,to:GRAPH_ENUM_NODE.WORLD},_edges)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM_NODE.HELLO,name:"Hello",posX:200,posY:200,attributes:{foo:"bar"}},1235:{id:1235,nodeType:GRAPH_ENUM_NODE.WORLD,name:"World",posX:500,posY:200,attributes:{foo:"bar"}}},edges:{"1234,0-1235,0":{edgeType:GRAPH_ENUM_EDGE.HELLO_TO_WORLD,from:1234,to:1235,inPort:0,outPort:0}}},NodeAttributesGraphExample=function NodeAttributesGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_2__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{edge:{connectionStyle:"smoothInOut"},background:{color:"#20292B",gridSize:10}}}})};NodeAttributesGraphExample.displayName="NodeAttributesGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),setTimeout((function(){var graph=document.querySelector(".pcui-graph").ui;graph.on(_src_constants__WEBPACK_IMPORTED_MODULE_1__.b.UPDATE_NODE_ATTRIBUTE,(function(data){graph.updateNodeAttribute(1235,data.attribute,data.node.attributes[data.attribute])}))}),500),NodeAttributesGraphExample.__docgenInfo={description:"",methods:[],displayName:"NodeAttributesGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/basic/node-attributes.jsx"]={name:"NodeAttributesGraphExample",docgenInfo:NodeAttributesGraphExample.__docgenInfo,path:".storybook/stories/basic/node-attributes.jsx"})},"./.storybook/stories/basic/styling.stories.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StyledGraphExample",(function(){return StyledGraphExample}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/constants.js");var _nodes,_edges,_base_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Basic/Styled Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_3__.a,parameters:{docs:{}}};var GRAPH_ENUM_NODE={RED:0,GREEN:1,BLUE:2},GRAPH_ENUM_EDGE={RED_TO_BLUE:0,RED_TO_GREEN:1,BLUE_TO_GREEN:2},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM_NODE.RED]={name:"Red",fill:"red",stroke:"darkRed"},_nodes[GRAPH_ENUM_NODE.GREEN]={name:"Green",fill:"green",stroke:"darkGreen"},_nodes[GRAPH_ENUM_NODE.BLUE]={name:"Blue",fill:"blue",stroke:"darkBlue"},_nodes),edges:(_edges={},_edges[GRAPH_ENUM_EDGE.RED_TO_BLUE]={from:[GRAPH_ENUM_NODE.RED],to:[GRAPH_ENUM_NODE.BLUE],stroke:"magenta"},_edges[GRAPH_ENUM_EDGE.RED_TO_GREEN]={from:[GRAPH_ENUM_NODE.RED],to:[GRAPH_ENUM_NODE.GREEN],stroke:"yellow"},_edges[GRAPH_ENUM_EDGE.BLUE_TO_GREEN]={from:[GRAPH_ENUM_NODE.BLUE],to:[GRAPH_ENUM_NODE.GREEN],stroke:"cyan"},_edges)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM_NODE.RED,name:"Red",posX:100,posY:100},1235:{id:1235,nodeType:GRAPH_ENUM_NODE.GREEN,name:"Green",posX:100,posY:300},1236:{id:1236,nodeType:GRAPH_ENUM_NODE.BLUE,name:"Blue",posX:300,posY:200}},edges:{"1234-1236":{edgeType:GRAPH_ENUM_EDGE.RED_TO_BLUE,from:1234,to:1236},"1234-1235":{edgeType:GRAPH_ENUM_EDGE.RED_TO_GREEN,from:1234,to:1235},"1236-1235":{edgeType:GRAPH_ENUM_EDGE.BLUE_TO_GREEN,from:1236,to:1235}}},StyledGraphExample=function StyledGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_3__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{background:{color:"white",gridSize:1},edge:{connectionStyle:"default",targetMarker:!1}}}})};StyledGraphExample.displayName="StyledGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),StyledGraphExample.parameters=Object.assign({storySource:{source:"(args) => { \n    return <Component schema={GRAPH_SCHEMA} options={{\n        initialData: GRAPH_DATA,\n        passiveUIEvents: false,\n        includeFonts: true,\n        defaultStyles: {\n            background: {\n                color: 'white',\n                gridSize: 1\n            },\n            edge: {\n                connectionStyle: 'default',\n                targetMarker: false\n            }\n        }\n    }} />;\n}"}},StyledGraphExample.parameters),StyledGraphExample.__docgenInfo={description:"",methods:[],displayName:"StyledGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/basic/styling.stories.jsx"]={name:"StyledGraphExample",docgenInfo:StyledGraphExample.__docgenInfo,path:".storybook/stories/basic/styling.stories.jsx"})},"./.storybook/stories/basic/visual-programming-graph.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VisualProgrammingGraphExample",(function(){return VisualProgrammingGraphExample}));__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/constants.js");var _nodes,_edges,_base_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/base-component.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),config={title:"Basic/Visual Programming Graph"};__webpack_exports__.default={title:config.title,component:_base_component__WEBPACK_IMPORTED_MODULE_2__.a,parameters:{docs:{}}};var GRAPH_ENUM_NODE={HELLO:0,WORLD:1},GRAPH_ENUM_EDGE={HELLO_TO_WORLD:0},GRAPH_SCHEMA={nodes:(_nodes={},_nodes[GRAPH_ENUM_NODE.HELLO]={name:"Hello",outPorts:[{name:"output",type:GRAPH_ENUM_EDGE.HELLO_TO_WORLD}]},_nodes[GRAPH_ENUM_NODE.WORLD]={name:"World",inPorts:[{name:"input",type:GRAPH_ENUM_EDGE.HELLO_TO_WORLD}]},_nodes),edges:(_edges={},_edges[GRAPH_ENUM_EDGE.HELLO_TO_WORLD]={from:GRAPH_ENUM_NODE.HELLO,to:GRAPH_ENUM_NODE.WORLD},_edges)},GRAPH_DATA={nodes:{1234:{id:1234,nodeType:GRAPH_ENUM_NODE.HELLO,name:"Hello",posX:200,posY:200},1235:{id:1235,nodeType:GRAPH_ENUM_NODE.WORLD,name:"World",posX:500,posY:200}},edges:{"1234,0-1235,0":{edgeType:GRAPH_ENUM_EDGE.HELLO_TO_WORLD,from:1234,to:1235,inPort:0,outPort:0}}},VisualProgrammingGraphExample=function VisualProgrammingGraphExample(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_base_component__WEBPACK_IMPORTED_MODULE_2__.a,{schema:GRAPH_SCHEMA,options:{initialData:GRAPH_DATA,passiveUIEvents:!1,includeFonts:!0,defaultStyles:{edge:{connectionStyle:"smoothInOut"},background:{color:"#20292B",gridSize:10}}}})};VisualProgrammingGraphExample.displayName="VisualProgrammingGraphExample",document.querySelector("#root").setAttribute("style","position: fixed; width: 100%; height: 100%"),document.body.setAttribute("style","margin: 0px; padding: 0px;"),VisualProgrammingGraphExample.__docgenInfo={description:"",methods:[],displayName:"VisualProgrammingGraphExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/stories/basic/visual-programming-graph.jsx"]={name:"VisualProgrammingGraphExample",docgenInfo:VisualProgrammingGraphExample.__docgenInfo,path:".storybook/stories/basic/visual-programming-graph.jsx"})},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./.storybook/stories sync recursive ^\\.(?:(?:(?:(?!(?:^|\\/)\\.).)*?))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/lib/joint.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,'/*! JointJS v3.4.1 (2021-08-18) - JavaScript diagramming library\n\n\nThis Source Code Form is subject to the terms of the Mozilla Public\nLicense, v. 2.0. If a copy of the MPL was not distributed with this\nfile, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/.joint-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}.joint-paper>svg,.joint-paper-background,.joint-paper-grid{position:absolute;top:0;left:0;right:0;bottom:0}[magnet=true]:not(.joint-element){cursor:crosshair}[magnet=true]:not(.joint-element):hover{opacity:.7}.joint-element{cursor:move}.joint-element *{user-drag:none}.joint-element .scalable *{vector-effect:non-scaling-stroke}.marker-source,.marker-target{vector-effect:non-scaling-stroke}.joint-paper{position:relative}.joint-highlight-opacity{opacity:.3}.joint-link .connection-wrap,.joint-link .connection{fill:none}.marker-vertices{opacity:0;cursor:move}.marker-arrowheads{opacity:0;cursor:move;cursor:-webkit-grab;cursor:-moz-grab}.link-tools{opacity:0;cursor:pointer}.link-tools .tool-options{display:none}.joint-link:hover .marker-vertices,.joint-link:hover .marker-arrowheads,.joint-link:hover .link-tools{opacity:1}.marker-vertex-remove{cursor:pointer;opacity:.1}.marker-vertex-group:hover .marker-vertex-remove{opacity:1}.marker-vertex-remove-area{opacity:.1;cursor:pointer}.marker-vertex-group:hover .marker-vertex-remove-area{opacity:1}.joint-element .fobj{overflow:hidden}.joint-element .fobj body{background-color:rgba(0,0,0,0);margin:0px;position:static}.joint-element .fobj div{text-align:center;vertical-align:middle;display:table-cell;padding:0px 5px 0px 5px}.joint-paper.joint-theme-dark{background-color:#18191b}.joint-link.joint-theme-dark .connection-wrap{stroke:#8f8ff3;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-dark .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-dark .connection{stroke-linejoin:round}.joint-link.joint-theme-dark .link-tools .tool-remove circle{fill:#f33636}.joint-link.joint-theme-dark .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-dark .link-tools [event="link:options"] circle{fill:green}.joint-link.joint-theme-dark .marker-vertex{fill:#5652db}.joint-link.joint-theme-dark .marker-vertex:hover{fill:#8e8ce1;stroke:none}.joint-link.joint-theme-dark .marker-arrowhead{fill:#5652db}.joint-link.joint-theme-dark .marker-arrowhead:hover{fill:#8e8ce1;stroke:none}.joint-link.joint-theme-dark .marker-vertex-remove-area{fill:green;stroke:#006400}.joint-link.joint-theme-dark .marker-vertex-remove{fill:#fff;stroke:#fff}.joint-paper.joint-theme-default{background-color:#fff}.joint-link.joint-theme-default .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-default .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-default .connection{stroke-linejoin:round}.joint-link.joint-theme-default .link-tools .tool-remove circle{fill:red}.joint-link.joint-theme-default .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-default .marker-vertex{fill:#1abc9c}.joint-link.joint-theme-default .marker-vertex:hover{fill:#34495e;stroke:none}.joint-link.joint-theme-default .marker-arrowhead{fill:#1abc9c}.joint-link.joint-theme-default .marker-arrowhead:hover{fill:#f39c12;stroke:none}.joint-link.joint-theme-default .marker-vertex-remove{fill:#fff}.joint-link.joint-theme-material .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-material .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-material .connection{stroke-linejoin:round}.joint-link.joint-theme-material .link-tools .tool-remove circle{fill:#c64242}.joint-link.joint-theme-material .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-material .marker-vertex{fill:#d0d8e8}.joint-link.joint-theme-material .marker-vertex:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-arrowhead{fill:#d0d8e8}.joint-link.joint-theme-material .marker-arrowhead:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-vertex-remove-area{fill:#5fa9ee}.joint-link.joint-theme-material .marker-vertex-remove{fill:#fff}.joint-link.joint-theme-modern .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-modern .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-modern .connection{stroke-linejoin:round}.joint-link.joint-theme-modern .link-tools .tool-remove circle{fill:red}.joint-link.joint-theme-modern .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-modern .marker-vertex{fill:#1abc9c}.joint-link.joint-theme-modern .marker-vertex:hover{fill:#34495e;stroke:none}.joint-link.joint-theme-modern .marker-arrowhead{fill:#1abc9c}.joint-link.joint-theme-modern .marker-arrowhead:hover{fill:#f39c12;stroke:none}.joint-link.joint-theme-modern .marker-vertex-remove{fill:#fff}',""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/lib/layout.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".joint-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}.joint-paper>svg,.joint-paper-background,.joint-paper-grid{position:absolute;top:0;left:0;right:0;bottom:0}[magnet=true]:not(.joint-element){cursor:crosshair}[magnet=true]:not(.joint-element):hover{opacity:.7}.joint-element{cursor:move}.joint-element *{user-drag:none}.joint-element .scalable *{vector-effect:non-scaling-stroke}.marker-source,.marker-target{vector-effect:non-scaling-stroke}.joint-paper{position:relative}.joint-highlight-opacity{opacity:.3}.joint-link .connection-wrap,.joint-link .connection{fill:none}.marker-vertices{opacity:0;cursor:move}.marker-arrowheads{opacity:0;cursor:move;cursor:-webkit-grab;cursor:-moz-grab}.link-tools{opacity:0;cursor:pointer}.link-tools .tool-options{display:none}.joint-link:hover .marker-vertices,.joint-link:hover .marker-arrowheads,.joint-link:hover .link-tools{opacity:1}.marker-vertex-remove{cursor:pointer;opacity:.1}.marker-vertex-group:hover .marker-vertex-remove{opacity:1}.marker-vertex-remove-area{opacity:.1;cursor:pointer}.marker-vertex-group:hover .marker-vertex-remove-area{opacity:1}.joint-element .fobj{overflow:hidden}.joint-element .fobj body{background-color:rgba(0,0,0,0);margin:0px;position:static}.joint-element .fobj div{text-align:center;vertical-align:middle;display:table-cell;padding:0px 5px 0px 5px}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/lib/material.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".joint-link.joint-theme-material .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-material .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-material .connection{stroke-linejoin:round}.joint-link.joint-theme-material .link-tools .tool-remove circle{fill:#c64242}.joint-link.joint-theme-material .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-material .marker-vertex{fill:#d0d8e8}.joint-link.joint-theme-material .marker-vertex:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-arrowhead{fill:#d0d8e8}.joint-link.joint-theme-material .marker-arrowhead:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-vertex-remove-area{fill:#5fa9ee}.joint-link.joint-theme-material .marker-vertex-remove{fill:#fff}",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/style.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,'/*! JointJS v3.4.1 (2021-08-18) - JavaScript diagramming library\n\n\nThis Source Code Form is subject to the terms of the Mozilla Public\nLicense, v. 2.0. If a copy of the MPL was not distributed with this\nfile, You can obtain one at http://mozilla.org/MPL/2.0/.\n*/.joint-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}.joint-paper>svg,.joint-paper-background,.joint-paper-grid{position:absolute;top:0;left:0;right:0;bottom:0}[magnet=true]:not(.joint-element){cursor:crosshair}[magnet=true]:not(.joint-element):hover{opacity:.7}.joint-element{cursor:move}.joint-element *{user-drag:none}.joint-element .scalable *{vector-effect:non-scaling-stroke}.marker-source,.marker-target{vector-effect:non-scaling-stroke}.joint-paper{position:relative}.joint-highlight-opacity{opacity:.3}.joint-link .connection-wrap,.joint-link .connection{fill:none}.marker-vertices{opacity:0;cursor:move}.marker-arrowheads{opacity:0;cursor:move;cursor:-webkit-grab;cursor:-moz-grab}.link-tools{opacity:0;cursor:pointer}.link-tools .tool-options{display:none}.joint-link:hover .marker-vertices,.joint-link:hover .marker-arrowheads,.joint-link:hover .link-tools{opacity:1}.marker-vertex-remove{cursor:pointer;opacity:.1}.marker-vertex-group:hover .marker-vertex-remove{opacity:1}.marker-vertex-remove-area{opacity:.1;cursor:pointer}.marker-vertex-group:hover .marker-vertex-remove-area{opacity:1}.joint-element .fobj{overflow:hidden}.joint-element .fobj body{background-color:rgba(0,0,0,0);margin:0px;position:static}.joint-element .fobj div{text-align:center;vertical-align:middle;display:table-cell;padding:0px 5px 0px 5px}.joint-paper.joint-theme-dark{background-color:#18191b}.joint-link.joint-theme-dark .connection-wrap{stroke:#8f8ff3;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-dark .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-dark .connection{stroke-linejoin:round}.joint-link.joint-theme-dark .link-tools .tool-remove circle{fill:#f33636}.joint-link.joint-theme-dark .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-dark .link-tools [event="link:options"] circle{fill:green}.joint-link.joint-theme-dark .marker-vertex{fill:#5652db}.joint-link.joint-theme-dark .marker-vertex:hover{fill:#8e8ce1;stroke:none}.joint-link.joint-theme-dark .marker-arrowhead{fill:#5652db}.joint-link.joint-theme-dark .marker-arrowhead:hover{fill:#8e8ce1;stroke:none}.joint-link.joint-theme-dark .marker-vertex-remove-area{fill:green;stroke:#006400}.joint-link.joint-theme-dark .marker-vertex-remove{fill:#fff;stroke:#fff}.joint-paper.joint-theme-default{background-color:#fff}.joint-link.joint-theme-default .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-default .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-default .connection{stroke-linejoin:round}.joint-link.joint-theme-default .link-tools .tool-remove circle{fill:red}.joint-link.joint-theme-default .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-default .marker-vertex{fill:#1abc9c}.joint-link.joint-theme-default .marker-vertex:hover{fill:#34495e;stroke:none}.joint-link.joint-theme-default .marker-arrowhead{fill:#1abc9c}.joint-link.joint-theme-default .marker-arrowhead:hover{fill:#f39c12;stroke:none}.joint-link.joint-theme-default .marker-vertex-remove{fill:#fff}.joint-link.joint-theme-material .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-material .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-material .connection{stroke-linejoin:round}.joint-link.joint-theme-material .link-tools .tool-remove circle{fill:#c64242}.joint-link.joint-theme-material .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-material .marker-vertex{fill:#d0d8e8}.joint-link.joint-theme-material .marker-vertex:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-arrowhead{fill:#d0d8e8}.joint-link.joint-theme-material .marker-arrowhead:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-vertex-remove-area{fill:#5fa9ee}.joint-link.joint-theme-material .marker-vertex-remove{fill:#fff}.joint-link.joint-theme-modern .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-modern .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-modern .connection{stroke-linejoin:round}.joint-link.joint-theme-modern .link-tools .tool-remove circle{fill:red}.joint-link.joint-theme-modern .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-modern .marker-vertex{fill:#1abc9c}.joint-link.joint-theme-modern .marker-vertex:hover{fill:#34495e;stroke:none}.joint-link.joint-theme-modern .marker-arrowhead{fill:#1abc9c}.joint-link.joint-theme-modern .marker-arrowhead:hover{fill:#f39c12;stroke:none}.joint-link.joint-theme-modern .marker-vertex-remove{fill:#fff}.joint-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}.joint-paper>svg,.joint-paper-background,.joint-paper-grid{position:absolute;top:0;left:0;right:0;bottom:0}[magnet=true]:not(.joint-element){cursor:crosshair}[magnet=true]:not(.joint-element):hover{opacity:.7}.joint-element{cursor:move}.joint-element *{user-drag:none}.joint-element .scalable *{vector-effect:non-scaling-stroke}.marker-source,.marker-target{vector-effect:non-scaling-stroke}.joint-paper{position:relative}.joint-highlight-opacity{opacity:.3}.joint-link .connection-wrap,.joint-link .connection{fill:none}.marker-vertices{opacity:0;cursor:move}.marker-arrowheads{opacity:0;cursor:move;cursor:-webkit-grab;cursor:-moz-grab}.link-tools{opacity:0;cursor:pointer}.link-tools .tool-options{display:none}.joint-link:hover .marker-vertices,.joint-link:hover .marker-arrowheads,.joint-link:hover .link-tools{opacity:1}.marker-vertex-remove{cursor:pointer;opacity:.1}.marker-vertex-group:hover .marker-vertex-remove{opacity:1}.marker-vertex-remove-area{opacity:.1;cursor:pointer}.marker-vertex-group:hover .marker-vertex-remove-area{opacity:1}.joint-element .fobj{overflow:hidden}.joint-element .fobj body{background-color:rgba(0,0,0,0);margin:0px;position:static}.joint-element .fobj div{text-align:center;vertical-align:middle;display:table-cell;padding:0px 5px 0px 5px}.joint-link.joint-theme-material .connection-wrap{stroke:#000;stroke-width:15;stroke-linecap:round;stroke-linejoin:round;opacity:0;cursor:move}.joint-link.joint-theme-material .connection-wrap:hover{opacity:.4;stroke-opacity:.4}.joint-link.joint-theme-material .connection{stroke-linejoin:round}.joint-link.joint-theme-material .link-tools .tool-remove circle{fill:#c64242}.joint-link.joint-theme-material .link-tools .tool-remove path{fill:#fff}.joint-link.joint-theme-material .marker-vertex{fill:#d0d8e8}.joint-link.joint-theme-material .marker-vertex:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-arrowhead{fill:#d0d8e8}.joint-link.joint-theme-material .marker-arrowhead:hover{fill:#5fa9ee;stroke:none}.joint-link.joint-theme-material .marker-vertex-remove-area{fill:#5fa9ee}.joint-link.joint-theme-material .marker-vertex-remove{fill:#fff}.pcui-graph{font-family:"Helvetica Neue",Arial,Helvetica,sans-serif;width:100%;height:100%}.pcui-graph .available-magnet{fill:#adff2f}.pcui-graph #paper-html-elements{position:relative;border:1px solid gray;display:inline-block;background:rgba(0,0,0,0);overflow:hidden}.pcui-graph #paper-html-elements svg{background:rgba(0,0,0,0)}.pcui-graph #paper-html-elements svg .link{z-index:2}.pcui-graph .html-element{position:absolute;background:#3498db;pointer-events:none;-webkit-user-select:none;border-radius:4px;border:2px solid #2980b9;box-shadow:inset 0 0 5px #000,2px 2px 1px gray;padding:5px;box-sizing:border-box;z-index:2}.pcui-graph .html-element select,.pcui-graph .html-element input,.pcui-graph .html-element button{pointer-events:auto}.pcui-graph .html-element button.delete{color:#fff;border:none;background-color:#c0392b;border-radius:20px;width:15px;height:15px;line-height:15px;text-align:middle;position:absolute;top:-15px;left:-15px;padding:0;margin:0;font-weight:bold;cursor:pointer}.pcui-graph .html-element button.delete:hover{width:20px;height:20px;line-height:20px}.pcui-graph .html-element select{position:absolute;right:2px;bottom:28px}.pcui-graph .html-element input{position:absolute;bottom:0;left:0;right:0;border:none;color:#333;padding:5px;height:16px}.pcui-graph .html-element label{color:#333;text-shadow:1px 0 0 #d3d3d3;font-weight:bold}.pcui-graph .html-element span{position:absolute;top:2px;right:9px;color:#fff;font-size:10px}.pcui-graph .graph-node-div{pointer-events:none}.pcui-graph .graph-node-input{pointer-events:all}.pcui-graph .graph-node-input-no-pointer-events{pointer-events:none}.pcui-graph .graph-node-container{margin-top:5px;margin-bottom:5px;height:28px;display:flex;align-items:center;pointer-events:inherit}.pcui-graph .graph-node-label{max-width:50px;min-width:50px;font-size:12px;margin-left:13px}.pcui-graph .port-inner-body{pointer-events:none}.pcui-graph .pcui-contextmenu-parent,.pcui-graph .pcui-contextmenu-child{height:27px}',""]),module.exports=exports},"./src/constants.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return GRAPH_ACTIONS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_CONFIG}));var GRAPH_ACTIONS={ADD_NODE:"EVENT_ADD_NODE",DELETE_NODE:"EVENT_DELETE_NODE",SELECT_NODE:"EVENT_SELECT_NODE",UPDATE_NODE_POSITION:"EVENT_UPDATE_NODE_POSITION",UPDATE_NODE_ATTRIBUTE:"EVENT_UPDATE_NODE_ATTRIBUTE",ADD_EDGE:"EVENT_ADD_EDGE",DELETE_EDGE:"EVENT_DELETE_EDGE",SELECT_EDGE:"EVENT_SELECT_EDGE",DESELECT_ITEM:"EVENT_DESELECT_ITEM",UPDATE_TRANSLATE:"EVENT_UPDATE_TRANSLATE",UPDATE_SCALE:"EVENT_UPDATE_SCALE"},DEFAULT_CONFIG={readOnly:!1,passiveUIEvents:!1,incrementNodeNames:!1,restrictTranslate:!1,edgeHoverEffect:!0,includeFonts:!0,useGlobalPCUI:!1,adjustVertices:!1,defaultStyles:{initialScale:1,initialPosition:{x:0,y:0},background:{color:"#20292B",gridSize:10},node:{fill:"#2c393c",fillSecondary:"#364346",stroke:"#293538",strokeSelected:"#F60",strokeHover:"rgba(255, 102, 0, 0.32)",textColor:"#FFFFFF",textColorSecondary:"#b1b8ba",includeIcon:!0,icon:"",iconColor:"#F60",baseHeight:28,baseWidth:226,textAlignMiddle:!1,lineHeight:12},edge:{stroke:"rgb(3, 121, 238)",strokeSelected:"#F60",strokeWidth:2,strokeWidthSelected:2,targetMarker:!0,connectionStyle:"default"}}}},"./src/lib/joint.scss":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/lib/joint.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/lib/layout.scss":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/lib/layout.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/lib/material.scss":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/lib/material.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./src/style.scss":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/style.scss");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);