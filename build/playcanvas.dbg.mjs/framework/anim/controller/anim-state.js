/**
 * @license
 * PlayCanvas Engine v1.62.0-dev revision 7d088032c (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../../../core/debug.js';
import { AnimBlendTree1D } from './anim-blend-tree-1d.js';
import { AnimBlendTreeCartesian2D } from './anim-blend-tree-2d-cartesian.js';
import { AnimBlendTreeDirectional2D } from './anim-blend-tree-2d-directional.js';
import { AnimBlendTreeDirect } from './anim-blend-tree-direct.js';
import { AnimNode } from './anim-node.js';
import { ANIM_BLEND_DIRECT, ANIM_BLEND_2D_DIRECTIONAL, ANIM_BLEND_2D_CARTESIAN, ANIM_BLEND_1D, ANIM_CONTROL_STATES } from './constants.js';

/**
 * Defines a single state that the controller can be in. Each state contains either a single
 * AnimNode or a AnimBlendTree of multiple AnimNodes, which will be used to animate the Entity
 * while the state is active. An AnimState will stay active and play as long as there is no
 * AnimTransition with its conditions met that has that AnimState as its source state.
 *
 * @ignore
 */
class AnimState {
  /**
   * Create a new AnimState instance.
   *
   * @param {AnimController} controller - The controller this AnimState is associated with.
   * @param {string} name - The name of the state. Used to find this state when the controller
   * transitions between states and links animations.
   * @param {number} speed - The speed animations in the state should play at. Individual
   * {@link AnimNodes} can override this value.
   * @param {boolean} loop - Determines whether animations in this state should loop.
   * @param {object|null} blendTree - If supplied, the AnimState will recursively build a
   * {@link AnimBlendTree} hierarchy, used to store, blend and play multiple animations.
   */
  constructor(controller, name, speed, loop, blendTree) {
    this._controller = controller;
    this._name = name;
    this._animations = {};
    this._animationList = [];
    this._speed = speed || 1.0;
    this._loop = loop === undefined ? true : loop;
    const findParameter = this._controller.findParameter.bind(this._controller);
    if (blendTree) {
      this._blendTree = this._createTree(blendTree.type, this, null, name, 1.0, blendTree.parameter ? [blendTree.parameter] : blendTree.parameters, blendTree.children, blendTree.syncAnimations, this._createTree, findParameter);
    } else {
      this._blendTree = new AnimNode(this, null, name, 1.0, speed);
    }
  }
  _createTree(type, state, parent, name, point, parameters, children, syncAnimations, createTree, findParameter) {
    switch (type) {
      case ANIM_BLEND_1D:
        return new AnimBlendTree1D(state, parent, name, point, parameters, children, syncAnimations, createTree, findParameter);
      case ANIM_BLEND_2D_CARTESIAN:
        return new AnimBlendTreeCartesian2D(state, parent, name, point, parameters, children, syncAnimations, createTree, findParameter);
      case ANIM_BLEND_2D_DIRECTIONAL:
        return new AnimBlendTreeDirectional2D(state, parent, name, point, parameters, children, syncAnimations, createTree, findParameter);
      case ANIM_BLEND_DIRECT:
        return new AnimBlendTreeDirect(state, parent, name, point, parameters, children, syncAnimations, createTree, findParameter);
    }
    Debug.error(`Invalid anim blend type: ${type}`);
    return undefined;
  }
  _getNodeFromPath(path) {
    let currNode = this._blendTree;
    for (let i = 1; i < path.length; i++) {
      currNode = currNode.getChild(path[i]);
    }
    return currNode;
  }
  addAnimation(path, animTrack) {
    const pathString = path.join('.');
    const indexOfAnimation = this._animationList.findIndex(function (animation) {
      return animation.path === pathString;
    });
    if (indexOfAnimation >= 0) {
      this._animationList[indexOfAnimation].animTrack = animTrack;
    } else {
      const node = this._getNodeFromPath(path);
      node.animTrack = animTrack;
      this._animationList.push(node);
    }
  }
  get name() {
    return this._name;
  }
  set animations(value) {
    this._animationList = value;
  }
  get animations() {
    return this._animationList;
  }
  set speed(value) {
    this._speed = value;
  }
  get speed() {
    return this._speed;
  }
  set loop(value) {
    this._loop = value;
  }
  get loop() {
    return this._loop;
  }
  get nodeCount() {
    if (!this._blendTree || this._blendTree.constructor === AnimNode) return 1;
    return this._blendTree.getNodeCount();
  }
  get playable() {
    return ANIM_CONTROL_STATES.indexOf(this.name) !== -1 || this.animations.length === this.nodeCount;
  }
  get looping() {
    if (this.animations.length > 0) {
      const trackClipName = this.name + '.' + this.animations[0].animTrack.name;
      const trackClip = this._controller.animEvaluator.findClip(trackClipName);
      if (trackClip) {
        return trackClip.loop;
      }
    }
    return false;
  }
  get totalWeight() {
    let sum = 0;
    for (let i = 0; i < this.animations.length; i++) {
      sum += this.animations[i].weight;
    }
    return sum;
  }
  get timelineDuration() {
    let duration = 0;
    for (let i = 0; i < this.animations.length; i++) {
      const animation = this.animations[i];
      if (animation.animTrack.duration > duration) {
        duration = animation.animTrack.duration;
      }
    }
    return duration;
  }
}

export { AnimState };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbS1zdGF0ZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay9hbmltL2NvbnRyb2xsZXIvYW5pbS1zdGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1ZyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvZGVidWcuanMnO1xuXG5pbXBvcnQgeyBBbmltQmxlbmRUcmVlMUQgfSBmcm9tICcuL2FuaW0tYmxlbmQtdHJlZS0xZC5qcyc7XG5pbXBvcnQgeyBBbmltQmxlbmRUcmVlQ2FydGVzaWFuMkQgfSBmcm9tICcuL2FuaW0tYmxlbmQtdHJlZS0yZC1jYXJ0ZXNpYW4uanMnO1xuaW1wb3J0IHsgQW5pbUJsZW5kVHJlZURpcmVjdGlvbmFsMkQgfSBmcm9tICcuL2FuaW0tYmxlbmQtdHJlZS0yZC1kaXJlY3Rpb25hbC5qcyc7XG5pbXBvcnQgeyBBbmltQmxlbmRUcmVlRGlyZWN0IH0gZnJvbSAnLi9hbmltLWJsZW5kLXRyZWUtZGlyZWN0LmpzJztcbmltcG9ydCB7IEFuaW1Ob2RlIH0gZnJvbSAnLi9hbmltLW5vZGUuanMnO1xuaW1wb3J0IHtcbiAgICBBTklNX0JMRU5EXzFELCBBTklNX0JMRU5EXzJEX0NBUlRFU0lBTiwgQU5JTV9CTEVORF8yRF9ESVJFQ1RJT05BTCwgQU5JTV9CTEVORF9ESVJFQ1QsIEFOSU1fQ09OVFJPTF9TVEFURVNcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG4vKipcbiAqIERlZmluZXMgYSBzaW5nbGUgc3RhdGUgdGhhdCB0aGUgY29udHJvbGxlciBjYW4gYmUgaW4uIEVhY2ggc3RhdGUgY29udGFpbnMgZWl0aGVyIGEgc2luZ2xlXG4gKiBBbmltTm9kZSBvciBhIEFuaW1CbGVuZFRyZWUgb2YgbXVsdGlwbGUgQW5pbU5vZGVzLCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gYW5pbWF0ZSB0aGUgRW50aXR5XG4gKiB3aGlsZSB0aGUgc3RhdGUgaXMgYWN0aXZlLiBBbiBBbmltU3RhdGUgd2lsbCBzdGF5IGFjdGl2ZSBhbmQgcGxheSBhcyBsb25nIGFzIHRoZXJlIGlzIG5vXG4gKiBBbmltVHJhbnNpdGlvbiB3aXRoIGl0cyBjb25kaXRpb25zIG1ldCB0aGF0IGhhcyB0aGF0IEFuaW1TdGF0ZSBhcyBpdHMgc291cmNlIHN0YXRlLlxuICpcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgQW5pbVN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQW5pbVN0YXRlIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBbmltQ29udHJvbGxlcn0gY29udHJvbGxlciAtIFRoZSBjb250cm9sbGVyIHRoaXMgQW5pbVN0YXRlIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzdGF0ZS4gVXNlZCB0byBmaW5kIHRoaXMgc3RhdGUgd2hlbiB0aGUgY29udHJvbGxlclxuICAgICAqIHRyYW5zaXRpb25zIGJldHdlZW4gc3RhdGVzIGFuZCBsaW5rcyBhbmltYXRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCAtIFRoZSBzcGVlZCBhbmltYXRpb25zIGluIHRoZSBzdGF0ZSBzaG91bGQgcGxheSBhdC4gSW5kaXZpZHVhbFxuICAgICAqIHtAbGluayBBbmltTm9kZXN9IGNhbiBvdmVycmlkZSB0aGlzIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9vcCAtIERldGVybWluZXMgd2hldGhlciBhbmltYXRpb25zIGluIHRoaXMgc3RhdGUgc2hvdWxkIGxvb3AuXG4gICAgICogQHBhcmFtIHtvYmplY3R8bnVsbH0gYmxlbmRUcmVlIC0gSWYgc3VwcGxpZWQsIHRoZSBBbmltU3RhdGUgd2lsbCByZWN1cnNpdmVseSBidWlsZCBhXG4gICAgICoge0BsaW5rIEFuaW1CbGVuZFRyZWV9IGhpZXJhcmNoeSwgdXNlZCB0byBzdG9yZSwgYmxlbmQgYW5kIHBsYXkgbXVsdGlwbGUgYW5pbWF0aW9ucy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBuYW1lLCBzcGVlZCwgbG9vcCwgYmxlbmRUcmVlKSB7XG4gICAgICAgIHRoaXMuX2NvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLl9hbmltYXRpb25MaXN0ID0gW107XG4gICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQgfHwgMS4wO1xuICAgICAgICB0aGlzLl9sb29wID0gbG9vcCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGxvb3A7XG4gICAgICAgIGNvbnN0IGZpbmRQYXJhbWV0ZXIgPSB0aGlzLl9jb250cm9sbGVyLmZpbmRQYXJhbWV0ZXIuYmluZCh0aGlzLl9jb250cm9sbGVyKTtcbiAgICAgICAgaWYgKGJsZW5kVHJlZSkge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRUcmVlID0gdGhpcy5fY3JlYXRlVHJlZShcbiAgICAgICAgICAgICAgICBibGVuZFRyZWUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAxLjAsXG4gICAgICAgICAgICAgICAgYmxlbmRUcmVlLnBhcmFtZXRlciA/IFtibGVuZFRyZWUucGFyYW1ldGVyXSA6IGJsZW5kVHJlZS5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIGJsZW5kVHJlZS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBibGVuZFRyZWUuc3luY0FuaW1hdGlvbnMsXG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlVHJlZSxcbiAgICAgICAgICAgICAgICBmaW5kUGFyYW1ldGVyXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRUcmVlID0gbmV3IEFuaW1Ob2RlKHRoaXMsIG51bGwsIG5hbWUsIDEuMCwgc3BlZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZVRyZWUodHlwZSwgc3RhdGUsIHBhcmVudCwgbmFtZSwgcG9pbnQsIHBhcmFtZXRlcnMsIGNoaWxkcmVuLCBzeW5jQW5pbWF0aW9ucywgY3JlYXRlVHJlZSwgZmluZFBhcmFtZXRlcikge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQU5JTV9CTEVORF8xRDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFuaW1CbGVuZFRyZWUxRChzdGF0ZSwgcGFyZW50LCBuYW1lLCBwb2ludCwgcGFyYW1ldGVycywgY2hpbGRyZW4sIHN5bmNBbmltYXRpb25zLCBjcmVhdGVUcmVlLCBmaW5kUGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGNhc2UgQU5JTV9CTEVORF8yRF9DQVJURVNJQU46XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltQmxlbmRUcmVlQ2FydGVzaWFuMkQoc3RhdGUsIHBhcmVudCwgbmFtZSwgcG9pbnQsIHBhcmFtZXRlcnMsIGNoaWxkcmVuLCBzeW5jQW5pbWF0aW9ucywgY3JlYXRlVHJlZSwgZmluZFBhcmFtZXRlcik7XG4gICAgICAgICAgICBjYXNlIEFOSU1fQkxFTkRfMkRfRElSRUNUSU9OQUw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltQmxlbmRUcmVlRGlyZWN0aW9uYWwyRChzdGF0ZSwgcGFyZW50LCBuYW1lLCBwb2ludCwgcGFyYW1ldGVycywgY2hpbGRyZW4sIHN5bmNBbmltYXRpb25zLCBjcmVhdGVUcmVlLCBmaW5kUGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGNhc2UgQU5JTV9CTEVORF9ESVJFQ1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltQmxlbmRUcmVlRGlyZWN0KHN0YXRlLCBwYXJlbnQsIG5hbWUsIHBvaW50LCBwYXJhbWV0ZXJzLCBjaGlsZHJlbiwgc3luY0FuaW1hdGlvbnMsIGNyZWF0ZVRyZWUsIGZpbmRQYXJhbWV0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgRGVidWcuZXJyb3IoYEludmFsaWQgYW5pbSBibGVuZCB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX2dldE5vZGVGcm9tUGF0aChwYXRoKSB7XG4gICAgICAgIGxldCBjdXJyTm9kZSA9IHRoaXMuX2JsZW5kVHJlZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdXJyTm9kZSA9IGN1cnJOb2RlLmdldENoaWxkKHBhdGhbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyTm9kZTtcbiAgICB9XG5cbiAgICBhZGRBbmltYXRpb24ocGF0aCwgYW5pbVRyYWNrKSB7XG4gICAgICAgIGNvbnN0IHBhdGhTdHJpbmcgPSBwYXRoLmpvaW4oJy4nKTtcbiAgICAgICAgY29uc3QgaW5kZXhPZkFuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGlvbkxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBhbmltYXRpb24ucGF0aCA9PT0gcGF0aFN0cmluZztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbmRleE9mQW5pbWF0aW9uID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbkxpc3RbaW5kZXhPZkFuaW1hdGlvbl0uYW5pbVRyYWNrID0gYW5pbVRyYWNrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX2dldE5vZGVGcm9tUGF0aChwYXRoKTtcbiAgICAgICAgICAgIG5vZGUuYW5pbVRyYWNrID0gYW5pbVRyYWNrO1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uTGlzdC5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIHNldCBhbmltYXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbkxpc3QgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYW5pbWF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvbkxpc3Q7XG4gICAgfVxuXG4gICAgc2V0IHNwZWVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NwZWVkID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHNwZWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gICAgfVxuXG4gICAgc2V0IGxvb3AodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBsb29wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9vcDtcbiAgICB9XG5cbiAgICBnZXQgbm9kZUNvdW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2JsZW5kVHJlZSB8fCAodGhpcy5fYmxlbmRUcmVlLmNvbnN0cnVjdG9yID09PSBBbmltTm9kZSkpIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRUcmVlLmdldE5vZGVDb3VudCgpO1xuICAgIH1cblxuICAgIGdldCBwbGF5YWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIChBTklNX0NPTlRST0xfU1RBVEVTLmluZGV4T2YodGhpcy5uYW1lKSAhPT0gLTEgfHwgdGhpcy5hbmltYXRpb25zLmxlbmd0aCA9PT0gdGhpcy5ub2RlQ291bnQpO1xuICAgIH1cblxuICAgIGdldCBsb29waW5nKCkge1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrQ2xpcE5hbWUgPSB0aGlzLm5hbWUgKyAnLicgKyB0aGlzLmFuaW1hdGlvbnNbMF0uYW5pbVRyYWNrLm5hbWU7XG4gICAgICAgICAgICBjb25zdCB0cmFja0NsaXAgPSB0aGlzLl9jb250cm9sbGVyLmFuaW1FdmFsdWF0b3IuZmluZENsaXAodHJhY2tDbGlwTmFtZSk7XG4gICAgICAgICAgICBpZiAodHJhY2tDbGlwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYWNrQ2xpcC5sb29wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgdG90YWxXZWlnaHQoKSB7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3VtICs9IHRoaXMuYW5pbWF0aW9uc1tpXS53ZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9XG5cbiAgICBnZXQgdGltZWxpbmVEdXJhdGlvbigpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24uYW5pbVRyYWNrLmR1cmF0aW9uID4gZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGFuaW1hdGlvbi5hbmltVHJhY2suZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQW5pbVN0YXRlIH07XG4iXSwibmFtZXMiOlsiQW5pbVN0YXRlIiwiY29uc3RydWN0b3IiLCJjb250cm9sbGVyIiwibmFtZSIsInNwZWVkIiwibG9vcCIsImJsZW5kVHJlZSIsIl9jb250cm9sbGVyIiwiX25hbWUiLCJfYW5pbWF0aW9ucyIsIl9hbmltYXRpb25MaXN0IiwiX3NwZWVkIiwiX2xvb3AiLCJ1bmRlZmluZWQiLCJmaW5kUGFyYW1ldGVyIiwiYmluZCIsIl9ibGVuZFRyZWUiLCJfY3JlYXRlVHJlZSIsInR5cGUiLCJwYXJhbWV0ZXIiLCJwYXJhbWV0ZXJzIiwiY2hpbGRyZW4iLCJzeW5jQW5pbWF0aW9ucyIsIkFuaW1Ob2RlIiwic3RhdGUiLCJwYXJlbnQiLCJwb2ludCIsImNyZWF0ZVRyZWUiLCJBTklNX0JMRU5EXzFEIiwiQW5pbUJsZW5kVHJlZTFEIiwiQU5JTV9CTEVORF8yRF9DQVJURVNJQU4iLCJBbmltQmxlbmRUcmVlQ2FydGVzaWFuMkQiLCJBTklNX0JMRU5EXzJEX0RJUkVDVElPTkFMIiwiQW5pbUJsZW5kVHJlZURpcmVjdGlvbmFsMkQiLCJBTklNX0JMRU5EX0RJUkVDVCIsIkFuaW1CbGVuZFRyZWVEaXJlY3QiLCJEZWJ1ZyIsImVycm9yIiwiX2dldE5vZGVGcm9tUGF0aCIsInBhdGgiLCJjdXJyTm9kZSIsImkiLCJsZW5ndGgiLCJnZXRDaGlsZCIsImFkZEFuaW1hdGlvbiIsImFuaW1UcmFjayIsInBhdGhTdHJpbmciLCJqb2luIiwiaW5kZXhPZkFuaW1hdGlvbiIsImZpbmRJbmRleCIsImFuaW1hdGlvbiIsIm5vZGUiLCJwdXNoIiwiYW5pbWF0aW9ucyIsInZhbHVlIiwibm9kZUNvdW50IiwiZ2V0Tm9kZUNvdW50IiwicGxheWFibGUiLCJBTklNX0NPTlRST0xfU1RBVEVTIiwiaW5kZXhPZiIsImxvb3BpbmciLCJ0cmFja0NsaXBOYW1lIiwidHJhY2tDbGlwIiwiYW5pbUV2YWx1YXRvciIsImZpbmRDbGlwIiwidG90YWxXZWlnaHQiLCJzdW0iLCJ3ZWlnaHQiLCJ0aW1lbGluZUR1cmF0aW9uIiwiZHVyYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsU0FBUyxDQUFDO0FBQ1o7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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
