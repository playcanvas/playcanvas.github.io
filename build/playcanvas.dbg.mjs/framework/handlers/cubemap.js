/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { ADDRESS_CLAMP_TO_EDGE, PIXELFORMAT_R8_G8_B8, PIXELFORMAT_R8_G8_B8_A8, TEXTURETYPE_RGBM, TEXTURETYPE_DEFAULT } from '../../platform/graphics/constants.js';
import { Asset } from '../asset/asset.js';
import { Texture } from '../../platform/graphics/texture.js';

class CubemapHandler {

  constructor(app) {
    this.handlerType = "cubemap";
    this._device = app.graphicsDevice;
    this._registry = app.assets;
    this._loader = app.loader;
  }
  load(url, callback, asset) {
    this.loadAssets(asset, callback);
  }
  open(url, data, asset) {
    return asset ? asset.resource : null;
  }
  patch(asset, registry) {
    this.loadAssets(asset, function (err, result) {
      if (err) {
        registry.fire('error', asset);
        registry.fire('error:' + asset.id, err, asset);
        asset.fire('error', asset);
      }
    });
  }

  getAssetIds(cubemapAsset) {
    const result = [];

    result[0] = cubemapAsset.file;

    if ((cubemapAsset.loadFaces || !cubemapAsset.file) && cubemapAsset.data && cubemapAsset.data.textures) {
      for (let i = 0; i < 6; ++i) {
        result[i + 1] = cubemapAsset.data.textures[i];
      }
    } else {
      result[1] = result[2] = result[3] = result[4] = result[5] = result[6] = null;
    }
    return result;
  }

  compareAssetIds(assetIdA, assetIdB) {
    if (assetIdA && assetIdB) {
      if (parseInt(assetIdA, 10) === assetIdA || typeof assetIdA === 'string') {
        return assetIdA === assetIdB;
      }
      return assetIdA.url === assetIdB.url;
    }
    return assetIdA !== null === (assetIdB !== null);
  }

  update(cubemapAsset, assetIds, assets) {
    const assetData = cubemapAsset.data || {};
    const oldAssets = cubemapAsset._handlerState.assets;
    const oldResources = cubemapAsset._resources;
    let tex, mip, i;

    const resources = [null, null, null, null, null, null, null];

    const getType = function getType() {
      if (assetData.hasOwnProperty('type')) {
        return assetData.type;
      }
      if (assetData.hasOwnProperty('rgbm')) {
        return assetData.rgbm ? TEXTURETYPE_RGBM : TEXTURETYPE_DEFAULT;
      }
      return null;
    };

    if (!cubemapAsset.loaded || assets[0] !== oldAssets[0]) {
      if (assets[0]) {
        tex = assets[0].resource;
        for (i = 0; i < 6; ++i) {
          resources[i + 1] = new Texture(this._device, {
            name: cubemapAsset.name + '_prelitCubemap' + (tex.width >> i),
            cubemap: true,
            type: getType() || tex.type,
            width: tex.width >> i,
            height: tex.height >> i,
            format: tex.format,
            levels: [tex._levels[i]],
            fixCubemapSeams: true,
            addressU: ADDRESS_CLAMP_TO_EDGE,
            addressV: ADDRESS_CLAMP_TO_EDGE,
            mipmaps: i === 0
          });
        }
      }
    } else {
      resources[1] = oldResources[1] || null;
      resources[2] = oldResources[2] || null;
      resources[3] = oldResources[3] || null;
      resources[4] = oldResources[4] || null;
      resources[5] = oldResources[5] || null;
      resources[6] = oldResources[6] || null;
    }
    const faceAssets = assets.slice(1);
    if (!cubemapAsset.loaded || !this.cmpArrays(faceAssets, oldAssets.slice(1))) {
      if (faceAssets.indexOf(null) === -1) {
        const faceTextures = faceAssets.map(function (asset) {
          return asset.resource;
        });
        const faceLevels = [];
        for (mip = 0; mip < faceTextures[0]._levels.length; ++mip) {
          faceLevels.push(faceTextures.map(function (faceTexture) {
            return faceTexture._levels[mip];
          }));
        }

        const format = faceTextures[0].format;
        const faces = new Texture(this._device, {
          name: cubemapAsset.name + '_faces',
          cubemap: true,
          type: getType() || faceTextures[0].type,
          width: faceTextures[0].width,
          height: faceTextures[0].height,
          format: format === PIXELFORMAT_R8_G8_B8 ? PIXELFORMAT_R8_G8_B8_A8 : format,
          levels: faceLevels,
          minFilter: assetData.hasOwnProperty('minFilter') ? assetData.minFilter : faceTextures[0].minFilter,
          magFilter: assetData.hasOwnProperty('magFilter') ? assetData.magFilter : faceTextures[0].magFilter,
          anisotropy: assetData.hasOwnProperty('anisotropy') ? assetData.anisotropy : 1,
          addressU: ADDRESS_CLAMP_TO_EDGE,
          addressV: ADDRESS_CLAMP_TO_EDGE,
          fixCubemapSeams: !!assets[0]
        });
        resources[0] = faces;
      }
    } else {
      resources[0] = oldResources[0] || null;
    }

    if (!this.cmpArrays(resources, oldResources)) {
      cubemapAsset.resources = resources;
      cubemapAsset._handlerState.assetIds = assetIds;
      cubemapAsset._handlerState.assets = assets;

      for (i = 0; i < oldResources.length; ++i) {
        if (oldResources[i] !== null && resources.indexOf(oldResources[i]) === -1) {
          oldResources[i].destroy();
        }
      }
    }

    for (i = 0; i < oldAssets.length; ++i) {
      if (oldAssets[i] !== null && assets.indexOf(oldAssets[i]) === -1) {
        oldAssets[i].unload();
      }
    }
  }
  cmpArrays(arr1, arr2) {
    if (arr1.length !== arr2.length) {
      return false;
    }
    for (let i = 0; i < arr1.length; ++i) {
      if (arr1[i] !== arr2[i]) {
        return false;
      }
    }
    return true;
  }

  resolveId(value) {
    const valueInt = parseInt(value, 10);
    return valueInt === value || valueInt.toString() === value ? valueInt : value;
  }
  loadAssets(cubemapAsset, callback) {
    if (!cubemapAsset.hasOwnProperty('_handlerState')) {
      cubemapAsset._handlerState = {
        assetIds: [null, null, null, null, null, null, null],
        assets: [null, null, null, null, null, null, null]
      };
    }
    const self = this;
    const assetIds = self.getAssetIds(cubemapAsset);
    const assets = [null, null, null, null, null, null, null];
    const loadedAssetIds = cubemapAsset._handlerState.assetIds;
    const loadedAssets = cubemapAsset._handlerState.assets;
    const registry = self._registry;

    let awaiting = 7;
    const onLoad = function onLoad(index, asset) {
      assets[index] = asset;
      awaiting--;
      if (awaiting === 0) {
        self.update(cubemapAsset, assetIds, assets);
        callback(null, cubemapAsset.resources);
      }
    };

    const onError = function onError(index, err, asset) {
      callback(err);
    };

    const processTexAsset = function processTexAsset(index, texAsset) {
      if (texAsset.loaded) {
        onLoad(index, texAsset);
      } else {
        registry.once('load:' + texAsset.id, onLoad.bind(self, index));
        registry.once('error:' + texAsset.id, onError.bind(self, index));
        if (!texAsset.loading) {
          registry.load(texAsset);
        }
      }
    };
    let texAsset;
    for (let i = 0; i < 7; ++i) {
      const assetId = this.resolveId(assetIds[i]);
      if (!assetId) {
        onLoad(i, null);
      } else if (self.compareAssetIds(assetId, loadedAssetIds[i])) {
        onLoad(i, loadedAssets[i]);
      } else if (parseInt(assetId, 10) === assetId) {
        texAsset = registry.get(assetId);
        if (texAsset) {
          processTexAsset(i, texAsset);
        } else {
          setTimeout(function (index, assetId_) {
            const texAsset = registry.get(assetId_);
            if (texAsset) {
              processTexAsset(index, texAsset);
            } else {
              onError(index, 'failed to find dependent cubemap asset=' + assetId_);
            }
          }.bind(null, i, assetId));
        }
      } else {
        const file = typeof assetId === 'string' ? {
          url: assetId,
          filename: assetId
        } : assetId;
        texAsset = new Asset(cubemapAsset.name + '_part_' + i, 'texture', file);
        registry.add(texAsset);
        registry.once('load:' + texAsset.id, onLoad.bind(self, i));
        registry.once('error:' + texAsset.id, onError.bind(self, i));
        registry.load(texAsset);
      }
    }
  }
}

export { CubemapHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3ViZW1hcC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay9oYW5kbGVycy9jdWJlbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQUREUkVTU19DTEFNUF9UT19FREdFLCBQSVhFTEZPUk1BVF9SOF9HOF9COCwgUElYRUxGT1JNQVRfUjhfRzhfQjhfQTgsXG4gICAgVEVYVFVSRVRZUEVfREVGQVVMVCwgVEVYVFVSRVRZUEVfUkdCTVxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uLy4uL2ZyYW1ld29yay9hc3NldC9hc3NldC5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvdGV4dHVyZS5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2hhbmRsZXIuanMnKS5SZXNvdXJjZUhhbmRsZXJ9IFJlc291cmNlSGFuZGxlciAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2ZyYW1ld29yay9hcHAtYmFzZS5qcycpLkFwcEJhc2V9IEFwcEJhc2UgKi9cblxuLyoqXG4gKiBSZXNvdXJjZSBoYW5kbGVyIHVzZWQgZm9yIGxvYWRpbmcgY3ViZW1hcCB7QGxpbmsgVGV4dHVyZX0gcmVzb3VyY2VzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtSZXNvdXJjZUhhbmRsZXJ9XG4gKi9cbmNsYXNzIEN1YmVtYXBIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHRoZSByZXNvdXJjZSB0aGUgaGFuZGxlciBoYW5kbGVzLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBoYW5kbGVyVHlwZSA9IFwiY3ViZW1hcFwiO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEN1YmVtYXBIYW5kbGVyIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcHBCYXNlfSBhcHAgLSBUaGUgcnVubmluZyB7QGxpbmsgQXBwQmFzZX0uXG4gICAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICB0aGlzLl9kZXZpY2UgPSBhcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5ID0gYXBwLmFzc2V0cztcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gYXBwLmxvYWRlcjtcbiAgICB9XG5cbiAgICBsb2FkKHVybCwgY2FsbGJhY2ssIGFzc2V0KSB7XG4gICAgICAgIHRoaXMubG9hZEFzc2V0cyhhc3NldCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIG9wZW4odXJsLCBkYXRhLCBhc3NldCkge1xuICAgICAgICAvLyBjYWxsZXIgd2lsbCBzZXQgb3VyIHJldHVybiB2YWx1ZSB0byBhc3NldC5yZXNvdXJjZXNbMF0uIFdlJ3ZlIGFscmVhZHkgc2V0IHJlc291cmNlc1swXSxcbiAgICAgICAgLy8gYnV0IHdlIG11c3QgcmV0dXJuIGl0IGFnYWluIGhlcmUgc28gaXQgZG9lc24ndCBnZXQgb3ZlcndyaXR0ZW4uXG4gICAgICAgIHJldHVybiBhc3NldCA/IGFzc2V0LnJlc291cmNlIDogbnVsbDtcbiAgICB9XG5cbiAgICBwYXRjaChhc3NldCwgcmVnaXN0cnkpIHtcbiAgICAgICAgdGhpcy5sb2FkQXNzZXRzKGFzc2V0LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJlIGVycm9yIGV2ZW50IGlmIHBhdGNoIGZhaWxlZFxuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmZpcmUoJ2Vycm9yJywgYXNzZXQpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmZpcmUoJ2Vycm9yOicgKyBhc3NldC5pZCwgZXJyLCBhc3NldCk7XG4gICAgICAgICAgICAgICAgYXNzZXQuZmlyZSgnZXJyb3InLCBhc3NldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvIHNpbmNlIGFzc2V0OmNoYW5nZSB3b3VsZCBoYXZlIGJlZW4gcmFpc2VkIGlmXG4gICAgICAgICAgICAvLyByZXNvdXJjZXMgd2VyZSBjaGFuZ2VkLlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIGxpc3Qgb2YgZGVwZW5kZW50IGFzc2V0IGlkcyBmb3IgdGhlIGN1YmVtYXBcbiAgICBnZXRBc3NldElkcyhjdWJlbWFwQXNzZXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgLy8gcHJlZmlsdGVyZWQgY3ViZW1hcCBpcyBzdG9yZWQgYXQgaW5kZXggMFxuICAgICAgICByZXN1bHRbMF0gPSBjdWJlbWFwQXNzZXQuZmlsZTtcblxuICAgICAgICAvLyBmYWNlcyBhcmUgc3RvcmVkIGF0IGluZGV4IDEuLjZcbiAgICAgICAgaWYgKChjdWJlbWFwQXNzZXQubG9hZEZhY2VzIHx8ICFjdWJlbWFwQXNzZXQuZmlsZSkgJiYgY3ViZW1hcEFzc2V0LmRhdGEgJiYgY3ViZW1hcEFzc2V0LmRhdGEudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2kgKyAxXSA9IGN1YmVtYXBBc3NldC5kYXRhLnRleHR1cmVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0WzFdID0gcmVzdWx0WzJdID0gcmVzdWx0WzNdID0gcmVzdWx0WzRdID0gcmVzdWx0WzVdID0gcmVzdWx0WzZdID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gdGVzdCB3aGV0aGVyIHR3byBhc3NldHMgaWRzIGFyZSB0aGUgc2FtZVxuICAgIGNvbXBhcmVBc3NldElkcyhhc3NldElkQSwgYXNzZXRJZEIpIHtcbiAgICAgICAgaWYgKGFzc2V0SWRBICYmIGFzc2V0SWRCKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoYXNzZXRJZEEsIDEwKSA9PT0gYXNzZXRJZEEgfHwgdHlwZW9mIGFzc2V0SWRBID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3NldElkQSA9PT0gYXNzZXRJZEI7ICAgICAgICAgICAvLyBpZCBvciB1cmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFzc2V0SWRBLnVybCA9PT0gYXNzZXRJZEIudXJsOyAgICAgICAvLyBmaWxlL3VybCBzdHJ1Y3R1cmUgd2l0aCB1cmwgYW5kIGZpbGVuYW1lXG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgIHJldHVybiAoYXNzZXRJZEEgIT09IG51bGwpID09PSAoYXNzZXRJZEIgIT09IG51bGwpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgY3ViZW1hcCByZXNvdXJjZXMgZ2l2ZW4gYSBuZXdseSBsb2FkZWQgc2V0IG9mIGFzc2V0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmcgaWRzXG4gICAgdXBkYXRlKGN1YmVtYXBBc3NldCwgYXNzZXRJZHMsIGFzc2V0cykge1xuICAgICAgICBjb25zdCBhc3NldERhdGEgPSBjdWJlbWFwQXNzZXQuZGF0YSB8fCB7fTtcbiAgICAgICAgY29uc3Qgb2xkQXNzZXRzID0gY3ViZW1hcEFzc2V0Ll9oYW5kbGVyU3RhdGUuYXNzZXRzO1xuICAgICAgICBjb25zdCBvbGRSZXNvdXJjZXMgPSBjdWJlbWFwQXNzZXQuX3Jlc291cmNlcztcbiAgICAgICAgbGV0IHRleCwgbWlwLCBpO1xuXG4gICAgICAgIC8vIGZhY2VzLCBwcmVsaXQgY3ViZW1hcCAxMjgsIDY0LCAzMiwgMTYsIDgsIDRcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gW251bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGxdO1xuXG4gICAgICAgIC8vIHRleHR1cmUgdHlwZSB1c2VkIGZvciBmYWNlcyBhbmQgcHJlbGl0IGN1YmVtYXBzIGFyZSBib3RoIHRha2VuIGZyb21cbiAgICAgICAgLy8gY3ViZW1hcC5kYXRhLnJnYm1cbiAgICAgICAgY29uc3QgZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhc3NldERhdGEuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3NldERhdGEudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3NldERhdGEuaGFzT3duUHJvcGVydHkoJ3JnYm0nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3NldERhdGEucmdibSA/IFRFWFRVUkVUWVBFX1JHQk0gOiBURVhUVVJFVFlQRV9ERUZBVUxUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaGFuZGxlIHRoZSBwcmVsaXQgZGF0YVxuICAgICAgICBpZiAoIWN1YmVtYXBBc3NldC5sb2FkZWQgfHwgYXNzZXRzWzBdICE9PSBvbGRBc3NldHNbMF0pIHtcbiAgICAgICAgICAgIC8vIHByZWxpdCBhc3NldCBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoYXNzZXRzWzBdKSB7XG4gICAgICAgICAgICAgICAgdGV4ID0gYXNzZXRzWzBdLnJlc291cmNlO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA2OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzW2kgKyAxXSA9IG5ldyBUZXh0dXJlKHRoaXMuX2RldmljZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY3ViZW1hcEFzc2V0Lm5hbWUgKyAnX3ByZWxpdEN1YmVtYXAnICsgKHRleC53aWR0aCA+PiBpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1YmVtYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhc3N1bWUgcHJlZmlsdGVyZWQgZGF0YSBoYXMgc2FtZSBlbmNvZGluZyBhcyB0aGUgZmFjZXMgYXNzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGdldFR5cGUoKSB8fCB0ZXgudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0ZXgud2lkdGggPj4gaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGV4LmhlaWdodCA+PiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiB0ZXguZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxzOiBbdGV4Ll9sZXZlbHNbaV1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgZml4Q3ViZW1hcFNlYW1zOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1U6IEFERFJFU1NfQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NWOiBBRERSRVNTX0NMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZW5lcmF0ZSBjdWJlbWFwcyBvbiB0aGUgdG9wIGxldmVsIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pcG1hcHM6IGkgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcHJlbGl0IGFzc2V0IGRpZG4ndCBjaGFuZ2Ugc28ga2VlcCB0aGUgZXhpc3RpbmcgY3ViZW1hcCByZXNvdXJjZXNcbiAgICAgICAgICAgIHJlc291cmNlc1sxXSA9IG9sZFJlc291cmNlc1sxXSB8fCBudWxsO1xuICAgICAgICAgICAgcmVzb3VyY2VzWzJdID0gb2xkUmVzb3VyY2VzWzJdIHx8IG51bGw7XG4gICAgICAgICAgICByZXNvdXJjZXNbM10gPSBvbGRSZXNvdXJjZXNbM10gfHwgbnVsbDtcbiAgICAgICAgICAgIHJlc291cmNlc1s0XSA9IG9sZFJlc291cmNlc1s0XSB8fCBudWxsO1xuICAgICAgICAgICAgcmVzb3VyY2VzWzVdID0gb2xkUmVzb3VyY2VzWzVdIHx8IG51bGw7XG4gICAgICAgICAgICByZXNvdXJjZXNbNl0gPSBvbGRSZXNvdXJjZXNbNl0gfHwgbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZhY2VBc3NldHMgPSBhc3NldHMuc2xpY2UoMSk7XG4gICAgICAgIGlmICghY3ViZW1hcEFzc2V0LmxvYWRlZCB8fCAhdGhpcy5jbXBBcnJheXMoZmFjZUFzc2V0cywgb2xkQXNzZXRzLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgLy8gZmFjZSBhc3NldHMgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoZmFjZUFzc2V0cy5pbmRleE9mKG51bGwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGV4dHJhY3QgY3ViZW1hcCBsZXZlbCBkYXRhIGZyb20gZmFjZSB0ZXh0dXJlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGZhY2VUZXh0dXJlcyA9IGZhY2VBc3NldHMubWFwKGZ1bmN0aW9uIChhc3NldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXQucmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFjZUxldmVscyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobWlwID0gMDsgbWlwIDwgZmFjZVRleHR1cmVzWzBdLl9sZXZlbHMubGVuZ3RoOyArK21pcCkge1xuICAgICAgICAgICAgICAgICAgICBmYWNlTGV2ZWxzLnB1c2goZmFjZVRleHR1cmVzLm1hcChmdW5jdGlvbiAoZmFjZVRleHR1cmUpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFjZVRleHR1cmUuX2xldmVsc1ttaXBdO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRm9yY2UgUkdCQTggaWYgd2UgYXJlIGxvYWRpbmcgYSBSR0I4IHRleHR1cmUgZHVlIHRvIGEgYnVnIG9uIE0xIE1hY3MgTW9udGVyZXkgYW5kIENocm9tZSBub3RcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJpbmcgdGhlIGZhY2Ugb24gcmlnaHQgb2YgdGhlIGN1YmVtYXAgKGBmYWNlQXNzZXRzWzBdYCBhbmQgYHJlc291cmNlc1sxXWApLlxuICAgICAgICAgICAgICAgIC8vIFVzaW5nIGEgUkdCQTggdGV4dHVyZSB3b3JrcyBhcm91bmQgdGhlIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wbGF5Y2FudmFzL2VuZ2luZS9pc3N1ZXMvNDA5MVxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IGZhY2VUZXh0dXJlc1swXS5mb3JtYXQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmYWNlcyA9IG5ldyBUZXh0dXJlKHRoaXMuX2RldmljZSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjdWJlbWFwQXNzZXQubmFtZSArICdfZmFjZXMnLFxuICAgICAgICAgICAgICAgICAgICBjdWJlbWFwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRUeXBlKCkgfHwgZmFjZVRleHR1cmVzWzBdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmYWNlVGV4dHVyZXNbMF0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogZmFjZVRleHR1cmVzWzBdLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgPT09IFBJWEVMRk9STUFUX1I4X0c4X0I4ID8gUElYRUxGT1JNQVRfUjhfRzhfQjhfQTggOiBmb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGxldmVsczogZmFjZUxldmVscyxcbiAgICAgICAgICAgICAgICAgICAgbWluRmlsdGVyOiBhc3NldERhdGEuaGFzT3duUHJvcGVydHkoJ21pbkZpbHRlcicpID8gYXNzZXREYXRhLm1pbkZpbHRlciA6IGZhY2VUZXh0dXJlc1swXS5taW5GaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIG1hZ0ZpbHRlcjogYXNzZXREYXRhLmhhc093blByb3BlcnR5KCdtYWdGaWx0ZXInKSA/IGFzc2V0RGF0YS5tYWdGaWx0ZXIgOiBmYWNlVGV4dHVyZXNbMF0ubWFnRmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICBhbmlzb3Ryb3B5OiBhc3NldERhdGEuaGFzT3duUHJvcGVydHkoJ2FuaXNvdHJvcHknKSA/IGFzc2V0RGF0YS5hbmlzb3Ryb3B5IDogMSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1U6IEFERFJFU1NfQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1Y6IEFERFJFU1NfQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgICAgICAgICAgZml4Q3ViZW1hcFNlYW1zOiAhIWFzc2V0c1swXVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VzWzBdID0gZmFjZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBmYWNlcyBjaGFuZ2VkIHNvIGtlZXAgZXhpc3RpbmcgZmFjZXMgY3ViZW1hcFxuICAgICAgICAgICAgcmVzb3VyY2VzWzBdID0gb2xkUmVzb3VyY2VzWzBdIHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBhbnkgcmVzb3VyY2UgY2hhbmdlZFxuICAgICAgICBpZiAoIXRoaXMuY21wQXJyYXlzKHJlc291cmNlcywgb2xkUmVzb3VyY2VzKSkge1xuICAgICAgICAgICAgLy8gc2V0IHRoZSBuZXcgcmVzb3VyY2VzLCBjaGFuZ2UgZXZlbnRzIHdpbGwgZmlyZVxuICAgICAgICAgICAgY3ViZW1hcEFzc2V0LnJlc291cmNlcyA9IHJlc291cmNlcztcbiAgICAgICAgICAgIGN1YmVtYXBBc3NldC5faGFuZGxlclN0YXRlLmFzc2V0SWRzID0gYXNzZXRJZHM7XG4gICAgICAgICAgICBjdWJlbWFwQXNzZXQuX2hhbmRsZXJTdGF0ZS5hc3NldHMgPSBhc3NldHM7XG5cbiAgICAgICAgICAgIC8vIGRlc3Ryb3kgdGhlIG9sZCBjdWJlbWFwIHJlc291cmNlcyB0aGF0IGFyZSBub3QgbG9uZ2VyIG5lZWRlZFxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG9sZFJlc291cmNlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChvbGRSZXNvdXJjZXNbaV0gIT09IG51bGwgJiYgcmVzb3VyY2VzLmluZGV4T2Yob2xkUmVzb3VyY2VzW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkUmVzb3VyY2VzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXN0cm95IG9sZCBhc3NldHMgd2hpY2ggaGF2ZSBiZWVuIHJlcGxhY2VkXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvbGRBc3NldHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChvbGRBc3NldHNbaV0gIT09IG51bGwgJiYgYXNzZXRzLmluZGV4T2Yob2xkQXNzZXRzW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvbGRBc3NldHNbaV0udW5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbXBBcnJheXMoYXJyMSwgYXJyMikge1xuICAgICAgICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IHN0cmluZyBpZCB0byBpbnRcbiAgICByZXNvbHZlSWQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsdWVJbnQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICByZXR1cm4gKCh2YWx1ZUludCA9PT0gdmFsdWUpIHx8ICh2YWx1ZUludC50b1N0cmluZygpID09PSB2YWx1ZSkpID8gdmFsdWVJbnQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBsb2FkQXNzZXRzKGN1YmVtYXBBc3NldCwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBhc3NldCBzdHJ1Y3R1cmVzIGZvciB0cmFja2luZyBsb2FkIHJlcXVlc3RzXG4gICAgICAgIGlmICghY3ViZW1hcEFzc2V0Lmhhc093blByb3BlcnR5KCdfaGFuZGxlclN0YXRlJykpIHtcbiAgICAgICAgICAgIGN1YmVtYXBBc3NldC5faGFuZGxlclN0YXRlID0ge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBsaXN0IG9mIHJlcXVlc3RlZCBhc3NldCBpZHMgaW4gb3JkZXIgb2YgW3ByZWxpdCBjdWJlbWFwLCA2IGZhY2VzXVxuICAgICAgICAgICAgICAgIGFzc2V0SWRzOiBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF0sXG4gICAgICAgICAgICAgICAgLy8gdGhlIGRlcGVuZGVudCAobG9hZGVkLCBhY3RpdmUpIHRleHR1cmUgYXNzZXRzXG4gICAgICAgICAgICAgICAgYXNzZXRzOiBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc3QgYXNzZXRJZHMgPSBzZWxmLmdldEFzc2V0SWRzKGN1YmVtYXBBc3NldCk7XG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsXTtcbiAgICAgICAgY29uc3QgbG9hZGVkQXNzZXRJZHMgPSBjdWJlbWFwQXNzZXQuX2hhbmRsZXJTdGF0ZS5hc3NldElkcztcbiAgICAgICAgY29uc3QgbG9hZGVkQXNzZXRzID0gY3ViZW1hcEFzc2V0Ll9oYW5kbGVyU3RhdGUuYXNzZXRzO1xuICAgICAgICBjb25zdCByZWdpc3RyeSA9IHNlbGYuX3JlZ2lzdHJ5O1xuXG4gICAgICAgIC8vIG9uZSBvZiB0aGUgZGVwZW5kZW50IGFzc2V0cyBoYXMgZmluaXNoZWQgbG9hZGluZ1xuICAgICAgICBsZXQgYXdhaXRpbmcgPSA3O1xuICAgICAgICBjb25zdCBvbkxvYWQgPSBmdW5jdGlvbiAoaW5kZXgsIGFzc2V0KSB7XG4gICAgICAgICAgICBhc3NldHNbaW5kZXhdID0gYXNzZXQ7XG4gICAgICAgICAgICBhd2FpdGluZy0tO1xuXG4gICAgICAgICAgICBpZiAoYXdhaXRpbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBhbGwgZGVwZW5kZW50IGFzc2V0cyBhcmUgZmluaXNoZWQgbG9hZGluZywgc2V0IHRoZW0gYXMgdGhlIGFjdGl2ZSByZXNvdXJjZXNcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZShjdWJlbWFwQXNzZXQsIGFzc2V0SWRzLCBhc3NldHMpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGN1YmVtYXBBc3NldC5yZXNvdXJjZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGhhbmRsZSBhbiBhc3NldCBsb2FkIGZhaWx1cmVcbiAgICAgICAgY29uc3Qgb25FcnJvciA9IGZ1bmN0aW9uIChpbmRleCwgZXJyLCBhc3NldCkge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBwcm9jZXNzIHRoZSB0ZXh0dXJlIGFzc2V0XG4gICAgICAgIGNvbnN0IHByb2Nlc3NUZXhBc3NldCA9IGZ1bmN0aW9uIChpbmRleCwgdGV4QXNzZXQpIHtcbiAgICAgICAgICAgIGlmICh0ZXhBc3NldC5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NldCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgIG9uTG9hZChpbmRleCwgdGV4QXNzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NldCBpcyBub3QgbG9hZGVkLCByZWdpc3RlciBmb3IgbG9hZCBhbmQgZXJyb3IgZXZlbnRzXG4gICAgICAgICAgICAgICAgcmVnaXN0cnkub25jZSgnbG9hZDonICsgdGV4QXNzZXQuaWQsIG9uTG9hZC5iaW5kKHNlbGYsIGluZGV4KSk7XG4gICAgICAgICAgICAgICAgcmVnaXN0cnkub25jZSgnZXJyb3I6JyArIHRleEFzc2V0LmlkLCBvbkVycm9yLmJpbmQoc2VsZiwgaW5kZXgpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRleEFzc2V0LmxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ga2ljayBvZmYgbG9hZCBpZiBpdCdzIG5vdCBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmxvYWQodGV4QXNzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgdGV4QXNzZXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBhc3NldElkID0gdGhpcy5yZXNvbHZlSWQoYXNzZXRJZHNbaV0pO1xuXG4gICAgICAgICAgICBpZiAoIWFzc2V0SWQpIHtcbiAgICAgICAgICAgICAgICAvLyBubyBhc3NldFxuICAgICAgICAgICAgICAgIG9uTG9hZChpLCBudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb21wYXJlQXNzZXRJZHMoYXNzZXRJZCwgbG9hZGVkQXNzZXRJZHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gYXNzZXQgaWQgaGFzbid0IGNoYW5nZWQgZnJvbSB3aGF0IGlzIGN1cnJlbnRseSBzZXRcbiAgICAgICAgICAgICAgICBvbkxvYWQoaSwgbG9hZGVkQXNzZXRzW2ldKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoYXNzZXRJZCwgMTApID09PSBhc3NldElkKSB7XG4gICAgICAgICAgICAgICAgLy8gYXNzZXRJZCBpcyBhbiBhc3NldCBpZFxuICAgICAgICAgICAgICAgIHRleEFzc2V0ID0gcmVnaXN0cnkuZ2V0KGFzc2V0SWQpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXhBc3NldCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVGV4QXNzZXQoaSwgdGV4QXNzZXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSB1bmFibGUgdG8gZmluZCB0aGUgZGVwZW5kZW50IGFzc2V0LCB0aGVuIHdlIGludHJvZHVjZSBoZXJlIGFuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzeW5jaHJvbm91cyBzdGVwLiB0aGlzIGdpdmVzIHRoZSBjYWxsZXIgKGZvciBleGFtcGxlIHRoZSBzY2VuZSBsb2FkZXIpXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgY2hhbmNlIHRvIGFkZCB0aGUgZGVwZW5kZW50IHNjZW5lIHRleHR1cmUgdG8gcmVnaXN0cnkgYmVmb3JlIHdlIGF0dGVtcHRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gZ2V0IHRoZSBhc3NldCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoaW5kZXgsIGFzc2V0SWRfKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXhBc3NldCA9IHJlZ2lzdHJ5LmdldChhc3NldElkXyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4QXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVGV4QXNzZXQoaW5kZXgsIHRleEFzc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcihpbmRleCwgJ2ZhaWxlZCB0byBmaW5kIGRlcGVuZGVudCBjdWJlbWFwIGFzc2V0PScgKyBhc3NldElkXyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZChudWxsLCBpLCBhc3NldElkKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NldElkIGlzIGEgdXJsIG9yIGZpbGUgb2JqZWN0IGFuZCB3ZSdyZSByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgaXRcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gKHR5cGVvZiBhc3NldElkID09PSAnc3RyaW5nJykgPyB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogYXNzZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGFzc2V0SWRcbiAgICAgICAgICAgICAgICB9IDogYXNzZXRJZDtcbiAgICAgICAgICAgICAgICB0ZXhBc3NldCA9IG5ldyBBc3NldChjdWJlbWFwQXNzZXQubmFtZSArICdfcGFydF8nICsgaSwgJ3RleHR1cmUnLCBmaWxlKTtcbiAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGQodGV4QXNzZXQpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5Lm9uY2UoJ2xvYWQ6JyArIHRleEFzc2V0LmlkLCBvbkxvYWQuYmluZChzZWxmLCBpKSk7XG4gICAgICAgICAgICAgICAgcmVnaXN0cnkub25jZSgnZXJyb3I6JyArIHRleEFzc2V0LmlkLCBvbkVycm9yLmJpbmQoc2VsZiwgaSkpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5LmxvYWQodGV4QXNzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBDdWJlbWFwSGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbIkN1YmVtYXBIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJhcHAiLCJoYW5kbGVyVHlwZSIsIl9kZXZpY2UiLCJncmFwaGljc0RldmljZSIsIl9yZWdpc3RyeSIsImFzc2V0cyIsIl9sb2FkZXIiLCJsb2FkZXIiLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJhc3NldCIsImxvYWRBc3NldHMiLCJvcGVuIiwiZGF0YSIsInJlc291cmNlIiwicGF0Y2giLCJyZWdpc3RyeSIsImVyciIsInJlc3VsdCIsImZpcmUiLCJpZCIsImdldEFzc2V0SWRzIiwiY3ViZW1hcEFzc2V0IiwiZmlsZSIsImxvYWRGYWNlcyIsInRleHR1cmVzIiwiaSIsImNvbXBhcmVBc3NldElkcyIsImFzc2V0SWRBIiwiYXNzZXRJZEIiLCJwYXJzZUludCIsInVwZGF0ZSIsImFzc2V0SWRzIiwiYXNzZXREYXRhIiwib2xkQXNzZXRzIiwiX2hhbmRsZXJTdGF0ZSIsIm9sZFJlc291cmNlcyIsIl9yZXNvdXJjZXMiLCJ0ZXgiLCJtaXAiLCJyZXNvdXJjZXMiLCJnZXRUeXBlIiwiaGFzT3duUHJvcGVydHkiLCJ0eXBlIiwicmdibSIsIlRFWFRVUkVUWVBFX1JHQk0iLCJURVhUVVJFVFlQRV9ERUZBVUxUIiwibG9hZGVkIiwiVGV4dHVyZSIsIm5hbWUiLCJ3aWR0aCIsImN1YmVtYXAiLCJoZWlnaHQiLCJmb3JtYXQiLCJsZXZlbHMiLCJfbGV2ZWxzIiwiZml4Q3ViZW1hcFNlYW1zIiwiYWRkcmVzc1UiLCJBRERSRVNTX0NMQU1QX1RPX0VER0UiLCJhZGRyZXNzViIsIm1pcG1hcHMiLCJmYWNlQXNzZXRzIiwic2xpY2UiLCJjbXBBcnJheXMiLCJpbmRleE9mIiwiZmFjZVRleHR1cmVzIiwibWFwIiwiZmFjZUxldmVscyIsImxlbmd0aCIsInB1c2giLCJmYWNlVGV4dHVyZSIsImZhY2VzIiwiUElYRUxGT1JNQVRfUjhfRzhfQjgiLCJQSVhFTEZPUk1BVF9SOF9HOF9COF9BOCIsIm1pbkZpbHRlciIsIm1hZ0ZpbHRlciIsImFuaXNvdHJvcHkiLCJkZXN0cm95IiwidW5sb2FkIiwiYXJyMSIsImFycjIiLCJyZXNvbHZlSWQiLCJ2YWx1ZSIsInZhbHVlSW50IiwidG9TdHJpbmciLCJzZWxmIiwibG9hZGVkQXNzZXRJZHMiLCJsb2FkZWRBc3NldHMiLCJhd2FpdGluZyIsIm9uTG9hZCIsImluZGV4Iiwib25FcnJvciIsInByb2Nlc3NUZXhBc3NldCIsInRleEFzc2V0Iiwib25jZSIsImJpbmQiLCJsb2FkaW5nIiwiYXNzZXRJZCIsImdldCIsInNldFRpbWVvdXQiLCJhc3NldElkXyIsImZpbGVuYW1lIiwiQXNzZXQiLCJhZGQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQWdCQSxNQUFNQSxjQUFjLENBQUM7O0VBY2pCQyxXQUFXLENBQUNDLEdBQUcsRUFBRTtJQUFBLElBUmpCQyxDQUFBQSxXQUFXLEdBQUcsU0FBUyxDQUFBO0FBU25CLElBQUEsSUFBSSxDQUFDQyxPQUFPLEdBQUdGLEdBQUcsQ0FBQ0csY0FBYyxDQUFBO0FBQ2pDLElBQUEsSUFBSSxDQUFDQyxTQUFTLEdBQUdKLEdBQUcsQ0FBQ0ssTUFBTSxDQUFBO0FBQzNCLElBQUEsSUFBSSxDQUFDQyxPQUFPLEdBQUdOLEdBQUcsQ0FBQ08sTUFBTSxDQUFBO0FBQzdCLEdBQUE7QUFFQUMsRUFBQUEsSUFBSSxDQUFDQyxHQUFHLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFO0FBQ3ZCLElBQUEsSUFBSSxDQUFDQyxVQUFVLENBQUNELEtBQUssRUFBRUQsUUFBUSxDQUFDLENBQUE7QUFDcEMsR0FBQTtBQUVBRyxFQUFBQSxJQUFJLENBQUNKLEdBQUcsRUFBRUssSUFBSSxF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
