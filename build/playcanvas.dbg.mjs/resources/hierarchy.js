/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { SceneParser } from './parser/scene.js';
import { SceneUtils } from './scene-utils.js';

class HierarchyHandler {
  constructor(app) {
    this.handlerType = "hierarchy";
    this._app = app;
    this.maxRetries = 0;
  }

  load(url, callback) {
    SceneUtils.load(url, this.maxRetries, callback);
  }

  open(url, data) {
    this._app.systems.script.preloading = true;
    const parser = new SceneParser(this._app, false);
    const parent = parser.parse(data);
    this._app.systems.script.preloading = false;
    return parent;
  }

}

export { HierarchyHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGllcmFyY2h5LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcmVzb3VyY2VzL2hpZXJhcmNoeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2VuZVBhcnNlciB9IGZyb20gJy4vcGFyc2VyL3NjZW5lLmpzJztcbmltcG9ydCB7IFNjZW5lVXRpbHMgfSBmcm9tICcuL3NjZW5lLXV0aWxzLmpzJztcblxuY2xhc3MgSGllcmFyY2h5SGFuZGxlciB7XG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgcmVzb3VyY2UgdGhlIGhhbmRsZXIgaGFuZGxlcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgaGFuZGxlclR5cGUgPSBcImhpZXJhcmNoeVwiO1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuX2FwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBsb2FkKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgU2NlbmVVdGlscy5sb2FkKHVybCwgdGhpcy5tYXhSZXRyaWVzLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgb3Blbih1cmwsIGRhdGEpIHtcbiAgICAgICAgLy8gcHJldmVudCBzY3JpcHQgaW5pdGlhbGl6YXRpb24gdW50aWwgZW50aXJlIHNjZW5lIGlzIG9wZW5cbiAgICAgICAgdGhpcy5fYXBwLnN5c3RlbXMuc2NyaXB0LnByZWxvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBTY2VuZVBhcnNlcih0aGlzLl9hcHAsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGFyc2VyLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgIC8vIHJlLWVuYWJsZSBzY3JpcHQgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgdGhpcy5fYXBwLnN5c3RlbXMuc2NyaXB0LnByZWxvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IHsgSGllcmFyY2h5SGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbIkhpZXJhcmNoeUhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImFwcCIsImhhbmRsZXJUeXBlIiwiX2FwcCIsIm1heFJldHJpZXMiLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJTY2VuZVV0aWxzIiwib3BlbiIsImRhdGEiLCJzeXN0ZW1zIiwic2NyaXB0IiwicHJlbG9hZGluZyIsInBhcnNlciIsIlNjZW5lUGFyc2VyIiwicGFyZW50IiwicGFyc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0EsTUFBTUEsZ0JBQU4sQ0FBdUI7RUFRbkJDLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNO0lBQUEsSUFGakJDLENBQUFBLFdBRWlCLEdBRkgsV0FFRyxDQUFBO0lBQ2IsSUFBS0MsQ0FBQUEsSUFBTCxHQUFZRixHQUFaLENBQUE7SUFDQSxJQUFLRyxDQUFBQSxVQUFMLEdBQWtCLENBQWxCLENBQUE7QUFDSCxHQUFBOztBQUVEQyxFQUFBQSxJQUFJLENBQUNDLEdBQUQsRUFBTUMsUUFBTixFQUFnQjtJQUNoQkMsVUFBVSxDQUFDSCxJQUFYLENBQWdCQyxHQUFoQixFQUFxQixJQUFLRixDQUFBQSxVQUExQixFQUFzQ0csUUFBdEMsQ0FBQSxDQUFBO0FBQ0gsR0FBQTs7QUFFREUsRUFBQUEsSUFBSSxDQUFDSCxHQUFELEVBQU1JLElBQU4sRUFBWTtJQUVaLElBQUtQLENBQUFBLElBQUwsQ0FBVVEsT0FBVixDQUFrQkMsTUFBbEIsQ0FBeUJDLFVBQXpCLEdBQXNDLElBQXRDLENBQUE7SUFFQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUMsV0FBSixDQUFnQixJQUFLWixDQUFBQSxJQUFyQixFQUEyQixLQUEzQixDQUFmLENBQUE7QUFDQSxJQUFBLE1BQU1hLE1BQU0sR0FBR0YsTUFBTSxDQUFDRyxLQUFQLENBQWFQLElBQWIsQ0FBZixDQUFBO0lBR0EsSUFBS1AsQ0FBQUEsSUFBTCxDQUFVUSxPQUFWLENBQWtCQyxNQUFsQixDQUF5QkMsVUFBekIsR0FBc0MsS0FBdEMsQ0FBQTtBQUVBLElBQUEsT0FBT0csTUFBUCxDQUFBO0FBQ0gsR0FBQTs7QUE1QmtCOzs7OyJ9
