import { Color } from '../../../core/math/color.js';
import { Vec2 } from '../../../core/math/vec2.js';
import { LIGHTSHAPE_PUNCTUAL } from '../../../scene/constants.js';
import { Light, lightTypes } from '../../../scene/light.js';
import { ComponentSystem } from '../system.js';
import { LightComponent, _lightProps } from './component.js';
import { LightComponentData } from './data.js';

/**
 * A Light Component is used to dynamically light the scene.
 *
 * @augments ComponentSystem
 */
class LightComponentSystem extends ComponentSystem {
  /**
   * Create a new LightComponentSystem instance.
   *
   * @param {import('../../app-base.js').AppBase} app - The application.
   * @hideconstructor
   */
  constructor(app) {
    super(app);
    this.id = 'light';
    this.ComponentType = LightComponent;
    this.DataType = LightComponentData;
    this.on('beforeremove', this._onRemoveComponent, this);
  }
  initializeComponentData(component, _data) {
    const properties = _lightProps;

    // duplicate because we're modifying the data
    const data = {};
    for (let i = 0, len = properties.length; i < len; i++) {
      const property = properties[i];
      data[property] = _data[property];
    }
    if (!data.type) data.type = component.data.type;
    component.data.type = data.type;
    if (data.layers && Array.isArray(data.layers)) {
      data.layers = data.layers.slice(0);
    }
    if (data.color && Array.isArray(data.color)) data.color = new Color(data.color[0], data.color[1], data.color[2]);
    if (data.cookieOffset && data.cookieOffset instanceof Array) data.cookieOffset = new Vec2(data.cookieOffset[0], data.cookieOffset[1]);
    if (data.cookieScale && data.cookieScale instanceof Array) data.cookieScale = new Vec2(data.cookieScale[0], data.cookieScale[1]);
    if (data.enable) {
      console.warn('WARNING: enable: Property is deprecated. Set enabled property instead.');
      data.enabled = data.enable;
    }
    if (!data.shape) {
      data.shape = LIGHTSHAPE_PUNCTUAL;
    }
    const light = new Light(this.app.graphicsDevice);
    light.type = lightTypes[data.type];
    light._node = component.entity;
    light._scene = this.app.scene;
    component.data.light = light;
    super.initializeComponentData(component, data, properties);
  }
  _onRemoveComponent(entity, component) {
    component.onRemove();
  }
  cloneComponent(entity, clone) {
    const light = entity.light;
    const data = [];
    let name;
    const _props = _lightProps;
    for (let i = 0; i < _props.length; i++) {
      name = _props[i];
      if (name === 'light') continue;
      if (light[name] && light[name].clone) {
        data[name] = light[name].clone();
      } else {
        data[name] = light[name];
      }
    }
    return this.addComponent(clone, data);
  }
  changeType(component, oldValue, newValue) {
    if (oldValue !== newValue) {
      component.light.type = lightTypes[newValue];
    }
  }
}

export { LightComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvbGlnaHQvc3lzdGVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tYXRoL2NvbG9yLmpzJztcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgvdmVjMi5qcyc7XG5cbmltcG9ydCB7IExJR0hUU0hBUEVfUFVOQ1RVQUwgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgTGlnaHQsIGxpZ2h0VHlwZXMgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9saWdodC5qcyc7XG5cbmltcG9ydCB7IENvbXBvbmVudFN5c3RlbSB9IGZyb20gJy4uL3N5c3RlbS5qcyc7XG5cbmltcG9ydCB7IF9saWdodFByb3BzLCBMaWdodENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50LmpzJztcbmltcG9ydCB7IExpZ2h0Q29tcG9uZW50RGF0YSB9IGZyb20gJy4vZGF0YS5qcyc7XG5cbi8qKlxuICogQSBMaWdodCBDb21wb25lbnQgaXMgdXNlZCB0byBkeW5hbWljYWxseSBsaWdodCB0aGUgc2NlbmUuXG4gKlxuICogQGF1Z21lbnRzIENvbXBvbmVudFN5c3RlbVxuICovXG5jbGFzcyBMaWdodENvbXBvbmVudFN5c3RlbSBleHRlbmRzIENvbXBvbmVudFN5c3RlbSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IExpZ2h0Q29tcG9uZW50U3lzdGVtIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL2FwcC1iYXNlLmpzJykuQXBwQmFzZX0gYXBwIC0gVGhlIGFwcGxpY2F0aW9uLlxuICAgICAqIEBoaWRlY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcblxuICAgICAgICB0aGlzLmlkID0gJ2xpZ2h0JztcblxuICAgICAgICB0aGlzLkNvbXBvbmVudFR5cGUgPSBMaWdodENvbXBvbmVudDtcbiAgICAgICAgdGhpcy5EYXRhVHlwZSA9IExpZ2h0Q29tcG9uZW50RGF0YTtcblxuICAgICAgICB0aGlzLm9uKCdiZWZvcmVyZW1vdmUnLCB0aGlzLl9vblJlbW92ZUNvbXBvbmVudCwgdGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEoY29tcG9uZW50LCBfZGF0YSkge1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gX2xpZ2h0UHJvcHM7XG5cbiAgICAgICAgLy8gZHVwbGljYXRlIGJlY2F1c2Ugd2UncmUgbW9kaWZ5aW5nIHRoZSBkYXRhXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGRhdGFbcHJvcGVydHldID0gX2RhdGFbcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhLnR5cGUpXG4gICAgICAgICAgICBkYXRhLnR5cGUgPSBjb21wb25lbnQuZGF0YS50eXBlO1xuXG4gICAgICAgIGNvbXBvbmVudC5kYXRhLnR5cGUgPSBkYXRhLnR5cGU7XG5cbiAgICAgICAgaWYgKGRhdGEubGF5ZXJzICYmIEFycmF5LmlzQXJyYXkoZGF0YS5sYXllcnMpKSB7XG4gICAgICAgICAgICBkYXRhLmxheWVycyA9IGRhdGEubGF5ZXJzLnNsaWNlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuY29sb3IgJiYgQXJyYXkuaXNBcnJheShkYXRhLmNvbG9yKSlcbiAgICAgICAgICAgIGRhdGEuY29sb3IgPSBuZXcgQ29sb3IoZGF0YS5jb2xvclswXSwgZGF0YS5jb2xvclsxXSwgZGF0YS5jb2xvclsyXSk7XG5cbiAgICAgICAgaWYgKGRhdGEuY29va2llT2Zmc2V0ICYmIGRhdGEuY29va2llT2Zmc2V0IGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICBkYXRhLmNvb2tpZU9mZnNldCA9IG5ldyBWZWMyKGRhdGEuY29va2llT2Zmc2V0WzBdLCBkYXRhLmNvb2tpZU9mZnNldFsxXSk7XG5cbiAgICAgICAgaWYgKGRhdGEuY29va2llU2NhbGUgJiYgZGF0YS5jb29raWVTY2FsZSBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICAgICAgZGF0YS5jb29raWVTY2FsZSA9IG5ldyBWZWMyKGRhdGEuY29va2llU2NhbGVbMF0sIGRhdGEuY29va2llU2NhbGVbMV0pO1xuXG4gICAgICAgIGlmIChkYXRhLmVuYWJsZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBlbmFibGU6IFByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuIFNldCBlbmFibGVkIHByb3BlcnR5IGluc3RlYWQuJyk7XG4gICAgICAgICAgICBkYXRhLmVuYWJsZWQgPSBkYXRhLmVuYWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YS5zaGFwZSkge1xuICAgICAgICAgICAgZGF0YS5zaGFwZSA9IExJR0hUU0hBUEVfUFVOQ1RVQUw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaWdodCA9IG5ldyBMaWdodCh0aGlzLmFwcC5ncmFwaGljc0RldmljZSk7XG4gICAgICAgIGxpZ2h0LnR5cGUgPSBsaWdodFR5cGVzW2RhdGEudHlwZV07XG4gICAgICAgIGxpZ2h0Ll9ub2RlID0gY29tcG9uZW50LmVudGl0eTtcbiAgICAgICAgbGlnaHQuX3NjZW5lID0gdGhpcy5hcHAuc2NlbmU7XG4gICAgICAgIGNvbXBvbmVudC5kYXRhLmxpZ2h0ID0gbGlnaHQ7XG5cbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEoY29tcG9uZW50LCBkYXRhLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICBfb25SZW1vdmVDb21wb25lbnQoZW50aXR5LCBjb21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50Lm9uUmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgY2xvbmVDb21wb25lbnQoZW50aXR5LCBjbG9uZSkge1xuICAgICAgICBjb25zdCBsaWdodCA9IGVudGl0eS5saWdodDtcblxuICAgICAgICBjb25zdCBkYXRhID0gW107XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBjb25zdCBfcHJvcHMgPSBfbGlnaHRQcm9wcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5hbWUgPSBfcHJvcHNbaV07XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2xpZ2h0JykgY29udGludWU7XG4gICAgICAgICAgICBpZiAobGlnaHRbbmFtZV0gJiYgbGlnaHRbbmFtZV0uY2xvbmUpIHtcbiAgICAgICAgICAgICAgICBkYXRhW25hbWVdID0gbGlnaHRbbmFtZV0uY2xvbmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YVtuYW1lXSA9IGxpZ2h0W25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ29tcG9uZW50KGNsb25lLCBkYXRhKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VUeXBlKGNvbXBvbmVudCwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5saWdodC50eXBlID0gbGlnaHRUeXBlc1tuZXdWYWx1ZV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IExpZ2h0Q29tcG9uZW50U3lzdGVtIH07XG4iXSwibmFtZXMiOlsiTGlnaHRDb21wb25lbnRTeXN0ZW0iLCJDb21wb25lbnRTeXN0ZW0iLCJjb25zdHJ1Y3RvciIsImFwcCIsImlkIiwiQ29tcG9uZW50VHlwZSIsIkxpZ2h0Q29tcG9uZW50IiwiRGF0YVR5cGUiLCJMaWdodENvbXBvbmVudERhdGEiLCJvbiIsIl9vblJlbW92ZUNvbXBvbmVudCIsImluaXRpYWxpemVDb21wb25lbnREYXRhIiwiY29tcG9uZW50IiwiX2RhdGEiLCJwcm9wZXJ0aWVzIiwiX2xpZ2h0UHJvcHMiLCJkYXRhIiwiaSIsImxlbiIsImxlbmd0aCIsInByb3BlcnR5IiwidHlwZSIsImxheWVycyIsIkFycmF5IiwiaXNBcnJheSIsInNsaWNlIiwiY29sb3IiLCJDb2xvciIsImNvb2tpZU9mZnNldCIsIlZlYzIiLCJjb29raWVTY2FsZSIsImVuYWJsZSIsImNvbnNvbGUiLCJ3YXJuIiwiZW5hYmxlZCIsInNoYXBlIiwiTElHSFRTSEFQRV9QVU5DVFVBTCIsImxpZ2h0IiwiTGlnaHQiLCJncmFwaGljc0RldmljZSIsImxpZ2h0VHlwZXMiLCJfbm9kZSIsImVudGl0eSIsIl9zY2VuZSIsInNjZW5lIiwib25SZW1vdmUiLCJjbG9uZUNvbXBvbmVudCIsImNsb25lIiwibmFtZSIsIl9wcm9wcyIsImFkZENvbXBvbmVudCIsImNoYW5nZVR5cGUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQSxvQkFBb0IsU0FBU0MsZUFBZSxDQUFDO0FBQy9DO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJQyxXQUFXQSxDQUFDQyxHQUFHLEVBQUU7SUFDYixLQUFLLENBQUNBLEdBQUcsQ0FBQyxDQUFBO0lBRVYsSUFBSSxDQUFDQyxFQUFFLEdBQUcsT0FBTyxDQUFBO0lBRWpCLElBQUksQ0FBQ0MsYUFBYSxHQUFHQyxjQUFjLENBQUE7SUFDbkMsSUFBSSxDQUFDQyxRQUFRLEdBQUdDLGtCQUFrQixDQUFBO0lBRWxDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUNDLGtCQUFr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
