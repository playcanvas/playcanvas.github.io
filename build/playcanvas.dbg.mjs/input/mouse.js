/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { platform } from '../core/platform.js';
import { EventHandler } from '../core/event-handler.js';
import { EVENT_MOUSEUP, EVENT_MOUSEDOWN, EVENT_MOUSEMOVE, EVENT_MOUSEWHEEL } from './constants.js';
import { isMousePointerLocked, MouseEvent } from './mouse-event.js';

class Mouse extends EventHandler {
  constructor(element) {
    super();
    this._lastX = 0;
    this._lastY = 0;
    this._buttons = [false, false, false];
    this._lastbuttons = [false, false, false];
    this._upHandler = this._handleUp.bind(this);
    this._downHandler = this._handleDown.bind(this);
    this._moveHandler = this._handleMove.bind(this);
    this._wheelHandler = this._handleWheel.bind(this);

    this._contextMenuHandler = event => {
      event.preventDefault();
    };

    this._target = null;
    this._attached = false;
    this.attach(element);
  }

  static isPointerLocked() {
    return isMousePointerLocked();
  }

  attach(element) {
    this._target = element;
    if (this._attached) return;
    this._attached = true;
    const opts = platform.passiveEvents ? {
      passive: false
    } : false;
    window.addEventListener('mouseup', this._upHandler, opts);
    window.addEventListener('mousedown', this._downHandler, opts);
    window.addEventListener('mousemove', this._moveHandler, opts);
    window.addEventListener('wheel', this._wheelHandler, opts);
  }

  detach() {
    if (!this._attached) return;
    this._attached = false;
    this._target = null;
    const opts = platform.passiveEvents ? {
      passive: false
    } : false;
    window.removeEventListener('mouseup', this._upHandler, opts);
    window.removeEventListener('mousedown', this._downHandler, opts);
    window.removeEventListener('mousemove', this._moveHandler, opts);
    window.removeEventListener('wheel', this._wheelHandler, opts);
  }

  disableContextMenu() {
    if (!this._target) return;

    this._target.addEventListener('contextmenu', this._contextMenuHandler);
  }

  enableContextMenu() {
    if (!this._target) return;

    this._target.removeEventListener('contextmenu', this._contextMenuHandler);
  }

  enablePointerLock(success, error) {
    if (!document.body.requestPointerLock) {
      if (error) error();
      return;
    }

    const s = () => {
      success();
      document.removeEventListener('pointerlockchange', s);
    };

    const e = () => {
      error();
      document.removeEventListener('pointerlockerror', e);
    };

    if (success) {
      document.addEventListener('pointerlockchange', s, false);
    }

    if (error) {
      document.addEventListener('pointerlockerror', e, false);
    }

    document.body.requestPointerLock();
  }

  disablePointerLock(success) {
    if (!document.exitPointerLock) {
      return;
    }

    const s = () => {
      success();
      document.removeEventListener('pointerlockchange', s);
    };

    if (success) {
      document.addEventListener('pointerlockchange', s, false);
    }

    document.exitPointerLock();
  }

  update() {
    this._lastbuttons[0] = this._buttons[0];
    this._lastbuttons[1] = this._buttons[1];
    this._lastbuttons[2] = this._buttons[2];
  }

  isPressed(button) {
    return this._buttons[button];
  }

  wasPressed(button) {
    return this._buttons[button] && !this._lastbuttons[button];
  }

  wasReleased(button) {
    return !this._buttons[button] && this._lastbuttons[button];
  }

  _handleUp(event) {
    this._buttons[event.button] = false;
    const e = new MouseEvent(this, event);
    if (!e.event) return;
    this.fire(EVENT_MOUSEUP, e);
  }

  _handleDown(event) {
    this._buttons[event.button] = true;
    const e = new MouseEvent(this, event);
    if (!e.event) return;
    this.fire(EVENT_MOUSEDOWN, e);
  }

  _handleMove(event) {
    const e = new MouseEvent(this, event);
    if (!e.event) return;
    this.fire(EVENT_MOUSEMOVE, e);
    this._lastX = e.x;
    this._lastY = e.y;
  }

  _handleWheel(event) {
    const e = new MouseEvent(this, event);
    if (!e.event) return;
    this.fire(EVENT_MOUSEWHEEL, e);
  }

  _getTargetCoords(event) {
    const rect = this._target.getBoundingClientRect();

    const left = Math.floor(rect.left);
    const top = Math.floor(rect.top);

    if (event.clientX < left || event.clientX >= left + this._target.clientWidth || event.clientY < top || event.clientY >= top + this._target.clientHeight) {
      return null;
    }

    return {
      x: event.clientX - left,
      y: event.clientY - top
    };
  }

}

export { Mouse };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW91c2UuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pbnB1dC9tb3VzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwbGF0Zm9ybSB9IGZyb20gJy4uL2NvcmUvcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vY29yZS9ldmVudC1oYW5kbGVyLmpzJztcblxuaW1wb3J0IHsgRVZFTlRfTU9VU0VET1dOLCBFVkVOVF9NT1VTRU1PVkUsIEVWRU5UX01PVVNFVVAsIEVWRU5UX01PVVNFV0hFRUwgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBpc01vdXNlUG9pbnRlckxvY2tlZCwgTW91c2VFdmVudCB9IGZyb20gJy4vbW91c2UtZXZlbnQuanMnO1xuXG4vKipcbiAqIENhbGxiYWNrIHVzZWQgYnkge0BsaW5rIE1vdXNlI2VuYWJsZVBvaW50ZXJMb2NrfSBhbmQge0BsaW5rIEFwcGxpY2F0aW9uI2Rpc2FibGVQb2ludGVyTG9ja30uXG4gKlxuICogQGNhbGxiYWNrIExvY2tNb3VzZUNhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBBIE1vdXNlIERldmljZSwgYm91bmQgdG8gYSBET00gRWxlbWVudC5cbiAqXG4gKiBAYXVnbWVudHMgRXZlbnRIYW5kbGVyXG4gKi9cbmNsYXNzIE1vdXNlIGV4dGVuZHMgRXZlbnRIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTW91c2UgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtZW50XSAtIFRoZSBFbGVtZW50IHRoYXQgdGhlIG1vdXNlIGV2ZW50cyBhcmUgYXR0YWNoZWQgdG8uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIENsZWFyIHRoZSBtb3VzZSBzdGF0ZVxuICAgICAgICB0aGlzLl9sYXN0WCA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RZID0gMDtcbiAgICAgICAgdGhpcy5fYnV0dG9ucyA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlXTtcbiAgICAgICAgdGhpcy5fbGFzdGJ1dHRvbnMgPSBbZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cblxuICAgICAgICAvLyBTZXR1cCBldmVudCBoYW5kbGVycyBzbyB0aGV5IGFyZSBib3VuZCB0byB0aGUgY29ycmVjdCAndGhpcydcbiAgICAgICAgdGhpcy5fdXBIYW5kbGVyID0gdGhpcy5faGFuZGxlVXAuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZG93bkhhbmRsZXIgPSB0aGlzLl9oYW5kbGVEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX21vdmVIYW5kbGVyID0gdGhpcy5faGFuZGxlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl93aGVlbEhhbmRsZXIgPSB0aGlzLl9oYW5kbGVXaGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb250ZXh0TWVudUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmF0dGFjaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBpcyBtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBNb3VzZSNtb3VzZW1vdmVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gVGhlIE1vdXNlRXZlbnQgb2JqZWN0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICAgICAqXG4gICAgICogQGV2ZW50IE1vdXNlI21vdXNlZG93blxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBUaGUgTW91c2VFdmVudCBvYmplY3QuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkLlxuICAgICAqXG4gICAgICogQGV2ZW50IE1vdXNlI21vdXNldXBcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gVGhlIE1vdXNlRXZlbnQgb2JqZWN0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIG1vdXNlIHdoZWVsIGlzIG1vdmVkLlxuICAgICAqXG4gICAgICogQGV2ZW50IE1vdXNlI21vdXNld2hlZWxcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gVGhlIE1vdXNlRXZlbnQgb2JqZWN0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIG1vdXNlIHBvaW50ZXIgaGFzIGJlZW4gbG9ja2VkLCB1c2luZyB7QGxpbmsgTW91c2UjZW5hYmxlZFBvaW50ZXJMb2NrfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGxvY2tlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNQb2ludGVyTG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gaXNNb3VzZVBvaW50ZXJMb2NrZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggbW91c2UgZXZlbnRzIHRvIGFuIEVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQgdG8gYXR0YWNoIHRoZSBtb3VzZSB0by5cbiAgICAgKi9cbiAgICBhdHRhY2goZWxlbWVudCkge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSBlbGVtZW50O1xuXG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3Qgb3B0cyA9IHBsYXRmb3JtLnBhc3NpdmVFdmVudHMgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl91cEhhbmRsZXIsIG9wdHMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZG93bkhhbmRsZXIsIG9wdHMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW92ZUhhbmRsZXIsIG9wdHMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLl93aGVlbEhhbmRsZXIsIG9wdHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBtb3VzZSBldmVudHMgZnJvbSB0aGUgZWxlbWVudCB0aGF0IGl0IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hdHRhY2hlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IG9wdHMgPSBwbGF0Zm9ybS5wYXNzaXZlRXZlbnRzID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2U7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fdXBIYW5kbGVyLCBvcHRzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2Rvd25IYW5kbGVyLCBvcHRzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdmVIYW5kbGVyLCBvcHRzKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5fd2hlZWxIYW5kbGVyLCBvcHRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSBjb250ZXh0IG1lbnUgdXN1YWxseSBhY3RpdmF0ZWQgd2l0aCByaWdodC1jbGljay5cbiAgICAgKi9cbiAgICBkaXNhYmxlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGFyZ2V0KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX2NvbnRleHRNZW51SGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoZSBjb250ZXh0IG1lbnUgdXN1YWxseSBhY3RpdmF0ZWQgd2l0aCByaWdodC1jbGljay4gVGhpcyBvcHRpb24gaXMgYWN0aXZlIGJ5XG4gICAgICogZGVmYXVsdC5cbiAgICAgKi9cbiAgICBlbmFibGVDb250ZXh0TWVudSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90YXJnZXQpIHJldHVybjtcbiAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fY29udGV4dE1lbnVIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIGJyb3dzZXIgaGlkZXMgdGhlIG1vdXNlIGN1cnNvciBhbmQgbG9ja3MgdGhlIG1vdXNlIHRvIHRoZSBlbGVtZW50LiBBbGxvd2luZ1xuICAgICAqIHJhdyBhY2Nlc3MgdG8gbW91c2UgbW92ZW1lbnQgaW5wdXQgd2l0aG91dCByaXNraW5nIHRoZSBtb3VzZSBleGl0aW5nIHRoZSBlbGVtZW50LiBOb3RlczpcbiAgICAgKlxuICAgICAqIC0gSW4gc29tZSBicm93c2VycyB0aGlzIHdpbGwgb25seSB3b3JrIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBmdWxsc2NyZWVuIG1vZGUuIFNlZVxuICAgICAqIHtAbGluayBBcHBsaWNhdGlvbiNlbmFibGVGdWxsc2NyZWVufVxuICAgICAqIC0gRW5hYmxpbmcgcG9pbnRlciBsb2NrIGNhbiBvbmx5IGJlIGluaXRpYXRlZCBieSBhIHVzZXIgYWN0aW9uIGUuZy4gaW4gdGhlIGV2ZW50IGhhbmRsZXIgZm9yXG4gICAgICogYSBtb3VzZSBvciBrZXlib2FyZCBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG9ja01vdXNlQ2FsbGJhY2t9IFtzdWNjZXNzXSAtIEZ1bmN0aW9uIGNhbGxlZCBpZiB0aGUgcmVxdWVzdCBmb3IgbW91c2UgbG9jayBpc1xuICAgICAqIHN1Y2Nlc3NmdWwuXG4gICAgICogQHBhcmFtIHtMb2NrTW91c2VDYWxsYmFja30gW2Vycm9yXSAtIEZ1bmN0aW9uIGNhbGxlZCBpZiB0aGUgcmVxdWVzdCBmb3IgbW91c2UgbG9jayBpc1xuICAgICAqIHVuc3VjY2Vzc2Z1bC5cbiAgICAgKi9cbiAgICBlbmFibGVQb2ludGVyTG9jayhzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmJvZHkucmVxdWVzdFBvaW50ZXJMb2NrKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgZXJyb3IoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcyA9ICgpID0+IHtcbiAgICAgICAgICAgIHN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgcyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tlcnJvcicsIGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2NoYW5nZScsIHMsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tlcnJvcicsIGUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGNvbnRyb2wgb2YgdGhlIG1vdXNlIGN1cnNvciB0byB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG9ja01vdXNlQ2FsbGJhY2t9IFtzdWNjZXNzXSAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBsb2NrIGlzIGRpc2FibGVkLlxuICAgICAqL1xuICAgIGRpc2FibGVQb2ludGVyTG9jayhzdWNjZXNzKSB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzID0gKCkgPT4ge1xuICAgICAgICAgICAgc3VjY2VzcygpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tjaGFuZ2UnLCBzKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgcywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtZXRob2QsIHNob3VsZCBiZSBjYWxsZWQgb25jZSBwZXIgZnJhbWUuXG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBDb3B5IGN1cnJlbnQgYnV0dG9uIHN0YXRlXG4gICAgICAgIHRoaXMuX2xhc3RidXR0b25zWzBdID0gdGhpcy5fYnV0dG9uc1swXTtcbiAgICAgICAgdGhpcy5fbGFzdGJ1dHRvbnNbMV0gPSB0aGlzLl9idXR0b25zWzFdO1xuICAgICAgICB0aGlzLl9sYXN0YnV0dG9uc1syXSA9IHRoaXMuX2J1dHRvbnNbMl07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtb3VzZSBidXR0b24gaXMgY3VycmVudGx5IHByZXNzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiB0byB0ZXN0LiBDYW4gYmU6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBNT1VTRUJVVFRPTl9MRUZUfVxuICAgICAqIC0ge0BsaW5rIE1PVVNFQlVUVE9OX01JRERMRX1cbiAgICAgKiAtIHtAbGluayBNT1VTRUJVVFRPTl9SSUdIVH1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBtb3VzZSBidXR0b24gaXMgY3VycmVudCBwcmVzc2VkLlxuICAgICAqL1xuICAgIGlzUHJlc3NlZChidXR0b24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1dHRvbnNbYnV0dG9uXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1vdXNlIGJ1dHRvbiB3YXMgcHJlc3NlZCB0aGlzIGZyYW1lIChzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHVwZGF0ZSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYnV0dG9uIC0gVGhlIG1vdXNlIGJ1dHRvbiB0byB0ZXN0LiBDYW4gYmU6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBNT1VTRUJVVFRPTl9MRUZUfVxuICAgICAqIC0ge0BsaW5rIE1PVVNFQlVUVE9OX01JRERMRX1cbiAgICAgKiAtIHtAbGluayBNT1VTRUJVVFRPTl9SSUdIVH1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBtb3VzZSBidXR0b24gd2FzIHByZXNzZWQgc2luY2UgdGhlIGxhc3QgdXBkYXRlLlxuICAgICAqL1xuICAgIHdhc1ByZXNzZWQoYnV0dG9uKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYnV0dG9uc1tidXR0b25dICYmICF0aGlzLl9sYXN0YnV0dG9uc1tidXR0b25dKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1vdXNlIGJ1dHRvbiB3YXMgcmVsZWFzZWQgdGhpcyBmcmFtZSAoc2luY2UgdGhlIGxhc3QgY2FsbCB0byB1cGRhdGUpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1dHRvbiAtIFRoZSBtb3VzZSBidXR0b24gdG8gdGVzdC4gQ2FuIGJlOlxuICAgICAqXG4gICAgICogLSB7QGxpbmsgTU9VU0VCVVRUT05fTEVGVH1cbiAgICAgKiAtIHtAbGluayBNT1VTRUJVVFRPTl9NSURETEV9XG4gICAgICogLSB7QGxpbmsgTU9VU0VCVVRUT05fUklHSFR9XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbW91c2UgYnV0dG9uIHdhcyByZWxlYXNlZCBzaW5jZSB0aGUgbGFzdCB1cGRhdGUuXG4gICAgICovXG4gICAgd2FzUmVsZWFzZWQoYnV0dG9uKSB7XG4gICAgICAgIHJldHVybiAoIXRoaXMuX2J1dHRvbnNbYnV0dG9uXSAmJiB0aGlzLl9sYXN0YnV0dG9uc1tidXR0b25dKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlVXAoZXZlbnQpIHtcbiAgICAgICAgLy8gZGlzYWJsZSByZWxlYXNlZCBidXR0b25cbiAgICAgICAgdGhpcy5fYnV0dG9uc1tldmVudC5idXR0b25dID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZSA9IG5ldyBNb3VzZUV2ZW50KHRoaXMsIGV2ZW50KTtcbiAgICAgICAgaWYgKCFlLmV2ZW50KSByZXR1cm47XG5cbiAgICAgICAgLy8gc2VuZCAnbW91c2V1cCcgZXZlbnRcbiAgICAgICAgdGhpcy5maXJlKEVWRU5UX01PVVNFVVAsIGUpO1xuICAgIH1cblxuICAgIF9oYW5kbGVEb3duKGV2ZW50KSB7XG4gICAgICAgIC8vIFN0b3JlIHdoaWNoIGJ1dHRvbiBoYXMgYWZmZWN0ZWRcbiAgICAgICAgdGhpcy5fYnV0dG9uc1tldmVudC5idXR0b25dID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBlID0gbmV3IE1vdXNlRXZlbnQodGhpcywgZXZlbnQpO1xuICAgICAgICBpZiAoIWUuZXZlbnQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmZpcmUoRVZFTlRfTU9VU0VET1dOLCBlKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW92ZShldmVudCkge1xuICAgICAgICBjb25zdCBlID0gbmV3IE1vdXNlRXZlbnQodGhpcywgZXZlbnQpO1xuICAgICAgICBpZiAoIWUuZXZlbnQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmZpcmUoRVZFTlRfTU9VU0VNT1ZFLCBlKTtcblxuICAgICAgICAvLyBTdG9yZSB0aGUgbGFzdCBvZmZzZXQgcG9zaXRpb24gdG8gY2FsY3VsYXRlIGRlbHRhc1xuICAgICAgICB0aGlzLl9sYXN0WCA9IGUueDtcbiAgICAgICAgdGhpcy5fbGFzdFkgPSBlLnk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVdoZWVsKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgTW91c2VFdmVudCh0aGlzLCBldmVudCk7XG4gICAgICAgIGlmICghZS5ldmVudCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZmlyZShFVkVOVF9NT1VTRVdIRUVMLCBlKTtcbiAgICB9XG5cbiAgICBfZ2V0VGFyZ2V0Q29vcmRzKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLl90YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBNYXRoLmZsb29yKHJlY3QubGVmdCk7XG4gICAgICAgIGNvbnN0IHRvcCA9IE1hdGguZmxvb3IocmVjdC50b3ApO1xuXG4gICAgICAgIC8vIG1vdXNlIGlzIG91dHNpZGUgb2YgY2FudmFzXG4gICAgICAgIGlmIChldmVudC5jbGllbnRYIDwgbGVmdCB8fFxuICAgICAgICAgICAgZXZlbnQuY2xpZW50WCA+PSBsZWZ0ICsgdGhpcy5fdGFyZ2V0LmNsaWVudFdpZHRoIHx8XG4gICAgICAgICAgICBldmVudC5jbGllbnRZIDwgdG9wIHx8XG4gICAgICAgICAgICBldmVudC5jbGllbnRZID49IHRvcCArIHRoaXMuX3RhcmdldC5jbGllbnRIZWlnaHQpIHtcblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogZXZlbnQuY2xpZW50WCAtIGxlZnQsXG4gICAgICAgICAgICB5OiBldmVudC5jbGllbnRZIC0gdG9wXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgeyBNb3VzZSB9O1xuIl0sIm5hbWVzIjpbIk1vdXNlIiwiRXZlbnRIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiX2xhc3RYIiwiX2xhc3RZIiwiX2J1dHRvbnMiLCJfbGFzdGJ1dHRvbnMiLCJfdXBIYW5kbGVyIiwiX2hhbmRsZVVwIiwiYmluZCIsIl9kb3duSGFuZGxlciIsIl9oYW5kbGVEb3duIiwiX21vdmVIYW5kbGVyIiwiX2hhbmRsZU1vdmUiLCJfd2hlZWxIYW5kbGVyIiwiX2hhbmRsZVdoZWVsIiwiX2NvbnRleHRNZW51SGFuZGxlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfdGFyZ2V0IiwiX2F0dGFjaGVkIiwiYXR0YWNoIiwiaXNQb2ludGVyTG9ja2VkIiwiaXNNb3VzZVBvaW50ZXJMb2NrZWQiLCJvcHRzIiwicGxhdGZvcm0iLCJwYXNzaXZlRXZlbnRzIiwicGFzc2l2ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXRhY2giLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiZW5hYmxlQ29udGV4dE1lbnUiLCJlbmFibGVQb2ludGVyTG9jayIsInN1Y2Nlc3MiLCJlcnJvciIsImRvY3VtZW50IiwiYm9keSIsInJlcXVlc3RQb2ludGVyTG9jayIsInMiLCJlIiwiZGlzYWJsZVBvaW50ZXJMb2NrIiwiZXhpdFBvaW50ZXJMb2NrIiwidXBkYXRlIiwiaXNQcmVzc2VkIiwiYnV0dG9uIiwid2FzUHJlc3NlZCIsIndhc1JlbGVhc2VkIiwiTW91c2VFdmVudCIsImZpcmUiLCJFVkVOVF9NT1VTRVVQIiwiRVZFTlRfTU9VU0VET1dOIiwiRVZFTlRfTU9VU0VNT1ZFIiwieCIsInkiLCJFVkVOVF9NT1VTRVdIRUVMIiwiX2dldFRhcmdldENvb3JkcyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwiTWF0aCIsImZsb29yIiwidG9wIiwiY2xpZW50WCIsImNsaWVudFdpZHRoIiwiY2xpZW50WSIsImNsaWVudEhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQWlCQSxNQUFNQSxLQUFOLFNBQW9CQyxZQUFwQixDQUFpQztFQU03QkMsV0FBVyxDQUFDQyxPQUFELEVBQVU7QUFDakIsSUFBQSxLQUFBLEVBQUEsQ0FBQTtJQUdBLElBQUtDLENBQUFBLE1BQUwsR0FBYyxDQUFkLENBQUE7SUFDQSxJQUFLQyxDQUFBQSxNQUFMLEdBQWMsQ0FBZCxDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQixDQUFDLEtBQUQsRUFBUSxLQUFSLEVBQWUsS0FBZixDQUFoQixDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsWUFBTCxHQUFvQixDQUFDLEtBQUQsRUFBUSxLQUFSLEVBQWUsS0FBZixDQUFwQixDQUFBO0lBSUEsSUFBS0MsQ0FBQUEsVUFBTCxHQUFrQixJQUFLQyxDQUFBQSxTQUFMLENBQWVDLElBQWYsQ0FBb0IsSUFBcEIsQ0FBbEIsQ0FBQTtJQUNBLElBQUtDLENBQUFBLFlBQUwsR0FBb0IsSUFBS0Ms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
