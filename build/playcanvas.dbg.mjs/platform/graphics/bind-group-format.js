import { TRACEID_BINDGROUPFORMAT_ALLOC } from '../../core/constants.js';
import { DebugHelper, Debug } from '../../core/debug.js';
import { TEXTUREDIMENSION_2D, TEXTUREDIMENSION_CUBE, TEXTUREDIMENSION_3D, SAMPLETYPE_FLOAT } from './constants.js';

let id = 0;
const textureDimensionInfo = {
  [TEXTUREDIMENSION_2D]: 'texture2D',
  [TEXTUREDIMENSION_CUBE]: 'textureCube',
  [TEXTUREDIMENSION_3D]: 'texture3D'
};

/**
 * @ignore
 */
class BindBufferFormat {
  constructor(name, visibility) {
    /** @type {string} */
    this.name = name;

    // SHADERSTAGE_VERTEX, SHADERSTAGE_FRAGMENT, SHADERSTAGE_COMPUTE
    this.visibility = visibility;
  }
}

/**
 * @ignore
 */
class BindTextureFormat {
  constructor(name, visibility, textureDimension = TEXTUREDIMENSION_2D, sampleType = SAMPLETYPE_FLOAT) {
    /** @type {import('./scope-id.js').ScopeId} */
    this.scopeId = void 0;
    /** @type {string} */
    this.name = name;

    // SHADERSTAGE_VERTEX, SHADERSTAGE_FRAGMENT, SHADERSTAGE_COMPUTE
    this.visibility = visibility;

    // TEXTUREDIMENSION_***
    this.textureDimension = textureDimension;

    // SAMPLETYPE_***
    this.sampleType = sampleType;
  }
}

/**
 * @ignore
 */
class BindGroupFormat {
  /**
   * @param {import('./graphics-device.js').GraphicsDevice} graphicsDevice - The graphics device
   * used to manage this vertex format.
   * @param {BindBufferFormat[]} [bufferFormats] - An array of bind buffer formats (uniform
   * buffers). Defaults to an empty array.
   * @param {BindTextureFormat[]} [textureFormats] - An array of bind texture formats (textures).
   * Defaults to an empty array.
   */
  constructor(graphicsDevice, bufferFormats = [], textureFormats = []) {
    this.id = id++;
    DebugHelper.setName(this, `BindGroupFormat_${this.id}`);

    /** @type {import('./graphics-device.js').GraphicsDevice} */
    this.device = graphicsDevice;

    /** @type {BindBufferFormat[]} */
    this.bufferFormats = bufferFormats;

    // maps a buffer format name to an index
    /** @type {Map<string, number>} */
    this.bufferFormatsMap = new Map();
    bufferFormats.forEach((bf, i) => this.bufferFormatsMap.set(bf.name, i));

    /** @type {BindTextureFormat[]} */
    this.textureFormats = textureFormats;
    const scope = graphicsDevice.scope;

    // maps a texture format name to a slot index
    /** @type {Map<string, number>} */
    this.textureFormatsMap = new Map();
    textureFormats.forEach((tf, i) => {
      this.textureFormatsMap.set(tf.name, i);

      // resolve scope id
      tf.scopeId = scope.resolve(tf.name);
    });
    this.impl = graphicsDevice.createBindGroupFormatImpl(this);
    Debug.trace(TRACEID_BINDGROUPFORMAT_ALLOC, `Alloc: Id ${this.id}`, this);
  }

  /**
   * Frees resources associated with this bind group.
   */
  destroy() {
    this.impl.destroy();
  }

  /**
   * Returns format of texture with specified name.
   *
   * @param {string} name - The name of the texture slot.
   * @returns {BindTextureFormat} - The format.
   */
  getTexture(name) {
    const index = this.textureFormatsMap.get(name);
    if (index !== undefined) {
      return this.textureFormats[index];
    }
    return null;
  }
  getShaderDeclarationTextures(bindGroup) {
    let code = '';
    let bindIndex = this.bufferFormats.length;
    this.textureFormats.forEach(format => {
      const textureType = textureDimensionInfo[format.textureDimension];
      Debug.assert(textureType, "Unsupported texture type");
      code += `layout(set = ${bindGroup}, binding = ${bindIndex++}) uniform ${textureType} ${format.name};\n` + `layout(set = ${bindGroup}, binding = ${bindIndex++}) uniform sampler ${format.name}_sampler;\n`;
    });
    return code;
  }
  loseContext() {
    // TODO: implement
  }
}

export { BindBufferFormat, BindGroupFormat, BindTextureFormat };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZC1ncm91cC1mb3JtYXQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wbGF0Zm9ybS9ncmFwaGljcy9iaW5kLWdyb3VwLWZvcm1hdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUUkFDRUlEX0JJTkRHUk9VUEZPUk1BVF9BTExPQyB9IGZyb20gJy4uLy4uL2NvcmUvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IERlYnVnLCBEZWJ1Z0hlbHBlciB9IGZyb20gJy4uLy4uL2NvcmUvZGVidWcuanMnO1xuXG5pbXBvcnQge1xuICAgIFRFWFRVUkVESU1FTlNJT05fMkQsIFRFWFRVUkVESU1FTlNJT05fQ1VCRSwgVEVYVFVSRURJTUVOU0lPTl8zRCxcbiAgICBTQU1QTEVUWVBFX0ZMT0FUXG59IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxubGV0IGlkID0gMDtcblxuY29uc3QgdGV4dHVyZURpbWVuc2lvbkluZm8gPSB7XG4gICAgW1RFWFRVUkVESU1FTlNJT05fMkRdOiAndGV4dHVyZTJEJyxcbiAgICBbVEVYVFVSRURJTUVOU0lPTl9DVUJFXTogJ3RleHR1cmVDdWJlJyxcbiAgICBbVEVYVFVSRURJTUVOU0lPTl8zRF06ICd0ZXh0dXJlM0QnXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgQmluZEJ1ZmZlckZvcm1hdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdmlzaWJpbGl0eSkge1xuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgICAgICAvLyBTSEFERVJTVEFHRV9WRVJURVgsIFNIQURFUlNUQUdFX0ZSQUdNRU5ULCBTSEFERVJTVEFHRV9DT01QVVRFXG4gICAgICAgIHRoaXMudmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgQmluZFRleHR1cmVGb3JtYXQge1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuL3Njb3BlLWlkLmpzJykuU2NvcGVJZH0gKi9cbiAgICBzY29wZUlkO1xuXG4gICAgY29uc3RydWN0b3IobmFtZSwgdmlzaWJpbGl0eSwgdGV4dHVyZURpbWVuc2lvbiA9IFRFWFRVUkVESU1FTlNJT05fMkQsIHNhbXBsZVR5cGUgPSBTQU1QTEVUWVBFX0ZMT0FUKSB7XG4gICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIC8vIFNIQURFUlNUQUdFX1ZFUlRFWCwgU0hBREVSU1RBR0VfRlJBR01FTlQsIFNIQURFUlNUQUdFX0NPTVBVVEVcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcblxuICAgICAgICAvLyBURVhUVVJFRElNRU5TSU9OXyoqKlxuICAgICAgICB0aGlzLnRleHR1cmVEaW1lbnNpb24gPSB0ZXh0dXJlRGltZW5zaW9uO1xuXG4gICAgICAgIC8vIFNBTVBMRVRZUEVfKioqXG4gICAgICAgIHRoaXMuc2FtcGxlVHlwZSA9IHNhbXBsZVR5cGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgQmluZEdyb3VwRm9ybWF0IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi9ncmFwaGljcy1kZXZpY2UuanMnKS5HcmFwaGljc0RldmljZX0gZ3JhcGhpY3NEZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlXG4gICAgICogdXNlZCB0byBtYW5hZ2UgdGhpcyB2ZXJ0ZXggZm9ybWF0LlxuICAgICAqIEBwYXJhbSB7QmluZEJ1ZmZlckZvcm1hdFtdfSBbYnVmZmVyRm9ybWF0c10gLSBBbiBhcnJheSBvZiBiaW5kIGJ1ZmZlciBmb3JtYXRzICh1bmlmb3JtXG4gICAgICogYnVmZmVycykuIERlZmF1bHRzIHRvIGFuIGVtcHR5IGFycmF5LlxuICAgICAqIEBwYXJhbSB7QmluZFRleHR1cmVGb3JtYXRbXX0gW3RleHR1cmVGb3JtYXRzXSAtIEFuIGFycmF5IG9mIGJpbmQgdGV4dHVyZSBmb3JtYXRzICh0ZXh0dXJlcykuXG4gICAgICogRGVmYXVsdHMgdG8gYW4gZW1wdHkgYXJyYXkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NEZXZpY2UsIGJ1ZmZlckZvcm1hdHMgPSBbXSwgdGV4dHVyZUZvcm1hdHMgPSBbXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQrKztcbiAgICAgICAgRGVidWdIZWxwZXIuc2V0TmFtZSh0aGlzLCBgQmluZEdyb3VwRm9ybWF0XyR7dGhpcy5pZH1gKTtcblxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydCgnLi9ncmFwaGljcy1kZXZpY2UuanMnKS5HcmFwaGljc0RldmljZX0gKi9cbiAgICAgICAgdGhpcy5kZXZpY2UgPSBncmFwaGljc0RldmljZTtcblxuICAgICAgICAvKiogQHR5cGUge0JpbmRCdWZmZXJGb3JtYXRbXX0gKi9cbiAgICAgICAgdGhpcy5idWZmZXJGb3JtYXRzID0gYnVmZmVyRm9ybWF0cztcblxuICAgICAgICAvLyBtYXBzIGEgYnVmZmVyIGZvcm1hdCBuYW1lIHRvIGFuIGluZGV4XG4gICAgICAgIC8qKiBAdHlwZSB7TWFwPHN0cmluZywgbnVtYmVyPn0gKi9cbiAgICAgICAgdGhpcy5idWZmZXJGb3JtYXRzTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBidWZmZXJGb3JtYXRzLmZvckVhY2goKGJmLCBpKSA9PiB0aGlzLmJ1ZmZlckZvcm1hdHNNYXAuc2V0KGJmLm5hbWUsIGkpKTtcblxuICAgICAgICAvKiogQHR5cGUge0JpbmRUZXh0dXJlRm9ybWF0W119ICovXG4gICAgICAgIHRoaXMudGV4dHVyZUZvcm1hdHMgPSB0ZXh0dXJlRm9ybWF0cztcblxuICAgICAgICBjb25zdCBzY29wZSA9IGdyYXBoaWNzRGV2aWNlLnNjb3BlO1xuXG4gICAgICAgIC8vIG1hcHMgYSB0ZXh0dXJlIGZvcm1hdCBuYW1lIHRvIGEgc2xvdCBpbmRleFxuICAgICAgICAvKiogQHR5cGUge01hcDxzdHJpbmcsIG51bWJlcj59ICovXG4gICAgICAgIHRoaXMudGV4dHVyZUZvcm1hdHNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRleHR1cmVGb3JtYXRzLmZvckVhY2goKHRmLCBpKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVGb3JtYXRzTWFwLnNldCh0Zi5uYW1lLCBpKTtcblxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBzY29wZSBpZFxuICAgICAgICAgICAgdGYuc2NvcGVJZCA9IHNjb3BlLnJlc29sdmUodGYubmFtZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW1wbCA9IGdyYXBoaWNzRGV2aWNlLmNyZWF0ZUJpbmRHcm91cEZvcm1hdEltcGwodGhpcyk7XG5cbiAgICAgICAgRGVidWcudHJhY2UoVFJBQ0VJRF9CSU5ER1JPVVBGT1JNQVRfQUxMT0MsIGBBbGxvYzogSWQgJHt0aGlzLmlkfWAsIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBiaW5kIGdyb3VwLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaW1wbC5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBmb3JtYXQgb2YgdGV4dHVyZSB3aXRoIHNwZWNpZmllZCBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdGV4dHVyZSBzbG90LlxuICAgICAqIEByZXR1cm5zIHtCaW5kVGV4dHVyZUZvcm1hdH0gLSBUaGUgZm9ybWF0LlxuICAgICAqL1xuICAgIGdldFRleHR1cmUobmFtZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudGV4dHVyZUZvcm1hdHNNYXAuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZUZvcm1hdHNbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0U2hhZGVyRGVjbGFyYXRpb25UZXh0dXJlcyhiaW5kR3JvdXApIHtcbiAgICAgICAgbGV0IGNvZGUgPSAnJztcbiAgICAgICAgbGV0IGJpbmRJbmRleCA9IHRoaXMuYnVmZmVyRm9ybWF0cy5sZW5ndGg7XG4gICAgICAgIHRoaXMudGV4dHVyZUZvcm1hdHMuZm9yRWFjaCgoZm9ybWF0KSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVUeXBlID0gdGV4dHVyZURpbWVuc2lvbkluZm9bZm9ybWF0LnRleHR1cmVEaW1lbnNpb25dO1xuICAgICAgICAgICAgRGVidWcuYXNzZXJ0KHRleHR1cmVUeXBlLCBcIlVuc3VwcG9ydGVkIHRleHR1cmUgdHlwZVwiKTtcblxuICAgICAgICAgICAgY29kZSArPSBgbGF5b3V0KHNldCA9ICR7YmluZEdyb3VwfSwgYmluZGluZyA9ICR7YmluZEluZGV4Kyt9KSB1bmlmb3JtICR7dGV4dHVyZVR5cGV9ICR7Zm9ybWF0Lm5hbWV9O1xcbmAgK1xuICAgICAgICAgICAgICAgICAgICBgbGF5b3V0KHNldCA9ICR7YmluZEdyb3VwfSwgYmluZGluZyA9ICR7YmluZEluZGV4Kyt9KSB1bmlmb3JtIHNhbXBsZXIgJHtmb3JtYXQubmFtZX1fc2FtcGxlcjtcXG5gO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29kZTtcbiAgICB9XG5cbiAgICBsb3NlQ29udGV4dCgpIHtcbiAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50XG4gICAgfVxufVxuXG5leHBvcnQgeyBCaW5kQnVmZmVyRm9ybWF0LCBCaW5kVGV4dHVyZUZvcm1hdCwgQmluZEdyb3VwRm9ybWF0IH07XG4iXSwibmFtZXMiOlsiaWQiLCJ0ZXh0dXJlRGltZW5zaW9uSW5mbyIsIlRFWFRVUkVESU1FTlNJT05fMkQiLCJURVhUVVJFRElNRU5TSU9OX0NVQkUiLCJURVhUVVJFRElNRU5TSU9OXzNEIiwiQmluZEJ1ZmZlckZvcm1hdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsInZpc2liaWxpdHkiLCJCaW5kVGV4dHVyZUZvcm1hdCIsInRleHR1cmVEaW1lbnNpb24iLCJzYW1wbGVUeXBlIiwiU0FNUExFVFlQRV9GTE9BVCIsInNjb3BlSWQiLCJCaW5kR3JvdXBGb3JtYXQiLCJncmFwaGljc0RldmljZSIsImJ1ZmZlckZvcm1hdHMiLCJ0ZXh0dXJlRm9ybWF0cyIsIkRlYnVnSGVscGVyIiwic2V0TmFtZSIsImRldmljZSIsImJ1ZmZlckZvcm1hdHNNYXAiLCJNYXAiLCJmb3JFYWNoIiwiYmYiLCJpIiwic2V0Iiwic2NvcGUiLCJ0ZXh0dXJlRm9ybWF0c01hcCIsInRmIiwicmVzb2x2ZSIsImltcGwiLCJjcmVhdGVCaW5kR3JvdXBGb3JtYXRJbXBsIiwiRGVidWciLCJ0cmFjZSIsIlRSQUNFSURfQklOREdST1VQRk9STUFUX0FMTE9DIiwiZGVzdHJveSIsImdldFRleHR1cmUiLCJpbmRleCIsImdldCIsInVuZGVmaW5lZCIsImdldFNoYWRlckRlY2xhcmF0aW9uVGV4dHVyZXMiLCJiaW5kR3JvdXAiLCJjb2RlIiwiYmluZEluZGV4IiwibGVuZ3RoIiwiZm9ybWF0IiwidGV4dHVyZVR5cGUiLCJhc3NlcnQiLCJsb3NlQ29udGV4dCJdLCJtYXBwaW5ncyI6Ijs7OztBQVFBLElBQUlBLEVBQUUsR0FBRyxDQUFDLENBQUE7QUFFVixNQUFNQyxvQkFBb0IsR0FBRztFQUN6QixDQUFDQyxtQkFBbUIsR0FBRyxXQUFXO0VBQ2xDLENBQUNDLHFCQUFxQixHQUFHLGFBQWE7QUFDdEMsRUFBQSxDQUFDQyxtQkFBbUIsR0FBRyxXQUFBO0FBQzNCLENBQUMsQ0FBQTs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxnQkFBZ0IsQ0FBQztBQUNuQkMsRUFBQUEsV0FBV0EsQ0FBQ0MsSUFBSSxFQUFFQyxVQUFVLEVBQUU7QUFDMUI7SUFDQSxJQUFJLENBQUNELElBQUksR0FBR0EsSUFBSSxDQUFBOztB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
