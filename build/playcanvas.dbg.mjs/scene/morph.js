/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../core/debug.js';
import { RefCountedObject } from '../core/ref-counted-object.js';
import { Vec3 } from '../core/math/vec3.js';
import { FloatPacking } from '../core/math/float-packing.js';
import { BoundingBox } from '../core/shape/bounding-box.js';
import { Texture } from '../platform/graphics/texture.js';
import { VertexBuffer } from '../platform/graphics/vertex-buffer.js';
import { VertexFormat } from '../platform/graphics/vertex-format.js';
import { PIXELFORMAT_RGB32F, PIXELFORMAT_RGBA16F, BUFFER_STATIC, FILTER_NEAREST, ADDRESS_CLAMP_TO_EDGE, SEMANTIC_ATTR15, TYPE_FLOAT32 } from '../platform/graphics/constants.js';
import { GraphicsDeviceAccess } from '../platform/graphics/graphics-device-access.js';

const _floatRounding = 0.2;

class Morph extends RefCountedObject {
  constructor(targets, graphicsDevice) {
    super();
    Debug.assertDeprecated(graphicsDevice, "Morph constructor takes a GraphicsDevice as a parameter, and it was not provided.");
    this.device = graphicsDevice || GraphicsDeviceAccess.get();

    targets.forEach(target => Debug.assert(!target.used, 'The target specified has already been used to create a Morph, use its clone instead.'));
    this._targets = targets.slice();

    if (this.device.supportsMorphTargetTexturesCore) {
      if (this.device.extTextureHalfFloat && this.device.textureHalfFloatRenderable) {
        this._renderTextureFormat = Morph.FORMAT_HALF_FLOAT;
      } else if (this.device.extTextureFloat && this.device.textureFloatRenderable) {
        this._renderTextureFormat = Morph.FORMAT_FLOAT;
      }

      if (this.device.extTextureHalfFloat && this.device.textureHalfFloatUpdatable) {
        this._textureFormat = Morph.FORMAT_HALF_FLOAT;
      } else if (this.device.extTextureFloat) {
        this._textureFormat = Morph.FORMAT_FLOAT;
      }

      if (this._renderTextureFormat !== undefined && this._textureFormat !== undefined) {
        this._useTextureMorph = true;
      }
    }
    this._init();
    this._updateMorphFlags();
    this._calculateAabb();
  }
  get morphPositions() {
    return this._morphPositions;
  }
  get morphNormals() {
    return this._morphNormals;
  }
  get maxActiveTargets() {
    if (this._useTextureMorph) return this._targets.length;
    return this._morphPositions && this._morphNormals ? 4 : 8;
  }
  get useTextureMorph() {
    return this._useTextureMorph;
  }
  _init() {
    if (this._useTextureMorph) {
      this._useTextureMorph = this._initTextureBased();
    }

    if (!this._useTextureMorph) {
      for (let i = 0; i < this._targets.length; i++) {
        this._targets[i]._initVertexBuffers(this.device);
      }
    }

    for (let i = 0; i < this._targets.length; i++) {
      this._targets[i]._postInit();
    }
  }
  _initTextureBased() {
    const deltaArrays = [],
      deltaInfos = [];
    for (let i = 0; i < this._targets.length; i++) {
      const target = this._targets[i];
      if (target.options.deltaPositions) {
        deltaArrays.push(target.options.deltaPositions);
        deltaInfos.push({
          target: target,
          name: 'texturePositions'
        });
      }
      if (target.options.deltaNormals) {
        deltaArrays.push(target.options.deltaNormals);
        deltaInfos.push({
          target: target,
          name: 'textureNormals'
        });
      }
    }

    const ids = [],
      usedDataIndices = [];
    let freeIndex = 1;
    const dataCount = deltaArrays[0].length;
    for (let v = 0; v < dataCount; v += 3) {
      let vertexUsed = false;
      for (let i = 0; i < deltaArrays.length; i++) {
        const data = deltaArrays[i];

        if (data[v] !== 0 || data[v + 1] !== 0 || data[v + 2] !== 0) {
          vertexUsed = true;
          break;
        }
      }
      if (vertexUsed) {
        ids.push(freeIndex + _floatRounding);
        usedDataIndices.push(v / 3);
        freeIndex++;
      } else {
        ids.push(0 + _floatRounding);
      }
    }

    const maxTextureSize = Math.min(this.device.maxTextureSize, 4096);

    let morphTextureWidth = Math.ceil(Math.sqrt(freeIndex));
    morphTextureWidth = Math.min(morphTextureWidth, maxTextureSize);
    const morphTextureHeight = Math.ceil(freeIndex / morphTextureWidth);

    if (morphTextureHeight > maxTextureSize) {
      return false;
    }
    this.morphTextureWidth = morphTextureWidth;
    this.morphTextureHeight = morphTextureHeight;

    let halfFloat = false;
    let numComponents = 3;
    const float2Half = FloatPacking.float2Half;
    if (this._textureFormat === Morph.FORMAT_HALF_FLOAT) {
      halfFloat = true;
      numComponents = 4;
    }

    const arraySize = this.morphTextureWidth * this.morphTextureHeight * numComponents;
    const packedDeltas = halfFloat ? new Uint16Array(arraySize) : new Float32Array(arraySize);
    for (let i = 0; i < deltaArrays.length; i++) {
      const data = deltaArrays[i];

      for (let v = 0; v < usedDataIndices.length; v++) {
        const index = usedDataIndices[v];
        if (halfFloat) {
          packedDeltas[v * numComponents + numComponents] = float2Half(data[index * 3]);
          packedDeltas[v * numComponents + numComponents + 1] = float2Half(data[index * 3 + 1]);
          packedDeltas[v * numComponents + numComponents + 2] = float2Half(data[index * 3 + 2]);
        } else {
          packedDeltas[v * numComponents + numComponents] = data[index * 3];
          packedDeltas[v * numComponents + numComponents + 1] = data[index * 3 + 1];
          packedDeltas[v * numComponents + numComponents + 2] = data[index * 3 + 2];
        }
      }

      const target = deltaInfos[i].target;
      const format = this._textureFormat === Morph.FORMAT_FLOAT ? PIXELFORMAT_RGB32F : PIXELFORMAT_RGBA16F;
      target._setTexture(deltaInfos[i].name, this._createTexture('MorphTarget', format, packedDeltas));
    }

    const formatDesc = [{
      semantic: SEMANTIC_ATTR15,
      components: 1,
      type: TYPE_FLOAT32
    }];
    this.vertexBufferIds = new VertexBuffer(this.device, new VertexFormat(this.device, formatDesc), ids.length, BUFFER_STATIC, new Float32Array(ids));
    return true;
  }

  destroy() {
    var _this$vertexBufferIds;
    (_this$vertexBufferIds = this.vertexBufferIds) == null ? void 0 : _this$vertexBufferIds.destroy();
    this.vertexBufferIds = null;
    for (let i = 0; i < this._targets.length; i++) {
      this._targets[i].destroy();
    }
    this._targets.length = 0;
  }

  get targets() {
    return this._targets;
  }
  _updateMorphFlags() {
    this._morphPositions = false;
    this._morphNormals = false;
    for (let i = 0; i < this._targets.length; i++) {
      const target = this._targets[i];
      if (target.morphPositions) {
        this._morphPositions = true;
      }
      if (target.morphNormals) {
        this._morphNormals = true;
      }
    }
  }
  _calculateAabb() {
    const min = new Vec3();
    const max = new Vec3();
    for (let i = 0; i < this._targets.length; i++) {
      const targetAabb = this._targets[i].aabb;
      min.min(targetAabb.getMin());
      max.max(targetAabb.getMax());
    }
    this.aabb = new BoundingBox();
    this.aabb.setMinMax(min, max);
  }

  _createTexture(name, format, pixelData) {
    const texture = new Texture(this.device, {
      width: this.morphTextureWidth,
      height: this.morphTextureHeight,
      format: format,
      cubemap: false,
      mipmaps: false,
      minFilter: FILTER_NEAREST,
      magFilter: FILTER_NEAREST,
      addressU: ADDRESS_CLAMP_TO_EDGE,
      addressV: ADDRESS_CLAMP_TO_EDGE,
      name: name
    });
    if (pixelData) {
      texture.lock().set(pixelData);
      texture.unlock();
    }
    return texture;
  }
}
Morph.FORMAT_FLOAT = 0;
Morph.FORMAT_HALF_FLOAT = 1;

export { Morph };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9ycGguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zY2VuZS9tb3JwaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1ZyB9IGZyb20gJy4uL2NvcmUvZGVidWcuanMnO1xuaW1wb3J0IHsgUmVmQ291bnRlZE9iamVjdCB9IGZyb20gJy4uL2NvcmUvcmVmLWNvdW50ZWQtb2JqZWN0LmpzJztcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi9jb3JlL21hdGgvdmVjMy5qcyc7XG5pbXBvcnQgeyBGbG9hdFBhY2tpbmcgfSBmcm9tICcuLi9jb3JlL21hdGgvZmxvYXQtcGFja2luZy5qcyc7XG5pbXBvcnQgeyBCb3VuZGluZ0JveCB9IGZyb20gJy4uL2NvcmUvc2hhcGUvYm91bmRpbmctYm94LmpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9wbGF0Zm9ybS9ncmFwaGljcy90ZXh0dXJlLmpzJztcbmltcG9ydCB7IFZlcnRleEJ1ZmZlciB9IGZyb20gJy4uL3BsYXRmb3JtL2dyYXBoaWNzL3ZlcnRleC1idWZmZXIuanMnO1xuaW1wb3J0IHsgVmVydGV4Rm9ybWF0IH0gZnJvbSAnLi4vcGxhdGZvcm0vZ3JhcGhpY3MvdmVydGV4LWZvcm1hdC5qcyc7XG5cbmltcG9ydCB7XG4gICAgQlVGRkVSX1NUQVRJQywgVFlQRV9GTE9BVDMyLCBTRU1BTlRJQ19BVFRSMTUsIEFERFJFU1NfQ0xBTVBfVE9fRURHRSwgRklMVEVSX05FQVJFU1QsXG4gICAgUElYRUxGT1JNQVRfUkdCQTE2RiwgUElYRUxGT1JNQVRfUkdCMzJGXG59IGZyb20gJy4uL3BsYXRmb3JtL2dyYXBoaWNzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBHcmFwaGljc0RldmljZUFjY2VzcyB9IGZyb20gJy4uL3BsYXRmb3JtL2dyYXBoaWNzL2dyYXBoaWNzLWRldmljZS1hY2Nlc3MuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vcGxhdGZvcm0vZ3JhcGhpY3MvZ3JhcGhpY3MtZGV2aWNlLmpzJykuR3JhcGhpY3NEZXZpY2V9IEdyYXBoaWNzRGV2aWNlICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi9tb3JwaC10YXJnZXQuanMnKS5Nb3JwaFRhcmdldH0gTW9ycGhUYXJnZXQgKi9cblxuLy8gdmFsdWUgYWRkZWQgdG8gZmxvYXRzIHdoaWNoIGFyZSB1c2VkIGFzIGludHMgb24gdGhlIHNoYWRlciBzaWRlIHRvIGF2b2lkIHZhbHVlcyBiZWluZyByb3VuZGVkIHRvIG9uZSBsZXNzIG9jY2FzaW9uYWxseVxuY29uc3QgX2Zsb2F0Um91bmRpbmcgPSAwLjI7XG5cbi8qKlxuICogQ29udGFpbnMgYSBsaXN0IG9mIHtAbGluayBNb3JwaFRhcmdldH0sIGEgY29tYmluZWQgZGVsdGEgQUFCQiBhbmQgc29tZSBhc3NvY2lhdGVkIGRhdGEuXG4gKi9cbmNsYXNzIE1vcnBoIGV4dGVuZHMgUmVmQ291bnRlZE9iamVjdCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IE1vcnBoIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtNb3JwaFRhcmdldFtdfSB0YXJnZXRzIC0gQSBsaXN0IG9mIG1vcnBoIHRhcmdldHMuXG4gICAgICogQHBhcmFtIHtHcmFwaGljc0RldmljZX0gZ3JhcGhpY3NEZXZpY2UgLSBUaGUgZ3JhcGhpY3MgZGV2aWNlIHVzZWQgdG8gbWFuYWdlIHRoaXMgbW9ycGhcbiAgICAgKiB0YXJnZXQuIElmIGl0IGlzIG5vdCBwcm92aWRlZCwgYSBkZXZpY2UgaXMgb2J0YWluZWQgZnJvbSB0aGUge0BsaW5rIEFwcGxpY2F0aW9ufS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXRzLCBncmFwaGljc0RldmljZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIERlYnVnLmFzc2VydERlcHJlY2F0ZWQoZ3JhcGhpY3NEZXZpY2UsIFwiTW9ycGggY29uc3RydWN0b3IgdGFrZXMgYSBHcmFwaGljc0RldmljZSBhcyBhIHBhcmFtZXRlciwgYW5kIGl0IHdhcyBub3QgcHJvdmlkZWQuXCIpO1xuICAgICAgICB0aGlzLmRldmljZSA9IGdyYXBoaWNzRGV2aWNlIHx8IEdyYXBoaWNzRGV2aWNlQWNjZXNzLmdldCgpO1xuXG4gICAgICAgIC8vIHZhbGlkYXRpb25cbiAgICAgICAgdGFyZ2V0cy5mb3JFYWNoKHRhcmdldCA9PiBEZWJ1Zy5hc3NlcnQoIXRhcmdldC51c2VkLCAnVGhlIHRhcmdldCBzcGVjaWZpZWQgaGFzIGFscmVhZHkgYmVlbiB1c2VkIHRvIGNyZWF0ZSBhIE1vcnBoLCB1c2UgaXRzIGNsb25lIGluc3RlYWQuJykpO1xuICAgICAgICB0aGlzLl90YXJnZXRzID0gdGFyZ2V0cy5zbGljZSgpO1xuXG4gICAgICAgIC8vIGRlZmF1bHQgdG8gdGV4dHVyZSBiYXNlZCBtb3JwaGluZyBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuZGV2aWNlLnN1cHBvcnRzTW9ycGhUYXJnZXRUZXh0dXJlc0NvcmUpIHtcblxuICAgICAgICAgICAgLy8gcGljayByZW5kZXJhYmxlIGZvcm1hdCAtIHByZWZlciBoYWxmLWZsb2F0XG4gICAgICAgICAgICBpZiAodGhpcy5kZXZpY2UuZXh0VGV4dHVyZUhhbGZGbG9hdCAmJiB0aGlzLmRldmljZS50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclRleHR1cmVGb3JtYXQgPSBNb3JwaC5GT1JNQVRfSEFMRl9GTE9BVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kZXZpY2UuZXh0VGV4dHVyZUZsb2F0ICYmIHRoaXMuZGV2aWNlLnRleHR1cmVGbG9hdFJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJUZXh0dXJlRm9ybWF0ID0gTW9ycGguRk9STUFUX0ZMT0FUO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwaWNrIHRleHR1cmUgZm9ybWF0IC0gcHJlZmVyIGhhbGYtZmxvYXRcbiAgICAgICAgICAgIGlmICh0aGlzLmRldmljZS5leHRUZXh0dXJlSGFsZkZsb2F0ICYmIHRoaXMuZGV2aWNlLnRleHR1cmVIYWxmRmxvYXRVcGRhdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlRm9ybWF0ID0gTW9ycGguRk9STUFUX0hBTEZfRkxPQVQ7XG4gICAgICAgICAgICB9IGVsc2UgIGlmICh0aGlzLmRldmljZS5leHRUZXh0dXJlRmxvYXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlRm9ybWF0ID0gTW9ycGguRk9STUFUX0ZMT0FUO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBib3RoIGF2YWlsYWJsZSwgZW5hYmxlIHRleHR1cmUgbW9ycGhpbmdcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZW5kZXJUZXh0dXJlRm9ybWF0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fdGV4dHVyZUZvcm1hdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlVGV4dHVyZU1vcnBoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTW9ycGhGbGFncygpO1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVBYWJiKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIEZPUk1BVF9GTE9BVCA9IDA7XG5cbiAgICBzdGF0aWMgRk9STUFUX0hBTEZfRkxPQVQgPSAxO1xuXG4gICAgZ2V0IG1vcnBoUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9ycGhQb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0IG1vcnBoTm9ybWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vcnBoTm9ybWFscztcbiAgICB9XG5cbiAgICBnZXQgbWF4QWN0aXZlVGFyZ2V0cygpIHtcblxuICAgICAgICAvLyBubyBsaW1pdCB3aGVuIHRleHR1cmUgbW9ycGggYmFzZWRcbiAgICAgICAgaWYgKHRoaXMuX3VzZVRleHR1cmVNb3JwaClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXRzLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gKHRoaXMuX21vcnBoUG9zaXRpb25zICYmIHRoaXMuX21vcnBoTm9ybWFscykgPyA0IDogODtcbiAgICB9XG5cbiAgICBnZXQgdXNlVGV4dHVyZU1vcnBoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXNlVGV4dHVyZU1vcnBoO1xuICAgIH1cblxuICAgIF9pbml0KCkge1xuXG4gICAgICAgIC8vIHRyeSB0byBpbml0IHRleHR1cmUgYmFzZWQgbW9ycGhpbmdcbiAgICAgICAgaWYgKHRoaXMuX3VzZVRleHR1cmVNb3JwaCkge1xuICAgICAgICAgICAgdGhpcy5fdXNlVGV4dHVyZU1vcnBoID0gdGhpcy5faW5pdFRleHR1cmVCYXNlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGV4dHVyZSBtb3JwaGluZyBpcyBub3Qgc2V0IHVwLCB1c2UgYXR0cmlidXRlIGJhc2VkIG1vcnBoaW5nXG4gICAgICAgIGlmICghdGhpcy5fdXNlVGV4dHVyZU1vcnBoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRzW2ldLl9pbml0VmVydGV4QnVmZmVycyh0aGlzLmRldmljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5hbGl6ZSBpbml0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0c1tpXS5fcG9zdEluaXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0VGV4dHVyZUJhc2VkKCkge1xuICAgICAgICAvLyBjb2xsZWN0IGFsbCBzb3VyY2UgZGVsdGEgYXJyYXlzIHRvIGZpbmQgc3BhcnNlIHNldCBvZiB2ZXJ0aWNlc1xuICAgICAgICBjb25zdCBkZWx0YUFycmF5cyA9IFtdLCBkZWx0YUluZm9zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0c1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQub3B0aW9ucy5kZWx0YVBvc2l0aW9ucykge1xuICAgICAgICAgICAgICAgIGRlbHRhQXJyYXlzLnB1c2godGFyZ2V0Lm9wdGlvbnMuZGVsdGFQb3NpdGlvbnMpO1xuICAgICAgICAgICAgICAgIGRlbHRhSW5mb3MucHVzaCh7IHRhcmdldDogdGFyZ2V0LCBuYW1lOiAndGV4dHVyZVBvc2l0aW9ucycgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm9wdGlvbnMuZGVsdGFOb3JtYWxzKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFBcnJheXMucHVzaCh0YXJnZXQub3B0aW9ucy5kZWx0YU5vcm1hbHMpO1xuICAgICAgICAgICAgICAgIGRlbHRhSW5mb3MucHVzaCh7IHRhcmdldDogdGFyZ2V0LCBuYW1lOiAndGV4dHVyZU5vcm1hbHMnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluZCBzcGFyc2Ugc2V0IGZvciBhbGwgdGFyZ2V0IGRlbHRhcyBpbnRvIHVzZWREYXRhSW5kaWNlcyBhbmQgYnVpbGQgdmVydGV4IGlkIGJ1ZmZlclxuICAgICAgICBjb25zdCBpZHMgPSBbXSwgdXNlZERhdGFJbmRpY2VzID0gW107XG4gICAgICAgIGxldCBmcmVlSW5kZXggPSAxOyAgLy8gcmVzZXJ2ZSBzbG90IDAgZm9yIHplcm8gZGVsdGFcbiAgICAgICAgY29uc3QgZGF0YUNvdW50ID0gZGVsdGFBcnJheXNbMF0ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IGRhdGFDb3VudDsgdiArPSAzKSB7XG5cbiAgICAgICAgICAgIC8vIGZpbmQgaWYgdmVydGV4IGlzIG1vcnBoZWQgYnkgYW55IHRhcmdldFxuICAgICAgICAgICAgbGV0IHZlcnRleFVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGFBcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZGVsdGFBcnJheXNbaV07XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBub24temVybyBkZWx0YVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW3ZdICE9PSAwIHx8IGRhdGFbdiArIDFdICE9PSAwIHx8IGRhdGFbdiArIDJdICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleFVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0ZXhVc2VkKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goZnJlZUluZGV4ICsgX2Zsb2F0Um91bmRpbmcpO1xuICAgICAgICAgICAgICAgIHVzZWREYXRhSW5kaWNlcy5wdXNoKHYgLyAzKTtcbiAgICAgICAgICAgICAgICBmcmVlSW5kZXgrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uIG1vcnBoZWQgdmVydGljZXMgd291bGQgYmUgYWxsIG1hcHBlZCB0byBwaXhlbCAwIG9mIHRleHR1cmVcbiAgICAgICAgICAgICAgICBpZHMucHVzaCgwICsgX2Zsb2F0Um91bmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWF4IHRleHR1cmUgc2l6ZTogdmVydGV4QnVmZmVySWRzIGlzIHN0b3JlZCBpbiBmbG9hdDMyIGZvcm1hdCwgZ2l2aW5nIHVzIDJeMjQgcmFuZ2UsIHNvIGNhbiBhZGRyZXNzIDQwOTYgdGV4dHVyZSBhdCBtYXhpbXVtXG4gICAgICAgIC8vIFRPRE86IG9uIHdlYmdsMiB3ZSBjb3VsZCBzdG9yZSB0aGlzIGluIHVpbnQzMiBmb3JtYXQgYW5kIHJlbW92ZSB0aGlzIGxpbWl0XG4gICAgICAgIGNvbnN0IG1heFRleHR1cmVTaXplID0gTWF0aC5taW4odGhpcy5kZXZpY2UubWF4VGV4dHVyZVNpemUsIDQwOTYpO1xuXG4gICAgICAgIC8vIHRleHR1cmUgc2l6ZSBmb3IgZnJlZUluZGV4IHBpeGVscyAtIHJvdWdobHkgc3F1YXJlXG4gICAgICAgIGxldCBtb3JwaFRleHR1cmVXaWR0aCA9IE1hdGguY2VpbChNYXRoLnNxcnQoZnJlZUluZGV4KSk7XG4gICAgICAgIG1vcnBoVGV4dHVyZVdpZHRoID0gTWF0aC5taW4obW9ycGhUZXh0dXJlV2lkdGgsIG1heFRleHR1cmVTaXplKTtcbiAgICAgICAgY29uc3QgbW9ycGhUZXh0dXJlSGVpZ2h0ID0gTWF0aC5jZWlsKGZyZWVJbmRleCAvIG1vcnBoVGV4dHVyZVdpZHRoKTtcblxuICAgICAgICAvLyBpZiBkYXRhIGNhbm5vdCBmaXQgaW50byBtYXggc2l6ZSB0ZXh0dXJlLCBmYWlsIHRoaXMgc2V0IHVwXG4gICAgICAgIGlmIChtb3JwaFRleHR1cmVIZWlnaHQgPiBtYXhUZXh0dXJlU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb3JwaFRleHR1cmVXaWR0aCA9IG1vcnBoVGV4dHVyZVdpZHRoO1xuICAgICAgICB0aGlzLm1vcnBoVGV4dHVyZUhlaWdodCA9IG1vcnBoVGV4dHVyZUhlaWdodDtcblxuICAgICAgICAvLyB0ZXh0dXJlIGZvcm1hdCBiYXNlZCB2YXJzXG4gICAgICAgIGxldCBoYWxmRmxvYXQgPSBmYWxzZTtcbiAgICAgICAgbGV0IG51bUNvbXBvbmVudHMgPSAzOyAgLy8gUkdCMzIgaXMgdXNlZFxuICAgICAgICBjb25zdCBmbG9hdDJIYWxmID0gRmxvYXRQYWNraW5nLmZsb2F0MkhhbGY7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlRm9ybWF0ID09PSBNb3JwaC5GT1JNQVRfSEFMRl9GTE9BVCkge1xuICAgICAgICAgICAgaGFsZkZsb2F0ID0gdHJ1ZTtcbiAgICAgICAgICAgIG51bUNvbXBvbmVudHMgPSA0OyAgLy8gUkdCQTE2IGlzIHVzZWQsIFJHQjE2IGRvZXMgbm90IHdvcmtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIHRleHR1cmUgZm9yIGVhY2ggZGVsdGEgYXJyYXksIGFsbCB0ZXh0dXJlcyBhcmUgdGhlIHNhbWUgc2l6ZVxuICAgICAgICBjb25zdCBhcnJheVNpemUgPSB0aGlzLm1vcnBoVGV4dHVyZVdpZHRoICogdGhpcy5tb3JwaFRleHR1cmVIZWlnaHQgKiBudW1Db21wb25lbnRzO1xuICAgICAgICBjb25zdCBwYWNrZWREZWx0YXMgPSBoYWxmRmxvYXQgPyBuZXcgVWludDE2QXJyYXkoYXJyYXlTaXplKSA6IG5ldyBGbG9hdDMyQXJyYXkoYXJyYXlTaXplKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YUFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRlbHRhQXJyYXlzW2ldO1xuXG4gICAgICAgICAgICAvLyBjb3B5IGZ1bGwgYXJyYXlzIGludG8gc3BhcnNlIGFycmF5cyBhbmQgY29udmVydCBmb3JtYXQgKHNraXAgMHRoIHBpeGVsIC0gdXNlZCBieSBub24tbW9ycGhlZCB2ZXJ0aWNlcylcbiAgICAgICAgICAgIGZvciAobGV0IHYgPSAwOyB2IDwgdXNlZERhdGFJbmRpY2VzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB1c2VkRGF0YUluZGljZXNbdl07XG5cbiAgICAgICAgICAgICAgICBpZiAoaGFsZkZsb2F0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tlZERlbHRhc1t2ICogbnVtQ29tcG9uZW50cyArIG51bUNvbXBvbmVudHNdID0gZmxvYXQySGFsZihkYXRhW2luZGV4ICogM10pO1xuICAgICAgICAgICAgICAgICAgICBwYWNrZWREZWx0YXNbdiAqIG51bUNvbXBvbmVudHMgKyBudW1Db21wb25lbnRzICsgMV0gPSBmbG9hdDJIYWxmKGRhdGFbaW5kZXggKiAzICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICBwYWNrZWREZWx0YXNbdiAqIG51bUNvbXBvbmVudHMgKyBudW1Db21wb25lbnRzICsgMl0gPSBmbG9hdDJIYWxmKGRhdGFbaW5kZXggKiAzICsgMl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tlZERlbHRhc1t2ICogbnVtQ29tcG9uZW50cyArIG51bUNvbXBvbmVudHNdID0gZGF0YVtpbmRleCAqIDNdO1xuICAgICAgICAgICAgICAgICAgICBwYWNrZWREZWx0YXNbdiAqIG51bUNvbXBvbmVudHMgKyBudW1Db21wb25lbnRzICsgMV0gPSBkYXRhW2luZGV4ICogMyArIDFdO1xuICAgICAgICAgICAgICAgICAgICBwYWNrZWREZWx0YXNbdiAqIG51bUNvbXBvbmVudHMgKyBudW1Db21wb25lbnRzICsgMl0gPSBkYXRhW2luZGV4ICogMyArIDJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY3JlYXRlIHRleHR1cmUgYW5kIGFzc2lnbiBpdCB0byB0YXJnZXRcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGRlbHRhSW5mb3NbaV0udGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gdGhpcy5fdGV4dHVyZUZvcm1hdCA9PT0gTW9ycGguRk9STUFUX0ZMT0FUID8gUElYRUxGT1JNQVRfUkdCMzJGIDogUElYRUxGT1JNQVRfUkdCQTE2RjtcbiAgICAgICAgICAgIHRhcmdldC5fc2V0VGV4dHVyZShkZWx0YUluZm9zW2ldLm5hbWUsIHRoaXMuX2NyZWF0ZVRleHR1cmUoJ01vcnBoVGFyZ2V0JywgZm9ybWF0LCBwYWNrZWREZWx0YXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZSB2ZXJ0ZXggc3RyZWFtIHdpdGggdmVydGV4X2lkIHVzZWQgdG8gbWFwIHZlcnRleCB0byB0ZXh0dXJlXG4gICAgICAgIGNvbnN0IGZvcm1hdERlc2MgPSBbeyBzZW1hbnRpYzogU0VNQU5USUNfQVRUUjE1LCBjb21wb25lbnRzOiAxLCB0eXBlOiBUWVBFX0ZMT0FUMzIgfV07XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVySWRzID0gbmV3IFZlcnRleEJ1ZmZlcih0aGlzLmRldmljZSwgbmV3IFZlcnRleEZvcm1hdCh0aGlzLmRldmljZSwgZm9ybWF0RGVzYyksIGlkcy5sZW5ndGgsIEJVRkZFUl9TVEFUSUMsIG5ldyBGbG9hdDMyQXJyYXkoaWRzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdmlkZW8gbWVtb3J5IGFsbG9jYXRlZCBieSB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcklkcz8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcklkcyA9IG51bGw7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXRzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YXJnZXRzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIG1vcnBoIHRhcmdldHMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TW9ycGhUYXJnZXRbXX1cbiAgICAgKi9cbiAgICBnZXQgdGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldHM7XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1vcnBoRmxhZ3MoKSB7XG5cbiAgICAgICAgLy8gZmluZCBvdXQgaWYgdGhpcyBtb3JwaCBuZWVkcyB0byBtb3JwaCBwb3NpdGlvbnMgYW5kIG5vcm1hbHNcbiAgICAgICAgdGhpcy5fbW9ycGhQb3NpdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW9ycGhOb3JtYWxzID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0c1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQubW9ycGhQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3JwaFBvc2l0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm1vcnBoTm9ybWFscykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vcnBoTm9ybWFscyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlQWFiYigpIHtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgbWluIGFuZCBtYXggZXhwYW5zaW9uIHNpemVcbiAgICAgICAgLy8gTm90ZTogVGhpcyByZXByZXNlbnRzIGF2ZXJhZ2UgY2FzZSwgd2hlcmUgbW9zdCBtb3JwaCB0YXJnZXRzIGV4cGFuZCB0aGUgbWVzaCB3aXRoaW4gdGhlIHNhbWUgYXJlYS4gSXQgZG9lcyBub3RcbiAgICAgICAgLy8gcmVwcmVzZW50IHRoZSBzdGFja2VkIHdvcnN0IGNhc2Ugc2NlbmFyaW8gd2hlcmUgYWxsIG1vcnBocyBjb3VsZCBiZSBlbmFibGVkIGF0IHRoZSBzYW1lIHRpbWUsIGFzIHRoaXMgY2FuIHJlc3VsdFxuICAgICAgICAvLyBpbiBhIHZlcnkgbGFyZ2UgYWFiYi4gSW4gY2FzZXMgbGlrZSB0aGlzLCB0aGUgdXNlcnMgc2hvdWxkIHNwZWNpZnkgY3VzdG9tQWFiYiBmb3IgTW9kZWwvUmVuZGVyIGNvbXBvbmVudC5cbiAgICAgICAgY29uc3QgbWluID0gbmV3IFZlYzMoKTtcbiAgICAgICAgY29uc3QgbWF4ID0gbmV3IFZlYzMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBYWJiID0gdGhpcy5fdGFyZ2V0c1tpXS5hYWJiO1xuICAgICAgICAgICAgbWluLm1pbih0YXJnZXRBYWJiLmdldE1pbigpKTtcbiAgICAgICAgICAgIG1heC5tYXgodGFyZ2V0QWFiYi5nZXRNYXgoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFhYmIgPSBuZXcgQm91bmRpbmdCb3goKTtcbiAgICAgICAgdGhpcy5hYWJiLnNldE1pbk1heChtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlcyB0ZXh0dXJlLiBVc2VkIHRvIGNyZWF0ZSBib3RoIHNvdXJjZSBtb3JwaCB0YXJnZXQgZGF0YSwgYXMgd2VsbCBhcyByZW5kZXIgdGFyZ2V0IHVzZWQgdG8gbW9ycGggdGhlc2UgaW50bywgcG9zaXRpb25zIGFuZCBub3JtYWxzXG4gICAgX2NyZWF0ZVRleHR1cmUobmFtZSwgZm9ybWF0LCBwaXhlbERhdGEpIHtcblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5kZXZpY2UsIHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLm1vcnBoVGV4dHVyZVdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm1vcnBoVGV4dHVyZUhlaWdodCxcbiAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgICAgY3ViZW1hcDogZmFsc2UsXG4gICAgICAgICAgICBtaXBtYXBzOiBmYWxzZSxcbiAgICAgICAgICAgIG1pbkZpbHRlcjogRklMVEVSX05FQVJFU1QsXG4gICAgICAgICAgICBtYWdGaWx0ZXI6IEZJTFRFUl9ORUFSRVNULFxuICAgICAgICAgICAgYWRkcmVzc1U6IEFERFJFU1NfQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgIGFkZHJlc3NWOiBBRERSRVNTX0NMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwaXhlbERhdGEpIHtcbiAgICAgICAgICAgIHRleHR1cmUubG9jaygpLnNldChwaXhlbERhdGEpO1xuICAgICAgICAgICAgdGV4dHVyZS51bmxvY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgTW9ycGggfTtcbiJdLCJuYW1lcyI6WyJfZmxvYXRSb3VuZGluZyIsIk1vcnBoIiwiUmVmQ291bnRlZE9iamVjdCIsImNvbnN0cnVjdG9yIiwidGFyZ2V0cyIsImdyYXBoaWNzRGV2aWNlIiwiRGVidWciLCJhc3NlcnREZXByZWNhdGVkIiwiZGV2aWNlIiwiR3JhcGhpY3NEZXZpY2VBY2Nlc3MiLCJnZXQiLCJmb3JFYWNoIiwidGFyZ2V0IiwiYXNzZXJ0IiwidXNlZCIsIl90YXJnZXRzIiwic2xpY2UiLCJzdXBwb3J0c01vcnBoVGFyZ2V0VGV4dHVyZXNDb3JlIiwiZXh0VGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRSZW5kZXJhYmxlIiwiX3JlbmRlclRleHR1cmVGb3JtYXQiLCJGT1JNQVRfSEFMRl9GTE9BVCIsImV4dFRleHR1cmVGbG9hdCIsInRleHR1cmVGbG9hdFJlbmRlcmFibGUiLCJGT1JNQVRfRkxPQVQiLCJ0ZXh0dXJlSGFsZkZsb2F0VXBkYXRhYmxlIiwiX3RleHR1cmVGb3JtYXQiLCJ1bmRlZmluZWQiLCJfdXNlVGV4dHVyZU1vcnBoIiwiX2luaXQiLCJfdXBkYXRlTW9ycGhGbGFncyIsIl9jYWxjdWxhdGVBYWJiIiwibW9ycGhQb3NpdGlvbnMiLCJfbW9ycGhQb3NpdGlvbnMiLCJtb3JwaE5vcm1hbHMiLCJfbW9ycGhOb3JtYWxzIiwibWF4QWN0aXZlVGFyZ2V0cyIsImxlbmd0aCIsInVzZVRleHR1cmVNb3JwaCIsIl9pbml0VGV4dHVyZUJhc2VkIiwiaSIsIl9pbml0VmVydGV4QnVmZmVycyIsIl9wb3N0SW5pdCIsImRlbHRhQXJyYXlzIiwiZGVsdGFJbmZvcyIsIm9wdGlvbnMiLCJkZWx0YVBvc2l0aW9ucyIsInB1c2giLCJuYW1lIiwiZGVsdGFOb3JtYWxzIiwiaWRzIiwidXNlZERhdGFJbmRpY2VzIiwiZnJlZUluZGV4IiwiZGF0YUNvdW50IiwidiIsInZlcnRleFVzZWQiLCJkYXRhIiwibWF4VGV4dHVyZVNpemUiLCJNYXRoIiwibWluIiwibW9ycGhUZXh0dXJlV2lkdGgiLCJjZWlsIiwic3FydCIsIm1vcnBoVGV4dHVyZUhlaWdodCIsImhhbGZGbG9hdCIsIm51bUNvbXBvbmVudHMiLCJmbG9hdDJIYWxmIiwiRmxvYXRQYWNraW5nIiwiYXJyYXlTaXplIiwicGFja2VkRGVsdGFzIiwiVWludDE2QXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJpbmRleCIsImZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQjMyRiIsIlBJWEVMRk9STUFUX1JHQkExNkYiLCJfc2V0VGV4dHVyZSIsIl9jcmVhdGVUZXh0dXJlIiwiZm9ybWF0RGVzYyIsInNlbWFudGljIiwiU0VNQU5USUNfQVRUUjE1IiwiY29tcG9uZW50cyIsInR5cGUiLCJUWVBFX0ZMT0FUMzIiLCJ2ZXJ0ZXhCdWZmZXJJZHMiLCJWZXJ0ZXhCdWZmZXIiLCJWZXJ0ZXhGb3JtYXQiLCJCVUZGRVJfU1RBVElDIiwiZGVzdHJveSIsIlZlYzMiLCJtYXgiLCJ0YXJnZXRBYWJiIiwiYWFiYiIsImdldE1pbiIsImdldE1heCIsIkJvdW5kaW5nQm94Iiwic2V0TWluTWF4IiwicGl4ZWxEYXRhIiwidGV4dHVyZSIsIlRleHR1cmUiLCJ3aWR0aCIsImhlaWdodCIsImN1YmVtYXAiLCJtaXBtYXBzIiwibWluRmlsdGVyIiwiRklMVEVSX05FQVJFU1QiLCJtYWdGaWx0ZXIiLCJhZGRyZXNzVSIs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
