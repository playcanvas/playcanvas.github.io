/**
 * @license
 * PlayCanvas Engine v1.58.0-dev revision e102f2b2a (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { FONT_MSDF } from './constants.js';

class Font {
  constructor(textures, data) {
    this.type = data ? data.type || FONT_MSDF : FONT_MSDF;
    this.em = 1;
    this.textures = textures;
    this.intensity = 0.0;
    this._data = null;
    this.data = data;
  }

  set data(value) {
    this._data = value;
    if (!value) return;

    if (this._data.intensity !== undefined) {
      this.intensity = this._data.intensity;
    }

    if (!this._data.info) this._data.info = {};

    if (!this._data.version || this._data.version < 2) {
      this._data.info.maps = [{
        width: this._data.info.width,
        height: this._data.info.height
      }];

      if (this._data.chars) {
        for (const key in this._data.chars) {
          this._data.chars[key].map = 0;
        }
      }
    }
  }

  get data() {
    return this._data;
  }

}

export { Font };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9udC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2ZvbnQvZm9udC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGT05UX01TREYgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ncmFwaGljcy90ZXh0dXJlLmpzJykuVGV4dHVyZX0gVGV4dHVyZSAqL1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHJlc291cmNlIG9mIGEgZm9udCBhc3NldC5cbiAqL1xuY2xhc3MgRm9udCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEZvbnQgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RleHR1cmVbXX0gdGV4dHVyZXMgLSBUaGUgZm9udCB0ZXh0dXJlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFRoZSBmb250IGRhdGEuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZXMsIGRhdGEpIHtcbiAgICAgICAgdGhpcy50eXBlID0gZGF0YSA/IGRhdGEudHlwZSB8fCBGT05UX01TREYgOiBGT05UX01TREY7XG5cbiAgICAgICAgdGhpcy5lbSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHRleHR1cmVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7VGV4dHVyZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBpbnRlbnNpdHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVuc2l0eSA9IDAuMDtcblxuICAgICAgICAvLyBqc29uIGRhdGFcbiAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgc2V0IGRhdGEodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHZhbHVlO1xuICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9kYXRhLmludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmludGVuc2l0eSA9IHRoaXMuX2RhdGEuaW50ZW5zaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhLmluZm8pXG4gICAgICAgICAgICB0aGlzLl9kYXRhLmluZm8gPSB7fTtcblxuICAgICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIG1pZ3JhdGUgdG8gdmVyc2lvbiAyXG4gICAgICAgIGlmICghdGhpcy5fZGF0YS52ZXJzaW9uIHx8IHRoaXMuX2RhdGEudmVyc2lvbiA8IDIpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEuaW5mby5tYXBzID0gW3tcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5fZGF0YS5pbmZvLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5fZGF0YS5pbmZvLmhlaWdodFxuICAgICAgICAgICAgfV07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXRhLmNoYXJzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5fZGF0YS5jaGFycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhLmNoYXJzW2tleV0ubWFwID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxufVxuXG5leHBvcnQgeyBGb250IH07XG4iXSwibmFtZXMiOlsiRm9udCIsImNvbnN0cnVjdG9yIiwidGV4dHVyZXMiLCJkYXRhIiwidHlwZSIsIkZPTlRfTVNERiIsImVtIiwiaW50ZW5zaXR5IiwiX2RhdGEiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImluZm8iLCJ2ZXJzaW9uIiwibWFwcyIsIndpZHRoIiwiaGVpZ2h0IiwiY2hhcnMiLCJrZXkiLCJtYXAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFPQSxNQUFNQSxJQUFOLENBQVc7QUFPUEMsRUFBQUEsV0FBVyxDQUFDQyxRQUFELEVBQVdDLElBQVgsRUFBaUI7SUFDeEIsSUFBS0MsQ0FBQUEsSUFBTCxHQUFZRCxJQUFJLEdBQUdBLElBQUksQ0FBQ0MsSUFBTCxJQUFhQyxTQUFoQixHQUE0QkEsU0FBNUMsQ0FBQTtJQUVBLElBQUtDLENBQUFBLEVBQUwsR0FBVSxDQUFWLENBQUE7SUFPQSxJQUFLSixDQUFBQSxRQUFMLEdBQWdCQSxRQUFoQixDQUFBO0lBT0EsSUFBS0ssQ0FBQUEsU0FBTCxHQUFpQixHQUFqQixDQUFBO0lBR0EsSUFBS0MsQ0FBQUEsS0FBTCxHQUFhLElBQWIsQ0FBQTtJQUNBLElBQUtMLENBQUFBLElBQUwsR0FBWUEsSUFBWixDQUFBO0FBQ0gsR0FBQTs7RUFFTyxJQUFKQSxJQUFJLENBQUNNLEtBQUQsRUFBUTtJQUNaLElBQUtELENBQUFBLEtBQUwsR0FBYUMsS0FBYixDQUFBO0lBQ0EsSUFBSSxDQUFDQSxLQUFMLEVBQ0ksT0FBQTs7QUFFSixJQUFBLElBQUksS0FBS0QsS0FBTCxDQUFXRCxTQUFYLEtBQXlCRyxTQUE3QixFQUF3QztBQUNwQyxNQUFBLElBQUEsQ0FBS0gsU0FBTCxHQUFpQixJQUFLQyxDQUFBQSxLQUFMLENBQVdELFNBQTVCLENBQUE7QUFDSCxLQUFBOztJQUVELElBQUksQ0FBQyxJQUFLQyxDQUFBQSxLQUFMLENBQVdHLElBQWhCLEVBQ0ksSUFBQSxDQUFLSCxLQUFMLENBQVdHLElBQVgsR0FBa0IsRUFBbEIsQ0FBQTs7QUFHSixJQUFBLElBQUksQ0FBQyxJQUFBLENBQUtILEtBQUwsQ0FBV0ksT0FBWixJQUF1QixJQUFLSixDQUFBQSxLQUFMLENBQVdJLE9BQVgsR0FBcUIsQ0FBaEQsRUFBbUQ7QUFDL0MsTUFBQSxJQUFBLENBQUtKLEtBQUwsQ0FBV0csSUFBWCxDQUFnQkUsSUFBaEIsR0FBdUIsQ0FBQztBQUNwQkMsUUFBQUEsS0FBSyxFQUFFLElBQUtOLENBQUFBLEtBQUwsQ0FBV0csSUFBWCxDQUFnQkcsS0FESDtBQUVwQkMsUUFBQUEsTUFBTSxFQUFFLElBQUEsQ0FBS1AsS0FBTCxDQUFXRyxJQUFYLENBQWdCSSxNQUFBQTtBQUZKLE9BQUQsQ0FBdkIsQ0FBQTs7QUFLQSxNQUFBLElBQUksSUFBS1AsQ0FBQUEsS0FBTCxDQUFXUSxLQUFmLEVBQXNCO0FBQ2xCLFFBQUEsS0FBSyxNQUFNQyxHQUFYLElBQWtCLEtBQUtULEtBQUwsQ0FBV1EsS0FBN0IsRUFBb0M7VUFDaEMsSUFBS1IsQ0FBQUEsS0FBTCxDQUFXUSxLQUFYLENBQWlCQyxHQUFqQixDQUFzQkMsQ0FBQUEsR0FBdEIsR0FBNEIsQ0FBNUIsQ0FBQTtBQUNILFNBQUE7QUFDSixPQUFBO0FBQ0osS0FBQTtBQUNKLEdBQUE7O0FBRU8sRUFBQSxJQUFKZixJQUFJLEdBQUc7QUFDUCxJQUFBLE9BQU8sS0FBS0ssS0FBWixDQUFBO0FBQ0gsR0FBQTs7QUE1RE07Ozs7In0=
