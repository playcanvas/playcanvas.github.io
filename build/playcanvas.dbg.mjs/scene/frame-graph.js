/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { TRACEID_RENDER_PASS, TRACEID_RENDER_PASS_DETAIL } from '../core/constants.js';
import { Debug } from '../core/debug.js';
import { Tracing } from '../core/tracing.js';

class FrameGraph {
  constructor() {
    this.renderPasses = [];
    this.renderTargetMap = new Map();
  }
  addRenderPass(renderPass) {
    this.renderPasses.push(renderPass);
  }
  reset() {
    this.renderPasses.length = 0;
  }
  compile() {
    const renderTargetMap = this.renderTargetMap;
    const renderPasses = this.renderPasses;
    for (let i = 0; i < renderPasses.length; i++) {
      const renderPass = renderPasses[i];
      const renderTarget = renderPass.renderTarget;

      if (renderTarget !== undefined) {
        const prevPass = renderTargetMap.get(renderTarget);
        if (prevPass) {
          if (!renderPass.colorOps.clear) {
            prevPass.colorOps.store = true;
          }
          if (!renderPass.depthStencilOps.clearDepth) {
            prevPass.depthStencilOps.storeDepth = true;
          }
          if (!renderPass.depthStencilOps.clearStencil) {
            prevPass.depthStencilOps.storeStencil = true;
          }
        }

        renderTargetMap.set(renderTarget, renderPass);
      }
    }

    let lastCubeTexture = null;
    let lastCubeRenderPass = null;
    for (let i = 0; i < renderPasses.length; i++) {
      const renderPass = renderPasses[i];
      const renderTarget = renderPass.renderTarget;
      const thisTexture = renderTarget == null ? void 0 : renderTarget.colorBuffer;
      if (thisTexture != null && thisTexture.cubemap) {
        if (lastCubeTexture === thisTexture) {
          lastCubeRenderPass.colorOps.mipmaps = false;
        }
        lastCubeTexture = renderTarget.colorBuffer;
        lastCubeRenderPass = renderPass;
      } else if (renderPass.requiresCubemaps) {
        lastCubeTexture = null;
        lastCubeRenderPass = null;
      }
    }

    renderTargetMap.forEach((renderPass, renderTarget) => {
      if (renderTarget === null) {
        renderPass.colorOps.store = true;

        renderPass.colorOps.resolve = false;
        renderPass.colorOps.mipmaps = false;
      }
    });
    renderTargetMap.clear();
    this.log();
  }
  render() {
    this.compile();
    const renderPasses = this.renderPasses;
    for (let i = 0; i < renderPasses.length; i++) {
      renderPasses[i].render();
    }
  }
  log() {
    if (Tracing.get(TRACEID_RENDER_PASS) || Tracing.get(TRACEID_RENDER_PASS_DETAIL)) {
      this.renderPasses.forEach((renderPass, index) => {
        var _renderPass$renderTar, _renderPass$renderTar2, _renderPass$renderTar3;
        const rt = renderPass.renderTarget === undefined ? '' : ` RT: ${renderPass.renderTarget ? renderPass.renderTarget.name : 'NULL'} ` + `${(_renderPass$renderTar = renderPass.renderTarget) != null && _renderPass$renderTar.colorBuffer ? '[Color]' : ''}` + `${(_renderPass$renderTar2 = renderPass.renderTarget) != null && _renderPass$renderTar2.depth ? '[Depth]' : ''}` + `${(_renderPass$renderTar3 = renderPass.renderTarget) != null && _renderPass$renderTar3.stencil ? '[Stencil]' : ''}` + `${renderPass.samples > 0 ? ' samples: ' + renderPass.samples : ''}`;
        Debug.trace(TRACEID_RENDER_PASS, `${index.toString().padEnd(2, ' ')}: ${renderPass.name.padEnd(20, ' ')}` + rt.padEnd(30));
        if (renderPass.colorOps) {
          Debug.trace(TRACEID_RENDER_PASS_DETAIL, `    colorOps: ` + `${renderPass.colorOps.clear ? 'clear' : 'load'}->` + `${renderPass.colorOps.store ? 'store' : 'discard'} ` + `${renderPass.colorOps.resolve ? 'resolve ' : ''}` + `${renderPass.colorOps.mipmaps ? 'mipmaps ' : ''}`);
        }
        if (renderPass.depthStencilOps) {
          Debug.trace(TRACEID_RENDER_PASS_DETAIL, `    depthOps: ` + `${renderPass.depthStencilOps.clearDepth ? 'clear' : 'load'}->` + `${renderPass.depthStencilOps.storeDepth ? 'store' : 'discard'}`);
          Debug.trace(TRACEID_RENDER_PASS_DETAIL, `    stencOps: ` + `${renderPass.depthStencilOps.clearStencil ? 'clear' : 'load'}->` + `${renderPass.depthStencilOps.storeStencil ? 'store' : 'discard'}`);
        }
      });
    }
  }
}

export { FrameGraph };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWUtZ3JhcGguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zY2VuZS9mcmFtZS1ncmFwaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUUkFDRUlEX1JFTkRFUl9QQVNTLCBUUkFDRUlEX1JFTkRFUl9QQVNTX0RFVEFJTCB9IGZyb20gJy4uL2NvcmUvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IERlYnVnIH0gZnJvbSAnLi4vY29yZS9kZWJ1Zy5qcyc7XG5pbXBvcnQgeyBUcmFjaW5nIH0gZnJvbSAnLi4vY29yZS90cmFjaW5nLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3BsYXRmb3JtL2dyYXBoaWNzL3JlbmRlci1wYXNzLmpzJykuUmVuZGVyUGFzc30gUmVuZGVyUGFzcyAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3BsYXRmb3JtL2dyYXBoaWNzL3JlbmRlci10YXJnZXQuanMnKS5SZW5kZXJUYXJnZXR9IFJlbmRlclRhcmdldCAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3BsYXRmb3JtL2dyYXBoaWNzL3RleHR1cmUuanMnKS5UZXh0dXJlfSBUZXh0dXJlICovXG5cbi8qKlxuICogQSBmcmFtZSBncmFwaCByZXByZXNlbnRzIGEgc2luZ2xlIHJlbmRlcmluZyBmcmFtZSBhcyBhIHNlcXVlbmNlIG9mIHJlbmRlciBwYXNzZXMuXG4gKlxuICogQGlnbm9yZVxuICovXG5jbGFzcyBGcmFtZUdyYXBoIHtcbiAgICAvKiogQHR5cGUge1JlbmRlclBhc3NbXX0gKi9cbiAgICByZW5kZXJQYXNzZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIE1hcCB1c2VkIGR1cmluZyBmcmFtZSBncmFwaCBjb21waWxhdGlvbi4gSXQgbWFwcyBhIHJlbmRlciB0YXJnZXQgdG8gaXRzIHByZXZpb3VzIG9jY3VycmVuY2UuXG4gICAgICpcbiAgICAgKiAgQHR5cGUge01hcDxSZW5kZXJUYXJnZXQsIFJlbmRlclBhc3M+fVxuICAgICAqL1xuICAgIHJlbmRlclRhcmdldE1hcCA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHJlbmRlciBwYXNzIHRvIHRoZSBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVuZGVyUGFzc30gcmVuZGVyUGFzcyAtIFRoZSByZW5kZXIgcGFzcyB0byBhZGQuXG4gICAgICovXG4gICAgYWRkUmVuZGVyUGFzcyhyZW5kZXJQYXNzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyUGFzc2VzLnB1c2gocmVuZGVyUGFzcyk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyUGFzc2VzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgY29tcGlsZSgpIHtcblxuICAgICAgICBjb25zdCByZW5kZXJUYXJnZXRNYXAgPSB0aGlzLnJlbmRlclRhcmdldE1hcDtcbiAgICAgICAgY29uc3QgcmVuZGVyUGFzc2VzID0gdGhpcy5yZW5kZXJQYXNzZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyUGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJQYXNzID0gcmVuZGVyUGFzc2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gcmVuZGVyUGFzcy5yZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHVzaW5nIGEgdGFyZ2V0LCBvciBudWxsIHdoaWNoIHJlcHJlc2VudHMgdGhlIGRlZmF1bHQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgcGFzcyB1c2luZyB0aGUgc2FtZSByZW5kZXIgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlBhc3MgPSByZW5kZXJUYXJnZXRNYXAuZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZQYXNzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgdXNlIHRoZSBSVCB3aXRob3V0IGNsZWFyaW5nLCBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIHBhc3Mgc3RvcmVzIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW5kZXJQYXNzLmNvbG9yT3BzLmNsZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2UGFzcy5jb2xvck9wcy5zdG9yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhckRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2UGFzcy5kZXB0aFN0ZW5jaWxPcHMuc3RvcmVEZXB0aCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhclN0ZW5jaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZQYXNzLmRlcHRoU3RlbmNpbE9wcy5zdG9yZVN0ZW5jaWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwYXNzIHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgICByZW5kZXJUYXJnZXRNYXAuc2V0KHJlbmRlclRhcmdldCwgcmVuZGVyUGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXYWxrIG92ZXIgcmVuZGVyIHBhc3NlcyB0byBmaW5kIHBhc3NlcyByZW5kZXJpbmcgdG8gdGhlIHNhbWUgY3ViZW1hcCB0ZXh0dXJlLlxuICAgICAgICAvLyBJZiB0aG9zZSBwYXNzZXMgYXJlIHNlcGFyYXRlZCBvbmx5IGJ5IHBhc3NlcyBub3QgcmVxdWlyaW5nIGN1YmVtYXAgKHNoYWRvd3MgLi4pLFxuICAgICAgICAvLyB3ZSBza2lwIHRoZSBtaXBtYXAgZ2VuZXJhdGlvbiB0aWxsIHRoZSBsYXN0IHJlbmRlcmluZyB0byB0aGUgY3ViZW1hcCwgdG8gYXZvaWRcbiAgICAgICAgLy8gbWlwbWFwcyBiZWluZyBnZW5lcmF0ZWQgYWZ0ZXIgZWFjaCBmYWNlLlxuICAgICAgICAvKiogQHR5cGUge1RleHR1cmV9ICovXG4gICAgICAgIGxldCBsYXN0Q3ViZVRleHR1cmUgPSBudWxsO1xuICAgICAgICAvKiogQHR5cGUge1JlbmRlclBhc3N9ICovXG4gICAgICAgIGxldCBsYXN0Q3ViZVJlbmRlclBhc3MgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlclBhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyUGFzcyA9IHJlbmRlclBhc3Nlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlclBhc3MucmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgdGhpc1RleHR1cmUgPSByZW5kZXJUYXJnZXQ/LmNvbG9yQnVmZmVyO1xuXG4gICAgICAgICAgICBpZiAodGhpc1RleHR1cmU/LmN1YmVtYXApIHtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHByZXZpb3VzIHBhc3MgdXNlZCB0aGUgc2FtZSBjdWJlbWFwIHRleHR1cmUsIGl0IGRvZXMgbm90IG5lZWQgbWlwbWFwcyBnZW5lcmF0ZWRcbiAgICAgICAgICAgICAgICBpZiAobGFzdEN1YmVUZXh0dXJlID09PSB0aGlzVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Q3ViZVJlbmRlclBhc3MuY29sb3JPcHMubWlwbWFwcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhc3RDdWJlVGV4dHVyZSA9IHJlbmRlclRhcmdldC5jb2xvckJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBsYXN0Q3ViZVJlbmRlclBhc3MgPSByZW5kZXJQYXNzO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlbmRlclBhc3MucmVxdWlyZXNDdWJlbWFwcykge1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGN1YmVtYXAgaXMgcmVxdWlyZWQsIGJyZWFrIHRoZSBjdWJlbWFwIHJlbmRlcmluZyBjaGFpblxuICAgICAgICAgICAgICAgIGxhc3RDdWJlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGFzdEN1YmVSZW5kZXJQYXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSB3aGF0J3MgbGVmdCBpbiB0aGUgbWFwIC0gbGFzdCBwYXNzZXMgcmVuZGVyaW5nIHRvIGVhY2ggcmVuZGVyIHRhcmdldFxuICAgICAgICByZW5kZXJUYXJnZXRNYXAuZm9yRWFjaCgocmVuZGVyUGFzcywgcmVuZGVyVGFyZ2V0KSA9PiB7XG5cbiAgICAgICAgICAgIC8vIGRlZmF1bHQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIGlmIChyZW5kZXJUYXJnZXQgPT09IG51bGwpIHtcblxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBtdWx0aXNhbXBsZWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgcmVuZGVyUGFzcy5jb2xvck9wcy5zdG9yZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyBubyByZXNvbHZlLCBubyBtaXBtYXBzXG4gICAgICAgICAgICAgICAgcmVuZGVyUGFzcy5jb2xvck9wcy5yZXNvbHZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVuZGVyUGFzcy5jb2xvck9wcy5taXBtYXBzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlbmRlclRhcmdldE1hcC5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMubG9nKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIHRoaXMuY29tcGlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlclBhc3NlcyA9IHRoaXMucmVuZGVyUGFzc2VzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlclBhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVuZGVyUGFzc2VzW2ldLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9nKCkge1xuICAgICAgICAvLyAjaWYgX0RFQlVHXG4gICAgICAgIGlmIChUcmFjaW5nLmdldChUUkFDRUlEX1JFTkRFUl9QQVNTKSB8fCBUcmFjaW5nLmdldChUUkFDRUlEX1JFTkRFUl9QQVNTX0RFVEFJTCkpIHtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXNzZXMuZm9yRWFjaCgocmVuZGVyUGFzcywgaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJ0ID0gcmVuZGVyUGFzcy5yZW5kZXJUYXJnZXQgPT09IHVuZGVmaW5lZCA/ICcnIDogYCBSVDogJHsocmVuZGVyUGFzcy5yZW5kZXJUYXJnZXQgPyByZW5kZXJQYXNzLnJlbmRlclRhcmdldC5uYW1lIDogJ05VTEwnKX0gYCArXG4gICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MucmVuZGVyVGFyZ2V0Py5jb2xvckJ1ZmZlciA/ICdbQ29sb3JdJyA6ICcnfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLnJlbmRlclRhcmdldD8uZGVwdGggPyAnW0RlcHRoXScgOiAnJ31gICtcbiAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5yZW5kZXJUYXJnZXQ/LnN0ZW5jaWwgPyAnW1N0ZW5jaWxdJyA6ICcnfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHsocmVuZGVyUGFzcy5zYW1wbGVzID4gMCA/ICcgc2FtcGxlczogJyArIHJlbmRlclBhc3Muc2FtcGxlcyA6ICcnKX1gO1xuXG4gICAgICAgICAgICAgICAgRGVidWcudHJhY2UoVFJBQ0VJRF9SRU5ERVJfUEFTUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtpbmRleC50b1N0cmluZygpLnBhZEVuZCgyLCAnICcpfTogJHtyZW5kZXJQYXNzLm5hbWUucGFkRW5kKDIwLCAnICcpfWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ0LnBhZEVuZCgzMCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlclBhc3MuY29sb3JPcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgRGVidWcudHJhY2UoVFJBQ0VJRF9SRU5ERVJfUEFTU19ERVRBSUwsIGAgICAgY29sb3JPcHM6IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLmNvbG9yT3BzLmNsZWFyID8gJ2NsZWFyJyA6ICdsb2FkJ30tPmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLmNvbG9yT3BzLnN0b3JlID8gJ3N0b3JlJyA6ICdkaXNjYXJkJ30gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MuY29sb3JPcHMucmVzb2x2ZSA/ICdyZXNvbHZlICcgOiAnJ31gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5jb2xvck9wcy5taXBtYXBzID8gJ21pcG1hcHMgJyA6ICcnfWApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcykge1xuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy50cmFjZShUUkFDRUlEX1JFTkRFUl9QQVNTX0RFVEFJTCwgYCAgICBkZXB0aE9wczogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MuZGVwdGhTdGVuY2lsT3BzLmNsZWFyRGVwdGggPyAnY2xlYXInIDogJ2xvYWQnfS0+YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MuZGVwdGhTdGVuY2lsT3BzLnN0b3JlRGVwdGggPyAnc3RvcmUnIDogJ2Rpc2NhcmQnfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIERlYnVnLnRyYWNlKFRSQUNFSURfUkVOREVSX1BBU1NfREVUQUlMLCBgICAgIHN0ZW5jT3BzOiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5kZXB0aFN0ZW5jaWxPcHMuY2xlYXJTdGVuY2lsID8gJ2NsZWFyJyA6ICdsb2FkJ30tPmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5zdG9yZVN0ZW5jaWwgPyAnc3RvcmUnIDogJ2Rpc2NhcmQnfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vICNlbmRpZlxuICAgIH1cbn1cblxuZXhwb3J0IHsgRnJhbWVHcmFwaCB9O1xuIl0sIm5hbWVzIjpbIkZyYW1lR3JhcGgiLCJyZW5kZXJQYXNzZXMiLCJyZW5kZXJUYXJnZXRNYXAiLCJNYXAiLCJhZGRSZW5kZXJQYXNzIiwicmVuZGVyUGFzcyIsInB1c2giLCJyZXNldCIsImxlbmd0aCIsImNvbXBpbGUiLCJpIiwicmVuZGVyVGFyZ2V0IiwidW5kZWZpbmVkIiwicHJldlBhc3MiLCJnZXQiLCJjb2xvck9wcyIsImNsZWFyIiwic3RvcmUiLCJkZXB0aFN0ZW5jaWxPcHMiLCJjbGVhckRlcHRoIiwic3RvcmVEZXB0aCIsImNsZWFyU3RlbmNpbCIsInN0b3JlU3RlbmNpbCIsInNldCIsImxhc3RDdWJlVGV4dHVyZSIsImxhc3RDdWJlUmVuZGVyUGFzcyIsInRoaXNUZXh0dXJlIiwiY29sb3JCdWZmZXIiLCJjdWJlbWFwIiwibWlwbWFwcyIsInJlcXVpcmVzQ3ViZW1hcHMiLCJmb3JFYWNoIiwicmVzb2x2ZSIsImxvZyIsInJlbmRlciIsIlRyYWNpbmciLCJUUkFDRUlEX1JFTkRFUl9QQVNTIiwiVFJBQ0VJRF9SRU5ERVJfUEFTU19ERVRBSUwiLCJpbmRleCIsInJ0IiwibmFtZSIsImRlcHRoIiwic3RlbmNpbCIsInNhbXBsZXMiLCJEZWJ1ZyIsInRyYWNlIiwidG9TdHJpbmciLCJwYWRFbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQWFBLE1BQU1BLFVBQVUsQ0FBQztBQUFBLEVBQUEsV0FBQSxHQUFBO0lBQUEsSUFFYkMsQ0FBQUEsWUFBWSxHQUFHLEVBQUUsQ0FBQTtBQUFBLElBQUEsSUFBQSxDQU9qQkMsZUFBZSxHQUFHLElBQUlDLEdBQUcsRUFBRSxDQUFBO0FBQUEsR0FBQTtFQU8zQkMsYUFBYSxDQUFDQyxVQUFVLEVBQUU7QUFDdEIsSUFBQSxJQUFJLENBQUNKLFlBQVksQ0FBQ0ssSUFBSSxDQUFDRCxVQUFVLENBQUMsQ0FBQTtBQUN0QyxHQUFBO0FBRUFFLEVBQUFBLEtBQUssR0FBRztBQUNKLElBQUEsSUFBSSxDQUFDTixZQUFZLENBQUNPLE1BQU0sR0FBRyxDQUFDLENBQUE7QUFDaEMsR0FBQTtBQUVBQyxFQUFBQSxPQUFPLEdBQUc7QUFFTixJQUFBLE1BQU1QLGVBQWUsR0FBRyxJQUFJLENBQUNBLGVBQWUsQ0FBQTtBQUM1QyxJQUFBLE1BQU1ELFlBQVksR0FBRyxJQUFJLENBQUNBLFlBQVksQ0FBQTtBQUN0QyxJQUFBLEtBQUssSUFBSVMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHVCxZQUFZLENBQUNPLE1BQU0sRUFBRUUsQ0FBQyxFQUFFLEVBQUU7QUFDMUMsTUFBQSxNQUFNTCxVQUFVLEdBQUdKLFlBQVksQ0FBQ1MsQ0FBQyxDQUFDLENBQUE7QUFDbEMsTUFBQSxNQUFNQyxZQUFZLEdBQUdOLFVBQVUsQ0FBQ00sWUFBWSxDQUFBOztNQUc1QyxJQUFJQSxZQUFZLEtBQUtDLFNBQVMsRUFBRTtBQUc1QixRQUFBLE1BQU1DLFFBQVEsR0FBR1gsZUFBZSxDQUFDWSxHQUFHLENBQUNILFlBQVksQ0FBQyxDQUFBO0FBQ2xELFFB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
