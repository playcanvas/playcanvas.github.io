import { SEMANTIC_POSITION, SEMANTIC_ATTR12, SEMANTIC_ATTR13, SEMANTIC_ATTR14, SEMANTIC_ATTR15, SEMANTIC_NORMAL, SEMANTIC_TANGENT, SEMANTIC_COLOR, SEMANTIC_ATTR8, SEMANTIC_ATTR9, SEMANTIC_ATTR10, SEMANTIC_ATTR11, SEMANTIC_BLENDWEIGHT, SEMANTIC_BLENDINDICES, PIXELFORMAT_RGBA8, SHADERTAG_MATERIAL, SEMANTIC_TEXCOORD0, SEMANTIC_TEXCOORD1 } from '../../../platform/graphics/constants.js';
import { shaderChunks } from '../chunks/chunks.js';
import { ChunkUtils } from '../chunk-utils.js';
import { SPRITE_RENDERMODE_SLICED, SPRITE_RENDERMODE_TILED, LIGHTTYPE_SPOT, LIGHTSHAPE_SPHERE, LIGHTSHAPE_DISK, LIGHTSHAPE_RECT, SHADER_DEPTH, SHADOW_VSM32, SHADOW_PCF3, LIGHTTYPE_OMNI, SHADOW_VSM8, LIGHTTYPE_DIRECTIONAL, SHADOW_PCF5, SHADOW_PCF1, LIGHTSHAPE_PUNCTUAL, FRESNEL_SCHLICK, SPECOCC_GLOSSDEPENDENT, SPECOCC_AO, SHADOW_VSM16, SPECULAR_PHONG, shadowTypeToString, LIGHTFALLOFF_LINEAR, BLEND_NORMAL, BLEND_PREMULTIPLIED, BLEND_ADDITIVEALPHA, SHADER_PICK } from '../../constants.js';
import { LightsBuffer } from '../../lighting/lights-buffer.js';
import { ShaderPass } from '../../shader-pass.js';
import { skinCode, begin, end, gammaCode, tonemapCode, fogCode } from './common.js';
import { validateUserChunks } from '../chunks/chunk-validation.js';
import { ShaderUtils } from '../../../platform/graphics/shader-utils.js';
import { ChunkBuilder } from '../chunk-builder.js';

const builtinAttributes = {
  vertex_normal: SEMANTIC_NORMAL,
  vertex_tangent: SEMANTIC_TANGENT,
  vertex_texCoord0: SEMANTIC_TEXCOORD0,
  vertex_texCoord1: SEMANTIC_TEXCOORD1,
  vertex_color: SEMANTIC_COLOR,
  vertex_boneWeights: SEMANTIC_BLENDWEIGHT,
  vertex_boneIndices: SEMANTIC_BLENDINDICES
};
const builtinVaryings = {
  vVertexColor: "vec4",
  vPositionW: "vec3",
  vNormalV: "vec3",
  vNormalW: "vec3",
  vTangentW: "vec3",
  vBinormalW: "vec3",
  vObjectSpaceUpW: "vec3",
  vUv0: "vec2",
  vUv1: "vec2"
};
class LitShader {
  constructor(device, options) {
    /**
     * @param {import('../../../platform/graphics/graphics-device.js').GraphicsDevice} device - The
     * graphics device.
     * @param {import('../../../scene/materials/lit-options.js').LitOptions} options - The
     * lit options.
     * @ignore
     */
    this.device = device;
    this.options = options;

    // resolve custom chunk attributes
    this.attributes = {
      vertex_position: SEMANTIC_POSITION
    };
    if (options.chunks) {
      this.chunks = {};
      const userChunks = options.chunks;
      validateUserChunks(options.chunks);
      for (const chunkName in shaderChunks) {
        if (userChunks.hasOwnProperty(chunkName)) {
          const chunk = userChunks[chunkName];
          for (const a in builtinAttributes) {
            if (builtinAttributes.hasOwnProperty(a) && chunk.indexOf(a) >= 0) {
              this.attributes[a] = builtinAttributes[a];
            }
          }
          this.chunks[chunkName] = chunk;
        } else {
          this.chunks[chunkName] = shaderChunks[chunkName];
        }
      }
    } else {
      this.chunks = shaderChunks;
    }
    this.shaderPassInfo = ShaderPass.get(this.device).getByIndex(options.pass);
    this.shadowPass = this.shaderPassInfo.isShadow;
    this.lighting = options.lights.length > 0 || options.dirLightMapEnabled || options.clusteredLightingEnabled;
    this.reflections = !!options.reflectionSource;
    this.needsNormal = this.lighting || this.reflections || options.useSpecular || options.ambientSH || options.heightMapEnabled || options.enableGGXSpecular || options.clusteredLightingEnabled && !this.shadowPass || options.clearCoatNormalMapEnabled;
    this.needsNormal = this.needsNormal && !this.shadowPass;
    this.needsSceneColor = options.useDynamicRefraction;
    this.needsScreenSize = options.useDynamicRefraction;
    this.needsTransforms = options.useDynamicRefraction;

    // generated by vshader
    this.varyings = "";
    this.varyingDefines = "";
    this.vshader = null;

    // supplied by caller
    this.frontendDecl = null;
    this.frontendCode = null;
    this.frontendFunc = null;
    this.lightingUv = null;

    // defines set by the shader generation
    this.defines = [];

    // generated by fshader
    this.fshader = null;
  }
  _vsAddBaseCode(code, chunks, options) {
    code += chunks.baseVS;
    if (options.nineSlicedMode === SPRITE_RENDERMODE_SLICED || options.nineSlicedMode === SPRITE_RENDERMODE_TILED) {
      code += chunks.baseNineSlicedVS;
    }
    return code;
  }
  _vsAddTransformCode(code, device, chunks, options) {
    code += this.chunks.transformVS;
    return code;
  }
  _setMapTransform(codes, name, id, uv) {
    const checkId = id + uv * 100;
    if (!codes[3][checkId]) {
      // upload a 3x2 matrix and manually perform the multiplication
      const varName = `texture_${name}MapTransform`;
      codes[0] += `uniform vec3 ${varName}0;\n`;
      codes[0] += `uniform vec3 ${varName}1;\n`;
      codes[1] += `varying vec2 vUV${uv}_${id};\n`;
      codes[2] += `   vUV${uv}_${id} = vec2(dot(vec3(uv${uv}, 1), ${varName}0), dot(vec3(uv${uv}, 1), ${varName}1));\n`;
      codes[3][checkId] = true;
    }
    return codes;
  }

  // Add "Base" Code section to fragment shader.
  _fsGetBaseCode() {
    const options = this.options;
    const chunks = this.chunks;
    let result = this.chunks.basePS;
    if (options.nineSlicedMode === SPRITE_RENDERMODE_SLICED) {
      result += chunks.baseNineSlicedPS;
    } else if (options.nineSlicedMode === SPRITE_RENDERMODE_TILED) {
      result += chunks.baseNineSlicedTiledPS;
    }
    return result;
  }

  // Add "Start" Code section to fragment shader.
  _fsGetStartCode(code, device, chunks, options) {
    let result = chunks.startPS;
    if (options.nineSlicedMode === SPRITE_RENDERMODE_SLICED) {
      result += chunks.startNineSlicedPS;
    } else if (options.nineSlicedMode === SPRITE_RENDERMODE_TILED) {
      result += chunks.startNineSlicedTiledPS;
    }
    return result;
  }

  // handles directional map shadow coordinate generation, including cascaded shadows
  _directionalShadowMapProjection(light, shadowMatArg, shadowParamArg, lightArgs, lightIndex, coordsFunctionName) {
    // for shadow cascades
    let code = "";
    const lightParams = lightArgs ? ", " + lightArgs : "";
    let shadowCoordArgs = `(${shadowMatArg}, ${shadowParamArg}${lightParams});`;
    if (light.numCascades > 1) {
      // compute which cascade matrix needs to be used
      code += `getShadowCascadeMatrix(light${lightIndex}_shadowMatrixPalette, light${lightIndex}_shadowCascadeDistances, light${lightIndex}_shadowCascadeCount);\n`;
      shadowCoordArgs = `(cascadeShadowMat, ${shadowParamArg}${lightParams});\n`;
    }

    // shadow coordinate generation
    code += coordsFunctionName + shadowCoordArgs;

    // stop shadow at the far distance
    code += `fadeShadow(light${lightIndex}_shadowCascadeDistances);\n`;
    return code;
  }
  _nonPointShadowMapProjection(device, light, shadowMatArg, shadowParamArg, lightIndex) {
    const lightDirArgs = `dLightPosW, dLightDirW`;
    const lightDirNormArgs = `dLightPosW, dLightDirW, dLightDirNormW, dVertexNormalW`;
    const shadowCoordArgs = `(${shadowMatArg}, ${shadowParamArg});\n`;
    const shadowCoordNormArgs = `(${shadowMatArg}, ${shadowParamArg}, dVertexNormalW);\n`;
    const shadowCoordDirArgs = `(${shadowMatArg}, ${shadowParamArg}, ${lightDirArgs});\n`;
    const shadowCoordLightNormArgs = `(${shadowMatArg}, ${shadowParamArg}, ${lightDirNormArgs});\n`;
    if (!light._normalOffsetBias || light._isVsm) {
      if (light._type === LIGHTTYPE_SPOT) {
        if (light._isPcf && (device.webgl2 || device.extStandardDerivatives || device.isWebGPU)) {
          return "       getShadowCoordPerspZbuffer" + shadowCoordArgs;
        }
        return "       getShadowCoordPersp" + shadowCoordDirArgs;
      }
      return this._directionalShadowMapProjection(light, shadowMatArg, shadowParamArg, null, lightIndex, "getShadowCoordOrtho");
    }
    if (light._type === LIGHTTYPE_SPOT) {
      if (light._isPcf && (device.webgl2 || device.extStandardDerivatives || device.isWebGPU)) {
        return "       getShadowCoordPerspZbufferNormalOffset" + shadowCoordNormArgs;
      }
      return "       getShadowCoordPerspNormalOffset" + shadowCoordLightNormArgs;
    }
    return this._directionalShadowMapProjection(light, shadowMatArg, shadowParamArg, lightDirNormArgs, lightIndex, "getShadowCoordOrthoNormalOffset");
  }
  _getLightSourceShapeString(shape) {
    switch (shape) {
      case LIGHTSHAPE_RECT:
        return 'Rect';
      case LIGHTSHAPE_DISK:
        return 'Disk';
      case LIGHTSHAPE_SPHERE:
        return 'Sphere';
      default:
        return '';
    }
  }
  generateVertexShader(useUv, useUnmodifiedUv, mapTransforms) {
    const device = this.device;
    const options = this.options;
    const chunks = this.chunks;
    let code = '';
    let codeBody = '';

    // code += chunks.baseVS;
    code = this._vsAddBaseCode(code, chunks, options);
    codeBody += "   vPositionW    = getWorldPosition();\n";
    if (this.options.pass === SHADER_DEPTH) {
      code += 'varying float vDepth;\n';
      code += '#ifndef VIEWMATRIX\n';
      code += '#define VIEWMATRIX\n';
      code += 'uniform mat4 matrix_view;\n';
      code += '#endif\n';
      code += '#ifndef CAMERAPLANES\n';
      code += '#define CAMERAPLANES\n';
      code += 'uniform vec4 camera_params;\n\n';
      code += '#endif\n';
      codeBody += "    vDepth = -(matrix_view * vec4(vPositionW,1.0)).z * camera_params.x;\n";
    }
    if (this.options.useInstancing) {
      this.attributes.instance_line1 = SEMANTIC_ATTR12;
      this.attributes.instance_line2 = SEMANTIC_ATTR13;
      this.attributes.instance_line3 = SEMANTIC_ATTR14;
      this.attributes.instance_line4 = SEMANTIC_ATTR15;
      code += chunks.instancingVS;
    }
    if (this.needsNormal) {
      this.attributes.vertex_normal = SEMANTIC_NORMAL;
      codeBody += "   vNormalW = getNormal();\n";
      if (options.reflectionSource === 'sphereMap' && device.fragmentUniformsCount <= 16) {
        code += chunks.viewNormalVS;
        codeBody += "   vNormalV    = getViewNormal();\n";
      }
      if (options.hasTangents && (options.heightMapEnabled || options.normalMapEnabled || options.enableGGXSpecular)) {
        this.attributes.vertex_tangent = SEMANTIC_TANGENT;
        code += chunks.tangentBinormalVS;
        codeBody += "   vTangentW   = getTangent();\n";
        codeBody += "   vBinormalW  = getBinormal();\n";
      } else if (options.enableGGXSpecular || !device.extStandardDerivatives) {
        codeBody += "   vObjectSpaceUpW = normalize(dNormalMatrix * vec3(0, 1, 0));\n";
      }
    }
    const maxUvSets = 2;
    for (let i = 0; i < maxUvSets; i++) {
      if (useUv[i]) {
        this.attributes["vertex_texCoord" + i] = "TEXCOORD" + i;
        code += chunks["uv" + i + "VS"];
        codeBody += "   vec2 uv" + i + " = getUv" + i + "();\n";
      }
      if (useUnmodifiedUv[i]) {
        codeBody += "   vUv" + i + " = uv" + i + ";\n";
      }
    }
    const codes = [code, this.varyings, codeBody, []];
    mapTransforms.forEach(mapTransform => {
      this._setMapTransform(codes, mapTransform.name, mapTransform.id, mapTransform.uv);
    });
    code = codes[0];
    this.varyings = codes[1];
    codeBody = codes[2];
    if (options.vertexColors) {
      this.attributes.vertex_color = SEMANTIC_COLOR;
      codeBody += "   vVertexColor = vertex_color;\n";
    }
    if (options.useMsdf && options.msdfTextAttribute) {
      this.attributes.vertex_outlineParameters = SEMANTIC_ATTR8;
      this.attributes.vertex_shadowParameters = SEMANTIC_ATTR9;
      codeBody += "    unpackMsdfParams();\n";
      code += chunks.msdfVS;
    }

    // morphing
    if (options.useMorphPosition || options.useMorphNormal) {
      if (options.useMorphTextureBased) {
        code += "#define MORPHING_TEXTURE_BASED\n";
        if (options.useMorphPosition) {
          code += "#define MORPHING_TEXTURE_BASED_POSITION\n";
        }
        if (options.useMorphNormal) {
          code += "#define MORPHING_TEXTURE_BASED_NORMAL\n";
        }

        // vertex ids attributes
        this.attributes.morph_vertex_id = SEMANTIC_ATTR15;
        code += "attribute float morph_vertex_id;\n";
      } else {
        // set up 8 slots for morphing. these are supported combinations: PPPPPPPP, NNNNNNNN, PPPPNNNN
        code += "#define MORPHING\n";

        // first 4 slots are either position or normal
        if (options.useMorphPosition) {
          this.attributes.morph_pos0 = SEMANTIC_ATTR8;
          this.attributes.morph_pos1 = SEMANTIC_ATTR9;
          this.attributes.morph_pos2 = SEMANTIC_ATTR10;
          this.attributes.morph_pos3 = SEMANTIC_ATTR11;
          code += "#define MORPHING_POS03\n";
          code += "attribute vec3 morph_pos0;\n";
          code += "attribute vec3 morph_pos1;\n";
          code += "attribute vec3 morph_pos2;\n";
          code += "attribute vec3 morph_pos3;\n";
        } else if (options.useMorphNormal) {
          this.attributes.morph_nrm0 = SEMANTIC_ATTR8;
          this.attributes.morph_nrm1 = SEMANTIC_ATTR9;
          this.attributes.morph_nrm2 = SEMANTIC_ATTR10;
          this.attributes.morph_nrm3 = SEMANTIC_ATTR11;
          code += "#define MORPHING_NRM03\n";
          code += "attribute vec3 morph_nrm0;\n";
          code += "attribute vec3 morph_nrm1;\n";
          code += "attribute vec3 morph_nrm2;\n";
          code += "attribute vec3 morph_nrm3;\n";
        }

        // next 4 slots are either position or normal
        if (!options.useMorphNormal) {
          this.attributes.morph_pos4 = SEMANTIC_ATTR12;
          this.attributes.morph_pos5 = SEMANTIC_ATTR13;
          this.attributes.morph_pos6 = SEMANTIC_ATTR14;
          this.attributes.morph_pos7 = SEMANTIC_ATTR15;
          code += "#define MORPHING_POS47\n";
          code += "attribute vec3 morph_pos4;\n";
          code += "attribute vec3 morph_pos5;\n";
          code += "attribute vec3 morph_pos6;\n";
          code += "attribute vec3 morph_pos7;\n";
        } else {
          this.attributes.morph_nrm4 = SEMANTIC_ATTR12;
          this.attributes.morph_nrm5 = SEMANTIC_ATTR13;
          this.attributes.morph_nrm6 = SEMANTIC_ATTR14;
          this.attributes.morph_nrm7 = SEMANTIC_ATTR15;
          code += "#define MORPHING_NRM47\n";
          code += "attribute vec3 morph_nrm4;\n";
          code += "attribute vec3 morph_nrm5;\n";
          code += "attribute vec3 morph_nrm6;\n";
          code += "attribute vec3 morph_nrm7;\n";
        }
      }
    }
    if (options.skin) {
      this.attributes.vertex_boneWeights = SEMANTIC_BLENDWEIGHT;
      this.attributes.vertex_boneIndices = SEMANTIC_BLENDINDICES;
      code += skinCode(device, chunks);
      code += "#define SKIN\n";
    } else if (options.useInstancing) {
      code += "#define INSTANCING\n";
    }
    if (options.screenSpace) {
      code += "#define SCREENSPACE\n";
    }
    if (options.pixelSnap) {
      code += "#define PIXELSNAP\n";
    }
    code = this._vsAddTransformCode(code, device, chunks, options);
    if (this.needsNormal) {
      code += chunks.normalVS;
    }
    code += "\n";
    code += chunks.startVS;
    code += codeBody;
    code += chunks.endVS;
    code += "}";

    // build varyings
    Object.keys(builtinVaryings).forEach(v => {
      if (code.indexOf(v) >= 0) {
        this.varyings += `varying ${builtinVaryings[v]} ${v};\n`;
        this.varyingDefines += `#define VARYING_${v.toUpperCase()}\n`;
      }
    });
    const shaderPassDefines = this.shaderPassInfo.shaderDefines;
    this.vshader = shaderPassDefines + this.varyings + code;
  }
  _fsGetBeginCode() {
    let code = this.shaderPassInfo.shaderDefines;
    for (let i = 0; i < this.defines.length; i++) {
      code += `#define ${this.defines[i]}\n`;
    }
    return code;
  }
  _fsGetPickPassCode() {
    let code = this._fsGetBeginCode();
    code += "uniform vec4 uColor;\n";
    code += this.varyings;
    code += this.varyingDefines;
    code += this.frontendDecl;
    code += this.frontendCode;
    code += begin();
    code += this.frontendFunc;
    code += "    gl_FragColor = uColor;\n";
    code += end();
    return code;
  }
  _fsGetDepthPassCode() {
    const chunks = this.chunks;
    let code = this._fsGetBeginCode();
    code += 'varying float vDepth;\n';
    code += this.varyings;
    code += this.varyingDefines;
    code += chunks.packDepthPS;
    code += this.frontendDecl;
    code += this.frontendCode;
    code += begin();
    code += this.frontendFunc;
    code += "    gl_FragColor = packFloat(vDepth);\n";
    code += end();
    return code;
  }
  _fsGetShadowPassCode() {
    const device = this.device;
    const options = this.options;
    const chunks = this.chunks;
    const varyings = this.varyings;
    const lightType = this.shaderPassInfo.lightType;
    const shadowType = this.shaderPassInfo.shadowType;
    let code = this._fsGetBeginCode();
    if (device.extStandardDerivatives && !device.webgl2 && !device.isWebGPU) {
      code += 'uniform vec2 polygonOffset;\n';
    }
    if (shadowType === SHADOW_VSM32) {
      if (device.textureFloatHighPrecision) {
        code += '#define VSM_EXPONENT 15.0\n\n';
      } else {
        code += '#define VSM_EXPONENT 5.54\n\n';
      }
    } else if (shadowType === SHADOW_VSM16) {
      code += '#define VSM_EXPONENT 5.54\n\n';
    }
    if (lightType !== LIGHTTYPE_DIRECTIONAL) {
      code += 'uniform vec3 view_position;\n';
      code += 'uniform float light_radius;\n';
    }
    code += varyings;
    code += this.varyingDefines;
    code += this.frontendDecl;
    code += this.frontendCode;
    if (shadowType === SHADOW_PCF3 && (!device.webgl2 || !device.isWebGPU || lightType === LIGHTTYPE_OMNI)) {
      code += chunks.packDepthPS;
    } else if (shadowType === SHADOW_VSM8) {
      code += "vec2 encodeFloatRG( float v ) {\n";
      code += "    vec2 enc = vec2(1.0, 255.0) * v;\n";
      code += "    enc = fract(enc);\n";
      code += "    enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n";
      code += "    return enc;\n";
      code += "}\n\n";
    }
    code += begin();
    code += this.frontendFunc;
    const isVsm = shadowType === SHADOW_VSM8 || shadowType === SHADOW_VSM16 || shadowType === SHADOW_VSM32;
    const applySlopeScaleBias = !device.webgl2 && device.extStandardDerivatives && !device.isWebGPU;
    if (lightType === LIGHTTYPE_OMNI || isVsm && lightType !== LIGHTTYPE_DIRECTIONAL) {
      code += "    float depth = min(distance(view_position, vPositionW) / light_radius, 0.99999);\n";
    } else {
      code += "    float depth = gl_FragCoord.z;\n";
    }
    if (applySlopeScaleBias) {
      code += "    float minValue = 2.3374370500153186e-10; //(1.0 / 255.0) / (256.0 * 256.0 * 256.0);\n";
      code += "    depth += polygonOffset.x * max(abs(dFdx(depth)), abs(dFdy(depth))) + minValue * polygonOffset.y;\n";
    }
    const pcfOmniShadows = device.webgl2 || device.isWebGPU;
    if (shadowType === SHADOW_PCF3 && (!pcfOmniShadows || lightType === LIGHTTYPE_OMNI && !options.clusteredLightingEnabled)) {
      code += "    gl_FragColor = packFloat(depth);\n";
    } else if (shadowType === SHADOW_PCF3 || shadowType === SHADOW_PCF5 || shadowType === SHADOW_PCF1) {
      code += "    gl_FragColor = vec4(1.0);\n"; // just the simplest code, color is not written anyway

      // clustered omni light is using shadow sampler and needs to write custom depth
      if (options.clusteredLightingEnabled && lightType === LIGHTTYPE_OMNI && pcfOmniShadows) {
        code += "    gl_FragDepth = depth;\n";
      }
    } else if (shadowType === SHADOW_VSM8) {
      code += "    gl_FragColor = vec4(encodeFloatRG(depth), encodeFloatRG(depth*depth));\n";
    } else {
      code += chunks.storeEVSMPS;
    }
    code += end();
    return code;
  }

  // the big one
  _fsGetLitPassCode() {
    const device = this.device;
    const options = this.options;
    const chunks = this.chunks;
    const decl = new ChunkBuilder();
    const func = new ChunkBuilder();
    const backend = new ChunkBuilder();
    const code = new ChunkBuilder();
    if (options.opacityFadesSpecular === false) {
      decl.append('uniform float material_alphaFade;');
    }
    if (options.useSpecular) {
      this.defines.push("LIT_SPECULAR");
      if (this.reflections) {
        this.defines.push("LIT_REFLECTIONS");
      }
      if (options.useClearCoat) {
        this.defines.push("LIT_CLEARCOAT");
      }
      if (options.fresnelModel > 0) {
        this.defines.push("LIT_SPECULAR_FRESNEL");
      }

      // enable conserve energy path in clustered chunk
      if (options.conserveEnergy) {
        this.defines.push("LIT_CONSERVE_ENERGY");
      }
      if (options.useSheen) {
        this.defines.push("LIT_SHEEN");
      }
      if (options.useIridescence) {
        this.defines.push("LIT_IRIDESCENCE");
      }
    }

    // FRAGMENT SHADER INPUTS: UNIFORMS
    const shadowTypeUsed = [];
    let numShadowLights = 0;
    let shadowedDirectionalLightUsed = false;
    let useVsm = false;
    let usePerspZbufferShadow = false;
    let hasAreaLights = options.lights.some(function (light) {
      return light._shape && light._shape !== LIGHTSHAPE_PUNCTUAL;
    });

    // if clustered lighting has area lights enabled, it always runs in 'area lights mode'
    // TODO: maybe we should always use it and remove the other way?
    if (options.clusteredLightingEnabled && options.clusteredLightingAreaLightsEnabled) {
      hasAreaLights = true;
    }
    let areaLutsPrecision = 'highp';
    if (device.areaLightLutFormat === PIXELFORMAT_RGBA8) {
      // use offset and scale for rgb8 format luts
      decl.append("#define AREA_R8_G8_B8_A8_LUTS");
      areaLutsPrecision = 'lowp';
    }
    if (hasAreaLights || options.clusteredLightingEnabled) {
      decl.append("#define AREA_LIGHTS");
      decl.append(`uniform ${areaLutsPrecision} sampler2D areaLightsLutTex1;`);
      decl.append(`uniform ${areaLutsPrecision} sampler2D areaLightsLutTex2;`);
    }
    for (let i = 0; i < options.lights.length; i++) {
      const light = options.lights[i];
      const lightType = light._type;

      // skip uniform generation for local lights if clustered lighting is enabled
      if (options.clusteredLightingEnabled && lightType !== LIGHTTYPE_DIRECTIONAL) continue;
      const lightShape = hasAreaLights && light._shape ? light._shape : LIGHTSHAPE_PUNCTUAL;
      decl.append("uniform vec3 light" + i + "_color;");
      if (lightType === LIGHTTYPE_DIRECTIONAL) {
        decl.append("uniform vec3 light" + i + "_direction;");
      } else {
        decl.append("uniform vec3 light" + i + "_position;");
        decl.append("uniform float light" + i + "_radius;");
        if (lightType === LIGHTTYPE_SPOT) {
          decl.append("uniform vec3 light" + i + "_direction;");
          decl.append("uniform float light" + i + "_innerConeAngle;");
          decl.append("uniform float light" + i + "_outerConeAngle;");
        }
      }
      if (lightShape !== LIGHTSHAPE_PUNCTUAL) {
        if (lightType === LIGHTTYPE_DIRECTIONAL) {
          decl.append("uniform vec3 light" + i + "_position;");
        }
        decl.append("uniform vec3 light" + i + "_halfWidth;");
        decl.append("uniform vec3 light" + i + "_halfHeight;");
      }
      if (light.castShadows && !options.noShadow) {
        decl.append("uniform mat4 light" + i + "_shadowMatrix;");
        decl.append("uniform float light" + i + "_shadowIntensity;");

        // directional (cascaded) shadows
        if (lightType === LIGHTTYPE_DIRECTIONAL) {
          decl.append("uniform mat4 light" + i + "_shadowMatrixPalette[4];");
          decl.append("uniform float light" + i + "_shadowCascadeDistances[4];");
          decl.append("uniform float light" + i + "_shadowCascadeCount;");
        }
        if (lightType !== LIGHTTYPE_DIRECTIONAL) {
          decl.append("uniform vec4 light" + i + "_shadowParams;"); // Width, height, bias, radius
        } else {
          shadowedDirectionalLightUsed = true;
          decl.append("uniform vec3 light" + i + "_shadowParams;"); // Width, height, bias
        }

        if (lightType === LIGHTTYPE_OMNI) {
          decl.append("uniform samplerCube light" + i + "_shadowMap;");
        } else {
          if (light._isPcf && device.supportsDepthShadow) {
            decl.append("uniform sampler2DShadow light" + i + "_shadowMap;");
          } else {
            decl.append("uniform sampler2D light" + i + "_shadowMap;");
          }
        }
        numShadowLights++;
        shadowTypeUsed[light._shadowType] = true;
        if (light._isVsm) useVsm = true;
        if (light._isPcf && (device.supportsDepthShadow || device.extStandardDerivatives) && lightType === LIGHTTYPE_SPOT) usePerspZbufferShadow = true;
      }
      if (light._cookie) {
        if (light._cookie._cubemap) {
          if (lightType === LIGHTTYPE_OMNI) {
            decl.append("uniform samplerCube light" + i + "_cookie;");
            decl.append("uniform float light" + i + "_cookieIntensity;");
            if (!light.castShadows || options.noShadow) {
              decl.append("uniform mat4 light" + i + "_shadowMatrix;");
            }
          }
        } else {
          if (lightType === LIGHTTYPE_SPOT) {
            decl.append("uniform sampler2D light" + i + "_cookie;");
            decl.append("uniform float light" + i + "_cookieIntensity;");
            if (!light.castShadows || options.noShadow) {
              decl.append("uniform mat4 light" + i + "_shadowMatrix;");
            }
            if (light._cookieTransform) {
              decl.append("uniform vec4 light" + i + "_cookieMatrix;");
              decl.append("uniform vec2 light" + i + "_cookieOffset;");
            }
          }
        }
      }
    }

    // TBN
    const hasTBN = this.needsNormal && (options.normalMapEnabled || options.clearCoatNormalMapEnabled || options.enableGGXSpecular && !options.heightMapEnabled);
    if (hasTBN) {
      if (options.hasTangents) {
        func.append(options.fastTbn ? chunks.TBNfastPS : chunks.TBNPS);
      } else {
        if (device.extStandardDerivatives && (options.normalMapEnabled || options.clearCoatNormalMapEnabled)) {
          func.append(chunks.TBNderivativePS.replace(/\$UV/g, this.lightingUv));
        } else {
          func.append(chunks.TBNObjectSpacePS);
        }
      }
    }

    // FIXME: only add these when needed
    func.append(chunks.sphericalPS);
    func.append(chunks.decodePS);
    func.append(gammaCode(options.gamma, chunks));
    func.append(tonemapCode(options.toneMap, chunks));
    func.append(fogCode(options.fog, chunks));

    // frontend
    func.append(this.frontendCode);
    if (options.useCubeMapRotation) {
      decl.append("#define CUBEMAP_ROTATION");
    }
    if (this.needsNormal) {
      func.append(chunks.cubeMapRotatePS);
      func.append(options.cubeMapProjection > 0 ? chunks.cubeMapProjectBoxPS : chunks.cubeMapProjectNonePS);
      func.append(options.skyboxIntensity ? chunks.envMultiplyPS : chunks.envConstPS);
    }
    if (this.lighting && options.useSpecular || this.reflections) {
      if (options.useMetalness) {
        func.append(chunks.metalnessModulatePS);
      }
      if (options.fresnelModel === FRESNEL_SCHLICK) {
        func.append(chunks.fresnelSchlickPS);
      }
      if (options.useIridescence) {
        func.append(chunks.iridescenceDiffractionPS);
      }
    }
    const useAo = options.aoMapEnabled || options.useAoVertexColors;
    if (useAo) {
      func.append(chunks.aoDiffuseOccPS);
      switch (options.occludeSpecular) {
        case SPECOCC_AO:
          func.append(options.occludeSpecularFloat ? chunks.aoSpecOccSimplePS : chunks.aoSpecOccConstSimplePS);
          break;
        case SPECOCC_GLOSSDEPENDENT:
          func.append(options.occludeSpecularFloat ? chunks.aoSpecOccPS : chunks.aoSpecOccConstPS);
          break;
      }
    }
    if (options.reflectionSource === 'envAtlasHQ') {
      func.append(options.fixSeams ? chunks.fixCubemapSeamsStretchPS : chunks.fixCubemapSeamsNonePS);
      func.append(chunks.envAtlasPS);
      func.append(chunks.reflectionEnvHQPS.replace(/\$DECODE/g, ChunkUtils.decodeFunc(options.reflectionEncoding)));
    } else if (options.reflectionSource === 'envAtlas') {
      func.append(chunks.envAtlasPS);
      func.append(chunks.reflectionEnvPS.replace(/\$DECODE/g, ChunkUtils.decodeFunc(options.reflectionEncoding)));
    } else if (options.reflectionSource === 'cubeMap') {
      func.append(options.fixSeams ? chunks.fixCubemapSeamsStretchPS : chunks.fixCubemapSeamsNonePS);
      func.append(chunks.reflectionCubePS.replace(/\$DECODE/g, ChunkUtils.decodeFunc(options.reflectionEncoding)));
    } else if (options.reflectionSource === 'sphereMap') {
      const scode = device.fragmentUniformsCount > 16 ? chunks.reflectionSpherePS : chunks.reflectionSphereLowPS;
      func.append(scode.replace(/\$DECODE/g, ChunkUtils.decodeFunc(options.reflectionEncoding)));
    }
    if (this.reflections) {
      if (options.useClearCoat) {
        func.append(chunks.reflectionCCPS);
      }
      if (options.useSheen) {
        func.append(chunks.reflectionSheenPS);
      }
    }
    if (options.useRefraction) {
      if (options.useDynamicRefraction) {
        func.append(chunks.refractionDynamicPS);
      } else if (this.reflections) {
        func.append(chunks.refractionCubePS);
      }
    }
    if (options.useSheen) {
      func.append(chunks.lightSheenPS);
    }

    // clustered lighting
    if (options.clusteredLightingEnabled) {
      // include this before shadow / cookie code
      func.append(chunks.clusteredLightUtilsPS);
      if (options.clusteredLightingCookiesEnabled) func.append(chunks.clusteredLightCookiesPS);

      // include shadow chunks clustered lights support
      if (options.clusteredLightingShadowsEnabled && !options.noShadow) {
        shadowTypeUsed[SHADOW_PCF3] = true;
        shadowTypeUsed[SHADOW_PCF5] = true;
      }
      usePerspZbufferShadow = true;
    }
    if (numShadowLights > 0 || options.clusteredLightingEnabled) {
      if (shadowedDirectionalLightUsed) {
        func.append(chunks.shadowCascadesPS);
      }
      if (shadowTypeUsed[SHADOW_PCF3]) {
        func.append(chunks.shadowStandardPS);
      }
      if (shadowTypeUsed[SHADOW_PCF5] && (device.webgl2 || device.isWebGPU)) {
        func.append(chunks.shadowStandardGL2PS);
      }
      if (useVsm) {
        func.append(chunks.shadowVSM_commonPS);
        if (shadowTypeUsed[SHADOW_VSM8]) {
          func.append(chunks.shadowVSM8PS);
        }
        if (shadowTypeUsed[SHADOW_VSM16]) {
          func.append(device.extTextureHalfFloatLinear ? chunks.shadowEVSMPS.replace(/\$/g, "16") : chunks.shadowEVSMnPS.replace(/\$/g, "16"));
        }
        if (shadowTypeUsed[SHADOW_VSM32]) {
          func.append(device.extTextureFloatLinear ? chunks.shadowEVSMPS.replace(/\$/g, "32") : chunks.shadowEVSMnPS.replace(/\$/g, "32"));
        }
      }
      if (!(device.webgl2 || device.extStandardDerivatives || device.isWebGPU)) {
        func.append(chunks.biasConstPS);
      }

      // otherwise bias is applied on render
      func.append(chunks.shadowCoordPS + chunks.shadowCommonPS);
      if (usePerspZbufferShadow) {
        func.append(chunks.shadowCoordPerspZbufferPS);
      }
    }
    if (options.enableGGXSpecular) func.append("uniform float material_anisotropy;");
    if (this.lighting) {
      func.append(chunks.lightDiffuseLambertPS);
      if (hasAreaLights || options.clusteredLightingAreaLightsEnabled) {
        func.append(chunks.ltcPS);
      }
    }
    let useOldAmbient = false;
    if (options.useSpecular) {
      if (this.lighting) {
        func.append(options.shadingModel === SPECULAR_PHONG ? chunks.lightSpecularPhongPS : options.enableGGXSpecular ? chunks.lightSpecularAnisoGGXPS : chunks.lightSpecularBlinnPS);
      }
      if (!options.fresnelModel && !this.reflections && !options.diffuseMapEnabled) {
        decl.append("uniform vec3 material_ambient;");
        decl.append("#define LIT_OLD_AMBIENT");
        useOldAmbient = true;
      }
    }
    func.append(chunks.combinePS);

    // lightmap support
    if (options.lightMapEnabled || options.useLightMapVertexColors) {
      func.append(options.useSpecular && options.dirLightMapEnabled ? chunks.lightmapDirAddPS : chunks.lightmapAddPS);
    }
    const addAmbient = !options.lightMapEnabled && !options.useLightMapVertexColors || options.lightMapWithoutAmbient;
    if (addAmbient) {
      if (options.ambientSource === 'ambientSH') {
        func.append(chunks.ambientSHPS);
      } else if (options.ambientSource === 'envAtlas') {
        if (options.reflectionSource !== 'envAtlas' && options.reflectionSource !== 'envAtlasHQ') {
          func.append(chunks.envAtlasPS);
        }
        func.append(chunks.ambientEnvPS.replace(/\$DECODE/g, ChunkUtils.decodeFunc(options.ambientEncoding)));
      } else {
        func.append(chunks.ambientConstantPS);
      }
    }
    if (options.useAmbientTint && !useOldAmbient) {
      decl.append("uniform vec3 material_ambient;");
    }
    if (options.useMsdf) {
      if (!options.msdfTextAttribute) {
        decl.append("#define UNIFORM_TEXT_PARAMETERS");
      }
      func.append(chunks.msdfPS);
    }
    if (this.needsNormal) {
      func.append(chunks.viewDirPS);
      if (options.useSpecular) {
        func.append(options.enableGGXSpecular ? chunks.reflDirAnisoPS : chunks.reflDirPS);
      }
    }
    let hasPointLights = false;
    let usesLinearFalloff = false;
    let usesInvSquaredFalloff = false;
    let usesSpot = false;
    let usesCookie = false;
    let usesCookieNow;

    // clustered lighting
    if (options.clusteredLightingEnabled && this.lighting) {
      usesSpot = true;
      hasPointLights = true;
      usesLinearFalloff = true;
      usesCookie = true;
      func.append(chunks.floatUnpackingPS);
      if (options.lightMaskDynamic) decl.append("#define CLUSTER_MESH_DYNAMIC_LIGHTS");
      if (options.clusteredLightingCookiesEnabled) decl.append("#define CLUSTER_COOKIES");
      if (options.clusteredLightingShadowsEnabled && !options.noShadow) {
        decl.append("#define CLUSTER_SHADOWS");
        decl.append("#define CLUSTER_SHADOW_TYPE_" + shadowTypeToString[options.clusteredLightingShadowType]);
      }
      if (options.clusteredLightingAreaLightsEnabled) decl.append("#define CLUSTER_AREALIGHTS");
      decl.append(LightsBuffer.shaderDefines);
      if (options.clusteredLightingShadowsEnabled && !options.noShadow) {
        func.append(chunks.clusteredLightShadowsPS);
      }
      func.append(chunks.clusteredLightPS);
    }
    if (options.twoSidedLighting) {
      decl.append("uniform float twoSidedLightingNegScaleFactor;");
    }

    // FRAGMENT SHADER BODY

    code.append(this._fsGetStartCode(code, device, chunks, options));
    if (this.needsNormal) {
      if (options.twoSidedLighting) {
        code.append("    dVertexNormalW = normalize(gl_FrontFacing ? vNormalW * twoSidedLightingNegScaleFactor : -vNormalW * twoSidedLightingNegScaleFactor);");
      } else {
        code.append("    dVertexNormalW = normalize(vNormalW);");
      }
      if ((options.heightMapEnabled || options.normalMapEnabled) && options.hasTangents) {
        if (options.twoSidedLighting) {
          code.append("    dTangentW = gl_FrontFacing ? vTangentW * twoSidedLightingNegScaleFactor : -vTangentW * twoSidedLightingNegScaleFactor;");
          code.append("    dBinormalW = gl_FrontFacing ? vBinormalW * twoSidedLightingNegScaleFactor : -vBinormalW * twoSidedLightingNegScaleFactor;");
        } else {
          code.append("    dTangentW = vTangentW;");
          code.append("    dBinormalW = vBinormalW;");
        }
      }
      code.append("    getViewDir();");
      if (hasTBN) {
        code.append("    getTBN(dTangentW, dBinormalW, dVertexNormalW);");
      }
    }

    // invoke frontend functions
    code.append(this.frontendFunc);

    // transform tangent space normals to world space
    if (this.needsNormal) {
      if (options.useSpecular) {
        backend.append("    getReflDir(litShaderArgs.worldNormal, dViewDirW, litShaderArgs.gloss, dTBN);");
      }
      if (options.useClearCoat) {
        backend.append("    ccReflDirW = normalize(-reflect(dViewDirW, litShaderArgs.clearcoat.worldNormal));");
      }
    }
    if (this.lighting && options.useSpecular || this.reflections) {
      if (options.useMetalness) {
        backend.append("    getMetalnessModulate(litShaderArgs);");
      }
      if (options.useIridescence) {
        backend.append("    vec3 iridescenceFresnel = getIridescence(saturate(dot(dViewDirW, litShaderArgs.worldNormal)), litShaderArgs.specularity, litShaderArgs.iridescence);");
      }
    }
    if (addAmbient) {
      backend.append("    addAmbient(litShaderArgs.worldNormal);");
      if (options.conserveEnergy && options.useSpecular) {
        backend.append(`   dDiffuseLight = dDiffuseLight * (1.0 - litShaderArgs.specularity);`);
      }

      // move ambient color out of diffuse (used by Lightmapper, to multiply ambient color by accumulated AO)
      if (options.separateAmbient) {
        backend.append(`
                    vec3 dAmbientLight = dDiffuseLight;
                    dDiffuseLight = vec3(0);
                `);
      }
    }
    if (options.useAmbientTint && !useOldAmbient) {
      backend.append("    dDiffuseLight *= material_ambient;");
    }
    if (useAo && !options.occludeDirect) {
      backend.append("    occludeDiffuse(litShaderArgs.ao);");
    }
    if (options.lightMapEnabled || options.useLightMapVertexColors) {
      backend.append(`    addLightMap(
                litShaderArgs.lightmap, 
                litShaderArgs.lightmapDir, 
                litShaderArgs.worldNormal, 
                dViewDirW, 
                dReflDirW, 
                litShaderArgs.gloss, 
                litShaderArgs.specularity, 
                dVertexNormalW,
                dTBN
            #if defined(LIT_IRIDESCENCE)
                , iridescenceFresnel,
                litShaderArgs.iridescence
            #endif
                );`);
    }
    if (this.lighting || this.reflections) {
      if (this.reflections) {
        if (options.useClearCoat) {
          backend.append("    addReflectionCC(ccReflDirW, litShaderArgs.clearcoat.gloss);");
          if (options.fresnelModel > 0) {
            backend.append("    ccFresnel = getFresnelCC(dot(dViewDirW, litShaderArgs.clearcoat.worldNormal));");
            backend.append("    ccReflection.rgb *= ccFresnel;");
          } else {
            backend.append("    ccFresnel = 0.0;");
          }
        }
        if (options.useSpecularityFactor) {
          backend.append("    ccReflection.rgb *= litShaderArgs.specularityFactor;");
        }
        if (options.useSheen) {
          backend.append("    addReflectionSheen(litShaderArgs.worldNormal, dViewDirW, litShaderArgs.sheen.gloss);");
        }

        // Fresnel has to be applied to reflections
        backend.append("    addReflection(dReflDirW, litShaderArgs.gloss);");
        if (options.fresnelModel > 0) {
          backend.append(`    dReflection.rgb *= 
                        getFresnel(
                            dot(dViewDirW, litShaderArgs.worldNormal), 
                            litShaderArgs.gloss, 
                            litShaderArgs.specularity
                        #if defined(LIT_IRIDESCENCE)
                            , iridescenceFresnel,
                            litShaderArgs.iridescence
                        #endif
                            );`);
        } else {
          backend.append("    dReflection.rgb *= litShaderArgs.specularity;");
        }
        if (options.useSpecularityFactor) {
          backend.append("    dReflection.rgb *= litShaderArgs.specularityFactor;");
        }
      }
      if (hasAreaLights) {
        // specular has to be accumulated differently if we want area lights to look correct
        backend.append("    dSpecularLight *= litShaderArgs.specularity;");
        // code += "    float roughness = max((1.0 - dGlossiness) * (1.0 - dGlossiness), 0.001);\n";

        // evaluate material based area lights data, shared by all area lights
        if (options.useSpecular) {
          backend.append("    calcLTCLightValues(litShaderArgs.gloss, litShaderArgs.worldNormal, dViewDirW, litShaderArgs.specularity, litShaderArgs.clearcoat.gloss, litShaderArgs.clearcoat.worldNormal, litShaderArgs.clearcoat.specularity);");
        }
      }
      for (let i = 0; i < options.lights.length; i++) {
        const light = options.lights[i];
        const lightType = light._type;

        // if clustered lights are used, skip normal lights other than directional
        if (options.clusteredLightingEnabled && lightType !== LIGHTTYPE_DIRECTIONAL) {
          continue;
        }

        // The following code is not decoupled to separate shader files, because most of it can be actually changed to achieve different behaviors like:
        // - different falloffs
        // - different shadow coords (omni shadows will use drastically different genShadowCoord)
        // - different shadow filter modes
        // - different light source shapes

        // getLightDiffuse and getLightSpecular is BRDF itself.

        usesCookieNow = false;
        const lightShape = hasAreaLights && light._shape ? light.shape : LIGHTSHAPE_PUNCTUAL;
        const shapeString = hasAreaLights && light._shape ? this._getLightSourceShapeString(lightShape) : '';
        if (lightShape !== LIGHTSHAPE_PUNCTUAL) {
          backend.append("    calc" + shapeString + "LightValues(light" + i + "_position, light" + i + "_halfWidth, light" + i + "_halfHeight);");
        }
        if (lightType === LIGHTTYPE_DIRECTIONAL) {
          // directional
          backend.append("    dLightDirNormW = light" + i + "_direction;");
          backend.append("    dAtten = 1.0;");
        } else {
          if (light._cookie) {
            if (lightType === LIGHTTYPE_SPOT && !light._cookie._cubemap) {
              usesCookie = true;
              usesCookieNow = true;
            } else if (lightType === LIGHTTYPE_OMNI && light._cookie._cubemap) {
              usesCookie = true;
              usesCookieNow = true;
            }
          }
          backend.append("    getLightDirPoint(light" + i + "_position);");
          hasPointLights = true;
          if (usesCookieNow) {
            if (lightType === LIGHTTYPE_SPOT) {
              backend.append("    dAtten3 = getCookie2D" + (light._cookieFalloff ? "" : "Clip") + (light._cookieTransform ? "Xform" : "") + "(light" + i + "_cookie, light" + i + "_shadowMatrix, light" + i + "_cookieIntensity" + (light._cookieTransform ? ", light" + i + "_cookieMatrix, light" + i + "_cookieOffset" : "") + ")." + light._cookieChannel + ";");
            } else {
              backend.append("    dAtten3 = getCookieCube(light" + i + "_cookie, light" + i + "_shadowMatrix, light" + i + "_cookieIntensity)." + light._cookieChannel + ";");
            }
          }
          if (lightShape === LIGHTSHAPE_PUNCTUAL) {
            if (light._falloffMode === LIGHTFALLOFF_LINEAR) {
              backend.append("    dAtten = getFalloffLinear(light" + i + "_radius, dLightDirW);");
              usesLinearFalloff = true;
            } else {
              backend.append("    dAtten = getFalloffInvSquared(light" + i + "_radius, dLightDirW);");
              usesInvSquaredFalloff = true;
            }
          } else {
            // non punctual lights only gets the range window here
            backend.append("    dAtten = getFalloffWindow(light" + i + "_radius, dLightDirW);");
            usesInvSquaredFalloff = true;
          }
          backend.append("    if (dAtten > 0.00001) {"); // BRANCH START

          if (lightType === LIGHTTYPE_SPOT) {
            if (!(usesCookieNow && !light._cookieFalloff)) {
              backend.append("    dAtten *= getSpotEffect(light" + i + "_direction, light" + i + "_innerConeAngle, light" + i + "_outerConeAngle, dLightDirNormW);");
              usesSpot = true;
            }
          }
        }

        // diffuse lighting - LTC lights do not mix diffuse lighting into attenuation that affects specular
        if (lightShape !== LIGHTSHAPE_PUNCTUAL) {
          if (lightType === LIGHTTYPE_DIRECTIONAL) {
            // NB: A better aproximation perhaps using wrap lighting could be implemented here
            backend.append("    dAttenD = getLightDiffuse(litShaderArgs.worldNormal, dViewDirW, dLightDirW, dLightDirNormW);");
          } else {
            // 16.0 is a constant that is in getFalloffInvSquared()
            backend.append("    dAttenD = get" + shapeString + "LightDiffuse(litShaderArgs.worldNormal, dViewDirW, dLightDirW, dLightDirNormW) * 16.0;");
          }
        } else {
          backend.append("    dAtten *= getLightDiffuse(litShaderArgs.worldNormal, dViewDirW, dLightDirW, dLightDirNormW);");
        }
        if (light.castShadows && !options.noShadow) {
          let shadowReadMode = null;
          let evsmExp;
          if (light._shadowType === SHADOW_VSM8) {
            shadowReadMode = "VSM8";
            evsmExp = "0.0";
          } else if (light._shadowType === SHADOW_VSM16) {
            shadowReadMode = "VSM16";
            evsmExp = "5.54";
          } else if (light._shadowType === SHADOW_VSM32) {
            shadowReadMode = "VSM32";
            if (device.textureFloatHighPrecision) {
              evsmExp = "15.0";
            } else {
              evsmExp = "5.54";
            }
          } else if (light._shadowType === SHADOW_PCF5) {
            shadowReadMode = "PCF5x5";
          } else {
            shadowReadMode = "PCF3x3";
          }
          if (shadowReadMode !== null) {
            if (lightType === LIGHTTYPE_OMNI) {
              const shadowCoordArgs = "(light" + i + "_shadowMap, dShadowCoord, light" + i + "_shadowParams, dLightDirW);";
              if (light._normalOffsetBias) {
                backend.append("    normalOffsetPointShadow(light" + i + "_shadowParams, dLightPosW, dLightDirW, dLightDirNormW, dVertexNormalW);");
              }
              backend.append(`    float shadow${i} = getShadowPoint${shadowReadMode}${shadowCoordArgs}`);
              backend.append(`    dAtten *= mix(1.0, shadow${i}, light${i}_shadowIntensity);`);
            } else {
              const shadowMatArg = `light${i}_shadowMatrix`;
              const shadowParamArg = `light${i}_shadowParams`;
              backend.append(this._nonPointShadowMapProjection(device, options.lights[i], shadowMatArg, shadowParamArg, i));
              if (lightType === LIGHTTYPE_SPOT) shadowReadMode = "Spot" + shadowReadMode;
              backend.append(`    float shadow${i} = getShadow${shadowReadMode}(SHADOWMAP_PASS(light${i}_shadowMap), dShadowCoord, light${i}_shadowParams${light._isVsm ? ", " + evsmExp + ", dLightDirW" : ""});`);
              backend.append(`    dAtten *= mix(1.0, shadow${i}, light${i}_shadowIntensity);`);
            }
          }
        }
        if (lightShape !== LIGHTSHAPE_PUNCTUAL) {
          // area light - they do not mix diffuse lighting into specular attenuation
          if (options.conserveEnergy && options.useSpecular) {
            backend.append("    dDiffuseLight += ((dAttenD * dAtten) * light" + i + "_color" + (usesCookieNow ? " * dAtten3" : "") + ") * (1.0 - dLTCSpecFres);");
          } else {
            backend.append("    dDiffuseLight += (dAttenD * dAtten) * light" + i + "_color" + (usesCookieNow ? " * dAtten3" : "") + ";");
          }
        } else {
          // punctual light
          if (hasAreaLights && options.conserveEnergy && options.useSpecular) {
            backend.append("    dDiffuseLight += (dAtten * light" + i + "_color" + (usesCookieNow ? " * dAtten3" : "") + ") * (1.0 - litShaderArgs.specularity);");
          } else {
            backend.append("    dDiffuseLight += dAtten * light" + i + "_color" + (usesCookieNow ? " * dAtten3" : "") + ";");
          }
        }
        if (options.useSpecular) {
          backend.append("    dHalfDirW = normalize(-dLightDirNormW + dViewDirW);");
        }

        // specular / clear coat
        if (lightShape !== LIGHTSHAPE_PUNCTUAL) {
          // area light
          if (options.useClearCoat) {
            backend.append(`    ccSpecularLight += ccLTCSpecFres * get${shapeString}LightSpecular(litShaderArgs.clearcoat.worldNormal, dViewDirW) * dAtten * light${i}_color` + (usesCookieNow ? " * dAtten3" : "") + ";");
          }
          if (options.useSpecular) {
            backend.append(`    dSpecularLight += dLTCSpecFres * get${shapeString}LightSpecular(litShaderArgs.worldNormal, dViewDirW) * dAtten * light${i}_color` + (usesCookieNow ? " * dAtten3" : "") + ";");
          }
        } else {
          var calcFresnel = false;
          if (lightType === LIGHTTYPE_DIRECTIONAL && options.fresnelModel > 0) {
            calcFresnel = true;
          }

          // if LTC lights are present, specular must be accumulated with specularity (specularity is pre multiplied by punctual light fresnel)
          if (options.useClearCoat) {
            backend.append(`    ccSpecularLight += getLightSpecular(dHalfDirW, ccReflDirW, litShaderArgs.clearcoat.worldNormal, dViewDirW, dLightDirNormW, litShaderArgs.clearcoat.gloss, dTBN) * dAtten * light${i}_color` + (usesCookieNow ? " * dAtten3" : "") + (calcFresnel ? " * getFresnelCC(dot(dViewDirW, dHalfDirW));" : ";"));
          }
          if (options.useSheen) {
            backend.append(`    sSpecularLight += getLightSpecularSheen(dHalfDirW, litShaderArgs.worldNormal, dViewDirW, dLightDirNormW, litShaderArgs.sheen.gloss) * dAtten * light${i}_color` + (usesCookieNow ? " * dAtten3;" : ";"));
          }
          if (options.useSpecular) {
            backend.append(`    dSpecularLight += getLightSpecular(dHalfDirW, dReflDirW, litShaderArgs.worldNormal, dViewDirW, dLightDirNormW, litShaderArgs.gloss, dTBN) * dAtten * light${i}_color` + (usesCookieNow ? " * dAtten3" : "") + (calcFresnel ? ` 
                                * getFresnel(
                                    dot(dViewDirW, dHalfDirW), 
                                    litShaderArgs.gloss, 
                                    litShaderArgs.specularity
                                #if defined(LIT_IRIDESCENCE)
                                    , iridescenceFresnel, 
                                    litShaderArgs.iridescence
                                #endif
                                );` : `* litShaderArgs.specularity;`));
          }
        }
        if (lightType !== LIGHTTYPE_DIRECTIONAL) {
          backend.append("    }"); // BRANCH END
        }
      }

      // clustered lighting
      if (options.clusteredLightingEnabled && this.lighting) {
        usesLinearFalloff = true;
        usesInvSquaredFalloff = true;
        hasPointLights = true;
        backend.append(`    addClusteredLights(
                                        litShaderArgs.worldNormal, 
                                        dViewDirW, 
                                        dReflDirW,
                                #if defined(LIT_CLEARCOAT)
                                        ccReflDirW,
                                #endif
                                        litShaderArgs.gloss, 
                                        litShaderArgs.specularity, 
                                        dVertexNormalW, 
                                        dTBN, 
                                #if defined(LIT_IRIDESCENCE)
                                        iridescenceFresnel,
                                #endif
                                        litShaderArgs.clearcoat, 
                                        litShaderArgs.sheen, 
                                        litShaderArgs.iridescence
                                    );`);
      }
      if (hasAreaLights) {
        // specular has to be accumulated differently if we want area lights to look correct
        if (options.useClearCoat) {
          backend.append("    litShaderArgs.clearcoat.specularity = 1.0;");
        }
        if (options.useSpecular) {
          backend.append("    litShaderArgs.specularity = vec3(1);");
        }
      }
      if (options.useRefraction) {
        backend.append(`    addRefraction(
                        litShaderArgs.worldNormal, 
                        dViewDirW, 
                        litShaderArgs.thickness, 
                        litShaderArgs.gloss, 
                        litShaderArgs.specularity, 
                        litShaderArgs.albedo, 
                        litShaderArgs.transmission
                    #if defined(LIT_IRIDESCENCE)
                        , iridescenceFresnel, 
                        litShaderArgs.iridescence
                    #endif
                    );`);
      }
    }
    if (useAo) {
      if (options.occludeDirect) {
        backend.append("    occludeDiffuse(litShaderArgs.ao);");
      }
      if (options.occludeSpecular === SPECOCC_AO || options.occludeSpecular === SPECOCC_GLOSSDEPENDENT) {
        backend.append("    occludeSpecular(litShaderArgs.gloss, litShaderArgs.ao, litShaderArgs.worldNormal, dViewDirW);");
      }
    }
    if (options.useSpecularityFactor) {
      backend.append("    dSpecularLight *= litShaderArgs.specularityFactor;");
    }
    if (options.opacityFadesSpecular === false) {
      if (options.blendType === BLEND_NORMAL || options.blendType === BLEND_PREMULTIPLIED) {
        backend.append("float specLum = dot((dSpecularLight + dReflection.rgb * dReflection.a), vec3( 0.2126, 0.7152, 0.0722 ));");
        backend.append("#ifdef LIT_CLEARCOAT\n specLum += dot(ccSpecularLight * litShaderArgs.clearcoat.specularity + ccReflection.rgb * litShaderArgs.clearcoat.specularity, vec3( 0.2126, 0.7152, 0.0722 ));\n#endif");
        backend.append("litShaderArgs.opacity = clamp(litShaderArgs.opacity + gammaCorrectInput(specLum), 0.0, 1.0);");
      }
      backend.append("litShaderArgs.opacity *= material_alphaFade;");
    }
    backend.append(chunks.endPS);
    if (options.blendType === BLEND_NORMAL || options.blendType === BLEND_ADDITIVEALPHA || options.alphaToCoverage) {
      backend.append(chunks.outputAlphaPS);
    } else if (options.blendType === BLEND_PREMULTIPLIED) {
      backend.append(chunks.outputAlphaPremulPS);
    } else {
      backend.append(chunks.outputAlphaOpaquePS);
    }
    if (options.useMsdf) {
      backend.append("    gl_FragColor = applyMsdf(gl_FragColor);");
    }
    backend.append(chunks.debugOutputPS);
    if (hasPointLights) {
      func.prepend(chunks.lightDirPointPS);
    }
    if (usesLinearFalloff) {
      func.prepend(chunks.falloffLinearPS);
    }
    if (usesInvSquaredFalloff) {
      func.prepend(chunks.falloffInvSquaredPS);
    }
    if (usesSpot) {
      func.prepend(chunks.spotPS);
    }
    if (usesCookie && !options.clusteredLightingEnabled) {
      // non-clustered lights cookie code
      func.prepend(chunks.cookiePS);
    }
    let structCode = "";
    const backendCode = `void evaluateBackend(LitShaderArguments litShaderArgs) {\n${backend.code}\n}`;
    func.append(backendCode);
    code.append(chunks.debugProcessFrontendPS);
    code.append("    evaluateBackend(litShaderArgs);");
    code.append(end());
    const mergedCode = decl.code + func.code + code.code;

    // Light inputs
    if (mergedCode.includes("dTBN")) structCode += "mat3 dTBN;\n";
    if (mergedCode.includes("dVertexNormalW")) structCode += "vec3 dVertexNormalW;\n";
    if (mergedCode.includes("dTangentW")) structCode += "vec3 dTangentW;\n";
    if (mergedCode.includes("dBinormalW")) structCode += "vec3 dBinormalW;\n";
    if (mergedCode.includes("dViewDirW")) structCode += "vec3 dViewDirW;\n";
    if (mergedCode.includes("dReflDirW")) structCode += "vec3 dReflDirW;\n";
    if (mergedCode.includes("dHalfDirW")) structCode += "vec3 dHalfDirW;\n";
    if (mergedCode.includes("ccReflDirW")) structCode += "vec3 ccReflDirW;\n";

    // Per-light temporaries
    if (mergedCode.includes("dLightDirNormW")) structCode += "vec3 dLightDirNormW;\n";
    if (mergedCode.includes("dLightDirW")) structCode += "vec3 dLightDirW;\n";
    if (mergedCode.includes("dLightPosW")) structCode += "vec3 dLightPosW;\n";
    if (mergedCode.includes("dShadowCoord")) structCode += "vec3 dShadowCoord;\n";

    // Outputs
    if (mergedCode.includes("dReflection")) structCode += "vec4 dReflection;\n";
    if (mergedCode.includes("dDiffuseLight")) structCode += "vec3 dDiffuseLight;\n";
    if (mergedCode.includes("dSpecularLight")) structCode += "vec3 dSpecularLight;\n";
    if (mergedCode.includes("dAtten")) structCode += "float dAtten;\n";
    if (mergedCode.includes("dAttenD")) structCode += "float dAttenD;\n"; // separate diffuse attenuation for non-punctual light sources
    if (mergedCode.includes("dAtten3")) structCode += "vec3 dAtten3;\n";
    if (mergedCode.includes("dMsdf")) structCode += "vec4 dMsdf;\n";
    if (mergedCode.includes("ccFresnel")) structCode += "float ccFresnel;\n";
    if (mergedCode.includes("ccReflection")) structCode += "vec3 ccReflection;\n";
    if (mergedCode.includes("ccSpecularLight")) structCode += "vec3 ccSpecularLight;\n";
    if (mergedCode.includes("ccSpecularityNoFres")) structCode += "float ccSpecularityNoFres;\n";
    if (mergedCode.includes("sSpecularLight")) structCode += "vec3 sSpecularLight;\n";
    if (mergedCode.includes("sReflection")) structCode += "vec3 sReflection;\n";
    const result = this._fsGetBeginCode() + this.varyings + this.varyingDefines + this._fsGetBaseCode() + (options.detailModes ? chunks.detailModesPS : "") + structCode + this.frontendDecl + mergedCode;
    return result;
  }
  generateFragmentShader(frontendDecl, frontendCode, frontendFunc, lightingUv) {
    const options = this.options;
    this.frontendDecl = frontendDecl;
    this.frontendCode = frontendCode;
    this.frontendFunc = frontendFunc;
    this.lightingUv = lightingUv;
    if (options.pass === SHADER_PICK) {
      this.fshader = this._fsGetPickPassCode();
    } else if (options.pass === SHADER_DEPTH) {
      this.fshader = this._fsGetDepthPassCode();
    } else if (this.shadowPass) {
      this.fshader = this._fsGetShadowPassCode();
    } else if (options.customFragmentShader) {
      this.fshader = this._fsGetBeginCode() + options.customFragmentShader;
    } else {
      this.fshader = this._fsGetLitPassCode();
    }
  }
  getDefinition() {
    const definition = ShaderUtils.createDefinition(this.device, {
      name: 'LitShader',
      attributes: this.attributes,
      vertexCode: this.vshader,
      fragmentCode: this.fshader
    });
    if (this.options.isForwardPass) {
      definition.tag = SHADERTAG_MATERIAL;
    }
    return definition;
  }
}

export { LitShader };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl0LXNoYWRlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3NjZW5lL3NoYWRlci1saWIvcHJvZ3JhbXMvbGl0LXNoYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIFNFTUFOVElDX0FUVFI4LCBTRU1BTlRJQ19BVFRSOSwgU0VNQU5USUNfQVRUUjEwLCBTRU1BTlRJQ19BVFRSMTEsIFNFTUFOVElDX0FUVFIxMiwgU0VNQU5USUNfQVRUUjEzLCBTRU1BTlRJQ19BVFRSMTQsIFNFTUFOVElDX0FUVFIxNSxcbiAgICBTRU1BTlRJQ19CTEVORElORElDRVMsIFNFTUFOVElDX0JMRU5EV0VJR0hULCBTRU1BTlRJQ19DT0xPUiwgU0VNQU5USUNfTk9STUFMLCBTRU1BTlRJQ19QT1NJVElPTiwgU0VNQU5USUNfVEFOR0VOVCxcbiAgICBTRU1BTlRJQ19URVhDT09SRDAsIFNFTUFOVElDX1RFWENPT1JEMSxcbiAgICBTSEFERVJUQUdfTUFURVJJQUwsXG4gICAgUElYRUxGT1JNQVRfUkdCQThcbn0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHNoYWRlckNodW5rcyB9IGZyb20gJy4uL2NodW5rcy9jaHVua3MuanMnO1xuaW1wb3J0IHsgQ2h1bmtVdGlscyB9IGZyb20gJy4uL2NodW5rLXV0aWxzLmpzJztcblxuaW1wb3J0IHtcbiAgICBCTEVORF9BRERJVElWRUFMUEhBLCBCTEVORF9OT1JNQUwsIEJMRU5EX1BSRU1VTFRJUExJRUQsXG4gICAgRlJFU05FTF9TQ0hMSUNLLFxuICAgIExJR0hURkFMTE9GRl9MSU5FQVIsXG4gICAgTElHSFRTSEFQRV9QVU5DVFVBTCwgTElHSFRTSEFQRV9SRUNULCBMSUdIVFNIQVBFX0RJU0ssIExJR0hUU0hBUEVfU1BIRVJFLFxuICAgIExJR0hUVFlQRV9ESVJFQ1RJT05BTCwgTElHSFRUWVBFX09NTkksIExJR0hUVFlQRV9TUE9ULFxuICAgIFNIQURFUl9ERVBUSCwgU0hBREVSX1BJQ0ssXG4gICAgU0hBRE9XX1BDRjEsIFNIQURPV19QQ0YzLCBTSEFET1dfUENGNSwgU0hBRE9XX1ZTTTgsIFNIQURPV19WU00xNiwgU0hBRE9XX1ZTTTMyLFxuICAgIFNQRUNPQ0NfQU8sIFNQRUNPQ0NfR0xPU1NERVBFTkRFTlQsXG4gICAgU1BFQ1VMQVJfUEhPTkcsXG4gICAgU1BSSVRFX1JFTkRFUk1PREVfU0xJQ0VELCBTUFJJVEVfUkVOREVSTU9ERV9USUxFRCwgc2hhZG93VHlwZVRvU3RyaW5nXG59IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBMaWdodHNCdWZmZXIgfSBmcm9tICcuLi8uLi9saWdodGluZy9saWdodHMtYnVmZmVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICcuLi8uLi9zaGFkZXItcGFzcy5qcyc7XG5cbmltcG9ydCB7IGJlZ2luLCBlbmQsIGZvZ0NvZGUsIGdhbW1hQ29kZSwgc2tpbkNvZGUsIHRvbmVtYXBDb2RlIH0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVVc2VyQ2h1bmtzIH0gZnJvbSAnLi4vY2h1bmtzL2NodW5rLXZhbGlkYXRpb24uanMnO1xuaW1wb3J0IHsgU2hhZGVyVXRpbHMgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9zaGFkZXItdXRpbHMuanMnO1xuaW1wb3J0IHsgQ2h1bmtCdWlsZGVyIH0gZnJvbSAnLi4vY2h1bmstYnVpbGRlci5qcyc7XG5cbmNvbnN0IGJ1aWx0aW5BdHRyaWJ1dGVzID0ge1xuICAgIHZlcnRleF9ub3JtYWw6IFNFTUFOVElDX05PUk1BTCxcbiAgICB2ZXJ0ZXhfdGFuZ2VudDogU0VNQU5USUNfVEFOR0VOVCxcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQwOiBTRU1BTlRJQ19URVhDT09SRDAsXG4gICAgdmVydGV4X3RleENvb3JkMTogU0VNQU5USUNfVEVYQ09PUkQxLFxuICAgIHZlcnRleF9jb2xvcjogU0VNQU5USUNfQ09MT1IsXG4gICAgdmVydGV4X2JvbmVXZWlnaHRzOiBTRU1BTlRJQ19CTEVORFdFSUdIVCxcbiAgICB2ZXJ0ZXhfYm9uZUluZGljZXM6IFNFTUFOVElDX0JMRU5ESU5ESUNFU1xufTtcblxuY29uc3QgYnVpbHRpblZhcnlpbmdzID0ge1xuICAgIHZWZXJ0ZXhDb2xvcjogXCJ2ZWM0XCIsXG4gICAgdlBvc2l0aW9uVzogXCJ2ZWMzXCIsXG4gICAgdk5vcm1hbFY6IFwidmVjM1wiLFxuICAgIHZOb3JtYWxXOiBcInZlYzNcIixcbiAgICB2VGFuZ2VudFc6IFwidmVjM1wiLFxuICAgIHZCaW5vcm1hbFc6IFwidmVjM1wiLFxuICAgIHZPYmplY3RTcGFjZVVwVzogXCJ2ZWMzXCIsXG4gICAgdlV2MDogXCJ2ZWMyXCIsXG4gICAgdlV2MTogXCJ2ZWMyXCJcbn07XG5cbmNsYXNzIExpdFNoYWRlciB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlLCBvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvZ3JhcGhpY3MtZGV2aWNlLmpzJykuR3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZVxuICAgICAgICAgKiBncmFwaGljcyBkZXZpY2UuXG4gICAgICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi8uLi8uLi9zY2VuZS9tYXRlcmlhbHMvbGl0LW9wdGlvbnMuanMnKS5MaXRPcHRpb25zfSBvcHRpb25zIC0gVGhlXG4gICAgICAgICAqIGxpdCBvcHRpb25zLlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICAvLyByZXNvbHZlIGN1c3RvbSBjaHVuayBhdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHtcbiAgICAgICAgICAgIHZlcnRleF9wb3NpdGlvbjogU0VNQU5USUNfUE9TSVRJT05cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jaHVua3MpIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzID0ge307XG5cbiAgICAgICAgICAgIGNvbnN0IHVzZXJDaHVua3MgPSBvcHRpb25zLmNodW5rcztcblxuICAgICAgICAgICAgLy8gI2lmIF9ERUJVR1xuICAgICAgICAgICAgdmFsaWRhdGVVc2VyQ2h1bmtzKG9wdGlvbnMuY2h1bmtzKTtcbiAgICAgICAgICAgIC8vICNlbmRpZlxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNodW5rTmFtZSBpbiBzaGFkZXJDaHVua3MpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlckNodW5rcy5oYXNPd25Qcm9wZXJ0eShjaHVua05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gdXNlckNodW5rc1tjaHVua05hbWVdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGEgaW4gYnVpbHRpbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWlsdGluQXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhKSAmJiBjaHVuay5pbmRleE9mKGEpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbYV0gPSBidWlsdGluQXR0cmlidXRlc1thXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNodW5rc1tjaHVua05hbWVdID0gY2h1bms7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVua3NbY2h1bmtOYW1lXSA9IHNoYWRlckNodW5rc1tjaHVua05hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzID0gc2hhZGVyQ2h1bmtzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXJQYXNzSW5mbyA9IFNoYWRlclBhc3MuZ2V0KHRoaXMuZGV2aWNlKS5nZXRCeUluZGV4KG9wdGlvbnMucGFzcyk7XG4gICAgICAgIHRoaXMuc2hhZG93UGFzcyA9IHRoaXMuc2hhZGVyUGFzc0luZm8uaXNTaGFkb3c7XG5cbiAgICAgICAgdGhpcy5saWdodGluZyA9IChvcHRpb25zLmxpZ2h0cy5sZW5ndGggPiAwKSB8fCBvcHRpb25zLmRpckxpZ2h0TWFwRW5hYmxlZCB8fCBvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZDtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9ucyA9ICEhb3B0aW9ucy5yZWZsZWN0aW9uU291cmNlO1xuICAgICAgICB0aGlzLm5lZWRzTm9ybWFsID0gdGhpcy5saWdodGluZyB8fCB0aGlzLnJlZmxlY3Rpb25zIHx8IG9wdGlvbnMudXNlU3BlY3VsYXIgfHwgb3B0aW9ucy5hbWJpZW50U0ggfHwgb3B0aW9ucy5oZWlnaHRNYXBFbmFibGVkIHx8IG9wdGlvbnMuZW5hYmxlR0dYU3BlY3VsYXIgfHxcbiAgICAgICAgICAgIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCAmJiAhdGhpcy5zaGFkb3dQYXNzKSB8fCBvcHRpb25zLmNsZWFyQ29hdE5vcm1hbE1hcEVuYWJsZWQ7XG4gICAgICAgIHRoaXMubmVlZHNOb3JtYWwgPSB0aGlzLm5lZWRzTm9ybWFsICYmICF0aGlzLnNoYWRvd1Bhc3M7XG4gICAgICAgIHRoaXMubmVlZHNTY2VuZUNvbG9yID0gb3B0aW9ucy51c2VEeW5hbWljUmVmcmFjdGlvbjtcbiAgICAgICAgdGhpcy5uZWVkc1NjcmVlblNpemUgPSBvcHRpb25zLnVzZUR5bmFtaWNSZWZyYWN0aW9uO1xuICAgICAgICB0aGlzLm5lZWRzVHJhbnNmb3JtcyA9IG9wdGlvbnMudXNlRHluYW1pY1JlZnJhY3Rpb247XG5cbiAgICAgICAgLy8gZ2VuZXJhdGVkIGJ5IHZzaGFkZXJcbiAgICAgICAgdGhpcy52YXJ5aW5ncyA9IFwiXCI7XG4gICAgICAgIHRoaXMudmFyeWluZ0RlZmluZXMgPSBcIlwiO1xuICAgICAgICB0aGlzLnZzaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIHN1cHBsaWVkIGJ5IGNhbGxlclxuICAgICAgICB0aGlzLmZyb250ZW5kRGVjbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZnJvbnRlbmRDb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcm9udGVuZEZ1bmMgPSBudWxsO1xuICAgICAgICB0aGlzLmxpZ2h0aW5nVXYgPSBudWxsO1xuXG4gICAgICAgIC8vIGRlZmluZXMgc2V0IGJ5IHRoZSBzaGFkZXIgZ2VuZXJhdGlvblxuICAgICAgICB0aGlzLmRlZmluZXMgPSBbXTtcblxuICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgZnNoYWRlclxuICAgICAgICB0aGlzLmZzaGFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIF92c0FkZEJhc2VDb2RlKGNvZGUsIGNodW5rcywgb3B0aW9ucykge1xuICAgICAgICBjb2RlICs9IGNodW5rcy5iYXNlVlM7XG4gICAgICAgIGlmIChvcHRpb25zLm5pbmVTbGljZWRNb2RlID09PSBTUFJJVEVfUkVOREVSTU9ERV9TTElDRUQgfHxcbiAgICAgICAgICAgIG9wdGlvbnMubmluZVNsaWNlZE1vZGUgPT09IFNQUklURV9SRU5ERVJNT0RFX1RJTEVEKSB7XG4gICAgICAgICAgICBjb2RlICs9IGNodW5rcy5iYXNlTmluZVNsaWNlZFZTO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cblxuICAgIF92c0FkZFRyYW5zZm9ybUNvZGUoY29kZSwgZGV2aWNlLCBjaHVua3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29kZSArPSB0aGlzLmNodW5rcy50cmFuc2Zvcm1WUztcbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuXG4gICAgX3NldE1hcFRyYW5zZm9ybShjb2RlcywgbmFtZSwgaWQsIHV2KSB7XG4gICAgICAgIGNvbnN0IGNoZWNrSWQgPSBpZCArIHV2ICogMTAwO1xuICAgICAgICBpZiAoIWNvZGVzWzNdW2NoZWNrSWRdKSB7XG4gICAgICAgICAgICAvLyB1cGxvYWQgYSAzeDIgbWF0cml4IGFuZCBtYW51YWxseSBwZXJmb3JtIHRoZSBtdWx0aXBsaWNhdGlvblxuICAgICAgICAgICAgY29uc3QgdmFyTmFtZSA9IGB0ZXh0dXJlXyR7bmFtZX1NYXBUcmFuc2Zvcm1gO1xuICAgICAgICAgICAgY29kZXNbMF0gKz0gYHVuaWZvcm0gdmVjMyAke3Zhck5hbWV9MDtcXG5gO1xuICAgICAgICAgICAgY29kZXNbMF0gKz0gYHVuaWZvcm0gdmVjMyAke3Zhck5hbWV9MTtcXG5gO1xuICAgICAgICAgICAgY29kZXNbMV0gKz0gYHZhcnlpbmcgdmVjMiB2VVYke3V2fV8ke2lkfTtcXG5gO1xuICAgICAgICAgICAgY29kZXNbMl0gKz0gYCAgIHZVViR7dXZ9XyR7aWR9ID0gdmVjMihkb3QodmVjMyh1diR7dXZ9LCAxKSwgJHt2YXJOYW1lfTApLCBkb3QodmVjMyh1diR7dXZ9LCAxKSwgJHt2YXJOYW1lfTEpKTtcXG5gO1xuICAgICAgICAgICAgY29kZXNbM11bY2hlY2tJZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlcztcbiAgICB9XG5cbiAgICAvLyBBZGQgXCJCYXNlXCIgQ29kZSBzZWN0aW9uIHRvIGZyYWdtZW50IHNoYWRlci5cbiAgICBfZnNHZXRCYXNlQ29kZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2h1bmtzID0gdGhpcy5jaHVua3M7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNodW5rcy5iYXNlUFM7XG4gICAgICAgIGlmIChvcHRpb25zLm5pbmVTbGljZWRNb2RlID09PSBTUFJJVEVfUkVOREVSTU9ERV9TTElDRUQpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaHVua3MuYmFzZU5pbmVTbGljZWRQUztcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm5pbmVTbGljZWRNb2RlID09PSBTUFJJVEVfUkVOREVSTU9ERV9USUxFRCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rcy5iYXNlTmluZVNsaWNlZFRpbGVkUFM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBBZGQgXCJTdGFydFwiIENvZGUgc2VjdGlvbiB0byBmcmFnbWVudCBzaGFkZXIuXG4gICAgX2ZzR2V0U3RhcnRDb2RlKGNvZGUsIGRldmljZSwgY2h1bmtzLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBjaHVua3Muc3RhcnRQUztcbiAgICAgICAgaWYgKG9wdGlvbnMubmluZVNsaWNlZE1vZGUgPT09IFNQUklURV9SRU5ERVJNT0RFX1NMSUNFRCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rcy5zdGFydE5pbmVTbGljZWRQUztcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm5pbmVTbGljZWRNb2RlID09PSBTUFJJVEVfUkVOREVSTU9ERV9USUxFRCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rcy5zdGFydE5pbmVTbGljZWRUaWxlZFBTO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlcyBkaXJlY3Rpb25hbCBtYXAgc2hhZG93IGNvb3JkaW5hdGUgZ2VuZXJhdGlvbiwgaW5jbHVkaW5nIGNhc2NhZGVkIHNoYWRvd3NcbiAgICBfZGlyZWN0aW9uYWxTaGFkb3dNYXBQcm9qZWN0aW9uKGxpZ2h0LCBzaGFkb3dNYXRBcmcsIHNoYWRvd1BhcmFtQXJnLCBsaWdodEFyZ3MsIGxpZ2h0SW5kZXgsIGNvb3Jkc0Z1bmN0aW9uTmFtZSkge1xuXG4gICAgICAgIC8vIGZvciBzaGFkb3cgY2FzY2FkZXNcbiAgICAgICAgbGV0IGNvZGUgPSBcIlwiO1xuICAgICAgICBjb25zdCBsaWdodFBhcmFtcyA9IGxpZ2h0QXJncyA/IFwiLCBcIiArIGxpZ2h0QXJncyA6IFwiXCI7XG4gICAgICAgIGxldCBzaGFkb3dDb29yZEFyZ3MgPSBgKCR7c2hhZG93TWF0QXJnfSwgJHtzaGFkb3dQYXJhbUFyZ30ke2xpZ2h0UGFyYW1zfSk7YDtcbiAgICAgICAgaWYgKGxpZ2h0Lm51bUNhc2NhZGVzID4gMSkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZSB3aGljaCBjYXNjYWRlIG1hdHJpeCBuZWVkcyB0byBiZSB1c2VkXG4gICAgICAgICAgICBjb2RlICs9IGBnZXRTaGFkb3dDYXNjYWRlTWF0cml4KGxpZ2h0JHtsaWdodEluZGV4fV9zaGFkb3dNYXRyaXhQYWxldHRlLCBsaWdodCR7bGlnaHRJbmRleH1fc2hhZG93Q2FzY2FkZURpc3RhbmNlcywgbGlnaHQke2xpZ2h0SW5kZXh9X3NoYWRvd0Nhc2NhZGVDb3VudCk7XFxuYDtcbiAgICAgICAgICAgIHNoYWRvd0Nvb3JkQXJncyA9IGAoY2FzY2FkZVNoYWRvd01hdCwgJHtzaGFkb3dQYXJhbUFyZ30ke2xpZ2h0UGFyYW1zfSk7XFxuYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNoYWRvdyBjb29yZGluYXRlIGdlbmVyYXRpb25cbiAgICAgICAgY29kZSArPSBjb29yZHNGdW5jdGlvbk5hbWUgKyBzaGFkb3dDb29yZEFyZ3M7XG5cbiAgICAgICAgLy8gc3RvcCBzaGFkb3cgYXQgdGhlIGZhciBkaXN0YW5jZVxuICAgICAgICBjb2RlICs9IGBmYWRlU2hhZG93KGxpZ2h0JHtsaWdodEluZGV4fV9zaGFkb3dDYXNjYWRlRGlzdGFuY2VzKTtcXG5gO1xuXG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cblxuICAgIF9ub25Qb2ludFNoYWRvd01hcFByb2plY3Rpb24oZGV2aWNlLCBsaWdodCwgc2hhZG93TWF0QXJnLCBzaGFkb3dQYXJhbUFyZywgbGlnaHRJbmRleCkge1xuICAgICAgICBjb25zdCBsaWdodERpckFyZ3MgPSBgZExpZ2h0UG9zVywgZExpZ2h0RGlyV2A7XG4gICAgICAgIGNvbnN0IGxpZ2h0RGlyTm9ybUFyZ3MgPSBgZExpZ2h0UG9zVywgZExpZ2h0RGlyVywgZExpZ2h0RGlyTm9ybVcsIGRWZXJ0ZXhOb3JtYWxXYDtcbiAgICAgICAgY29uc3Qgc2hhZG93Q29vcmRBcmdzID0gYCgke3NoYWRvd01hdEFyZ30sICR7c2hhZG93UGFyYW1Bcmd9KTtcXG5gO1xuICAgICAgICBjb25zdCBzaGFkb3dDb29yZE5vcm1BcmdzID0gYCgke3NoYWRvd01hdEFyZ30sICR7c2hhZG93UGFyYW1Bcmd9LCBkVmVydGV4Tm9ybWFsVyk7XFxuYDtcbiAgICAgICAgY29uc3Qgc2hhZG93Q29vcmREaXJBcmdzID0gYCgke3NoYWRvd01hdEFyZ30sICR7c2hhZG93UGFyYW1Bcmd9LCAke2xpZ2h0RGlyQXJnc30pO1xcbmA7XG4gICAgICAgIGNvbnN0IHNoYWRvd0Nvb3JkTGlnaHROb3JtQXJncyA9IGAoJHtzaGFkb3dNYXRBcmd9LCAke3NoYWRvd1BhcmFtQXJnfSwgJHtsaWdodERpck5vcm1BcmdzfSk7XFxuYDtcbiAgICAgICAgaWYgKCFsaWdodC5fbm9ybWFsT2Zmc2V0QmlhcyB8fCBsaWdodC5faXNWc20pIHtcbiAgICAgICAgICAgIGlmIChsaWdodC5fdHlwZSA9PT0gTElHSFRUWVBFX1NQT1QpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuX2lzUGNmICYmIChkZXZpY2Uud2ViZ2wyIHx8IGRldmljZS5leHRTdGFuZGFyZERlcml2YXRpdmVzIHx8IGRldmljZS5pc1dlYkdQVSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiICAgICAgIGdldFNoYWRvd0Nvb3JkUGVyc3BaYnVmZmVyXCIgKyBzaGFkb3dDb29yZEFyZ3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIiAgICAgICBnZXRTaGFkb3dDb29yZFBlcnNwXCIgKyBzaGFkb3dDb29yZERpckFyZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uYWxTaGFkb3dNYXBQcm9qZWN0aW9uKGxpZ2h0LCBzaGFkb3dNYXRBcmcsIHNoYWRvd1BhcmFtQXJnLCBudWxsLCBsaWdodEluZGV4LCBcImdldFNoYWRvd0Nvb3JkT3J0aG9cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpZ2h0Ll90eXBlID09PSBMSUdIVFRZUEVfU1BPVCkge1xuICAgICAgICAgICAgaWYgKGxpZ2h0Ll9pc1BjZiAmJiAoZGV2aWNlLndlYmdsMiB8fCBkZXZpY2UuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyB8fCBkZXZpY2UuaXNXZWJHUFUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiICAgICAgIGdldFNoYWRvd0Nvb3JkUGVyc3BaYnVmZmVyTm9ybWFsT2Zmc2V0XCIgKyBzaGFkb3dDb29yZE5vcm1BcmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwiICAgICAgIGdldFNoYWRvd0Nvb3JkUGVyc3BOb3JtYWxPZmZzZXRcIiArIHNoYWRvd0Nvb3JkTGlnaHROb3JtQXJncztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uYWxTaGFkb3dNYXBQcm9qZWN0aW9uKGxpZ2h0LCBzaGFkb3dNYXRBcmcsIHNoYWRvd1BhcmFtQXJnLCBsaWdodERpck5vcm1BcmdzLCBsaWdodEluZGV4LCBcImdldFNoYWRvd0Nvb3JkT3J0aG9Ob3JtYWxPZmZzZXRcIik7XG4gICAgfVxuXG4gICAgX2dldExpZ2h0U291cmNlU2hhcGVTdHJpbmcoc2hhcGUpIHtcbiAgICAgICAgc3dpdGNoIChzaGFwZSkge1xuICAgICAgICAgICAgY2FzZSBMSUdIVFNIQVBFX1JFQ1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdSZWN0JztcbiAgICAgICAgICAgIGNhc2UgTElHSFRTSEFQRV9ESVNLOlxuICAgICAgICAgICAgICAgIHJldHVybiAnRGlzayc7XG4gICAgICAgICAgICBjYXNlIExJR0hUU0hBUEVfU1BIRVJFOlxuICAgICAgICAgICAgICAgIHJldHVybiAnU3BoZXJlJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVWZXJ0ZXhTaGFkZXIodXNlVXYsIHVzZVVubW9kaWZpZWRVdiwgbWFwVHJhbnNmb3Jtcykge1xuICAgICAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmRldmljZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2h1bmtzID0gdGhpcy5jaHVua3M7XG5cbiAgICAgICAgbGV0IGNvZGUgPSAnJztcbiAgICAgICAgbGV0IGNvZGVCb2R5ID0gJyc7XG5cbiAgICAgICAgLy8gY29kZSArPSBjaHVua3MuYmFzZVZTO1xuICAgICAgICBjb2RlID0gdGhpcy5fdnNBZGRCYXNlQ29kZShjb2RlLCBjaHVua3MsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvZGVCb2R5ICs9IFwiICAgdlBvc2l0aW9uVyAgICA9IGdldFdvcmxkUG9zaXRpb24oKTtcXG5cIjtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBhc3MgPT09IFNIQURFUl9ERVBUSCkge1xuICAgICAgICAgICAgY29kZSArPSAndmFyeWluZyBmbG9hdCB2RGVwdGg7XFxuJztcbiAgICAgICAgICAgIGNvZGUgKz0gJyNpZm5kZWYgVklFV01BVFJJWFxcbic7XG4gICAgICAgICAgICBjb2RlICs9ICcjZGVmaW5lIFZJRVdNQVRSSVhcXG4nO1xuICAgICAgICAgICAgY29kZSArPSAndW5pZm9ybSBtYXQ0IG1hdHJpeF92aWV3O1xcbic7XG4gICAgICAgICAgICBjb2RlICs9ICcjZW5kaWZcXG4nO1xuICAgICAgICAgICAgY29kZSArPSAnI2lmbmRlZiBDQU1FUkFQTEFORVNcXG4nO1xuICAgICAgICAgICAgY29kZSArPSAnI2RlZmluZSBDQU1FUkFQTEFORVNcXG4nO1xuICAgICAgICAgICAgY29kZSArPSAndW5pZm9ybSB2ZWM0IGNhbWVyYV9wYXJhbXM7XFxuXFxuJztcbiAgICAgICAgICAgIGNvZGUgKz0gJyNlbmRpZlxcbic7XG4gICAgICAgICAgICBjb2RlQm9keSArPSBcIiAgICB2RGVwdGggPSAtKG1hdHJpeF92aWV3ICogdmVjNCh2UG9zaXRpb25XLDEuMCkpLnogKiBjYW1lcmFfcGFyYW1zLng7XFxuXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVzZUluc3RhbmNpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5pbnN0YW5jZV9saW5lMSA9IFNFTUFOVElDX0FUVFIxMjtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5pbnN0YW5jZV9saW5lMiA9IFNFTUFOVElDX0FUVFIxMztcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5pbnN0YW5jZV9saW5lMyA9IFNFTUFOVElDX0FUVFIxNDtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5pbnN0YW5jZV9saW5lNCA9IFNFTUFOVElDX0FUVFIxNTtcbiAgICAgICAgICAgIGNvZGUgKz0gY2h1bmtzLmluc3RhbmNpbmdWUztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5lZWRzTm9ybWFsKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMudmVydGV4X25vcm1hbCA9IFNFTUFOVElDX05PUk1BTDtcbiAgICAgICAgICAgIGNvZGVCb2R5ICs9IFwiICAgdk5vcm1hbFcgPSBnZXROb3JtYWwoKTtcXG5cIjtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9PT0gJ3NwaGVyZU1hcCcgJiYgZGV2aWNlLmZyYWdtZW50VW5pZm9ybXNDb3VudCA8PSAxNikge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gY2h1bmtzLnZpZXdOb3JtYWxWUztcbiAgICAgICAgICAgICAgICBjb2RlQm9keSArPSBcIiAgIHZOb3JtYWxWICAgID0gZ2V0Vmlld05vcm1hbCgpO1xcblwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNUYW5nZW50cyAmJiAob3B0aW9ucy5oZWlnaHRNYXBFbmFibGVkIHx8IG9wdGlvbnMubm9ybWFsTWFwRW5hYmxlZCB8fCBvcHRpb25zLmVuYWJsZUdHWFNwZWN1bGFyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy52ZXJ0ZXhfdGFuZ2VudCA9IFNFTUFOVElDX1RBTkdFTlQ7XG4gICAgICAgICAgICAgICAgY29kZSArPSBjaHVua3MudGFuZ2VudEJpbm9ybWFsVlM7XG4gICAgICAgICAgICAgICAgY29kZUJvZHkgKz0gXCIgICB2VGFuZ2VudFcgICA9IGdldFRhbmdlbnQoKTtcXG5cIjtcbiAgICAgICAgICAgICAgICBjb2RlQm9keSArPSBcIiAgIHZCaW5vcm1hbFcgID0gZ2V0Qmlub3JtYWwoKTtcXG5cIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lbmFibGVHR1hTcGVjdWxhciB8fCAhZGV2aWNlLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICBjb2RlQm9keSArPSBcIiAgIHZPYmplY3RTcGFjZVVwVyA9IG5vcm1hbGl6ZShkTm9ybWFsTWF0cml4ICogdmVjMygwLCAxLCAwKSk7XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXhVdlNldHMgPSAyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VXZTZXRzOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh1c2VVdltpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlc1tcInZlcnRleF90ZXhDb29yZFwiICsgaV0gPSBcIlRFWENPT1JEXCIgKyBpO1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gY2h1bmtzW1widXZcIiArIGkgKyBcIlZTXCJdO1xuICAgICAgICAgICAgICAgIGNvZGVCb2R5ICs9IFwiICAgdmVjMiB1dlwiICsgaSArIFwiID0gZ2V0VXZcIiArIGkgKyBcIigpO1xcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZVVubW9kaWZpZWRVdltpXSkge1xuICAgICAgICAgICAgICAgIGNvZGVCb2R5ICs9IFwiICAgdlV2XCIgKyBpICsgXCIgPSB1dlwiICsgaSArIFwiO1xcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29kZXMgPSBbY29kZSwgdGhpcy52YXJ5aW5ncywgY29kZUJvZHksIFtdXTtcblxuICAgICAgICBtYXBUcmFuc2Zvcm1zLmZvckVhY2goKG1hcFRyYW5zZm9ybSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2V0TWFwVHJhbnNmb3JtKGNvZGVzLCBtYXBUcmFuc2Zvcm0ubmFtZSwgbWFwVHJhbnNmb3JtLmlkLCBtYXBUcmFuc2Zvcm0udXYpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb2RlID0gY29kZXNbMF07XG4gICAgICAgIHRoaXMudmFyeWluZ3MgPSBjb2Rlc1sxXTtcbiAgICAgICAgY29kZUJvZHkgPSBjb2Rlc1syXTtcblxuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0ZXhDb2xvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy52ZXJ0ZXhfY29sb3IgPSBTRU1BTlRJQ19DT0xPUjtcbiAgICAgICAgICAgIGNvZGVCb2R5ICs9IFwiICAgdlZlcnRleENvbG9yID0gdmVydGV4X2NvbG9yO1xcblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudXNlTXNkZiAmJiBvcHRpb25zLm1zZGZUZXh0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMudmVydGV4X291dGxpbmVQYXJhbWV0ZXJzID0gU0VNQU5USUNfQVRUUjg7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMudmVydGV4X3NoYWRvd1BhcmFtZXRlcnMgPSBTRU1BTlRJQ19BVFRSOTtcblxuICAgICAgICAgICAgY29kZUJvZHkgKz0gXCIgICAgdW5wYWNrTXNkZlBhcmFtcygpO1xcblwiO1xuXG4gICAgICAgICAgICBjb2RlICs9IGNodW5rcy5tc2RmVlM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3JwaGluZ1xuICAgICAgICBpZiAob3B0aW9ucy51c2VNb3JwaFBvc2l0aW9uIHx8IG9wdGlvbnMudXNlTW9ycGhOb3JtYWwpIHtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlTW9ycGhUZXh0dXJlQmFzZWQpIHtcblxuICAgICAgICAgICAgICAgIGNvZGUgKz0gXCIjZGVmaW5lIE1PUlBISU5HX1RFWFRVUkVfQkFTRURcXG5cIjtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZU1vcnBoUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcIiNkZWZpbmUgTU9SUEhJTkdfVEVYVFVSRV9CQVNFRF9QT1NJVElPTlxcblwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZU1vcnBoTm9ybWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCIjZGVmaW5lIE1PUlBISU5HX1RFWFRVUkVfQkFTRURfTk9STUFMXFxuXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdmVydGV4IGlkcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX3ZlcnRleF9pZCA9IFNFTUFOVElDX0FUVFIxNTtcbiAgICAgICAgICAgICAgICBjb2RlICs9IFwiYXR0cmlidXRlIGZsb2F0IG1vcnBoX3ZlcnRleF9pZDtcXG5cIjtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIC8vIHNldCB1cCA4IHNsb3RzIGZvciBtb3JwaGluZy4gdGhlc2UgYXJlIHN1cHBvcnRlZCBjb21iaW5hdGlvbnM6IFBQUFBQUFBQLCBOTk5OTk5OTiwgUFBQUE5OTk5cbiAgICAgICAgICAgICAgICBjb2RlICs9IFwiI2RlZmluZSBNT1JQSElOR1xcblwiO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgNCBzbG90cyBhcmUgZWl0aGVyIHBvc2l0aW9uIG9yIG5vcm1hbFxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZU1vcnBoUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX3BvczAgPSBTRU1BTlRJQ19BVFRSODtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX3BvczEgPSBTRU1BTlRJQ19BVFRSOTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX3BvczIgPSBTRU1BTlRJQ19BVFRSMTA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tb3JwaF9wb3MzID0gU0VNQU5USUNfQVRUUjExO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCIjZGVmaW5lIE1PUlBISU5HX1BPUzAzXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCJhdHRyaWJ1dGUgdmVjMyBtb3JwaF9wb3MwO1xcblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFwiYXR0cmlidXRlIHZlYzMgbW9ycGhfcG9zMTtcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcImF0dHJpYnV0ZSB2ZWMzIG1vcnBoX3BvczI7XFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCJhdHRyaWJ1dGUgdmVjMyBtb3JwaF9wb3MzO1xcblwiO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnVzZU1vcnBoTm9ybWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tb3JwaF9ucm0wID0gU0VNQU5USUNfQVRUUjg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tb3JwaF9ucm0xID0gU0VNQU5USUNfQVRUUjk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tb3JwaF9ucm0yID0gU0VNQU5USUNfQVRUUjEwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMubW9ycGhfbnJtMyA9IFNFTUFOVElDX0FUVFIxMTtcblxuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFwiI2RlZmluZSBNT1JQSElOR19OUk0wM1xcblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFwiYXR0cmlidXRlIHZlYzMgbW9ycGhfbnJtMDtcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcImF0dHJpYnV0ZSB2ZWMzIG1vcnBoX25ybTE7XFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCJhdHRyaWJ1dGUgdmVjMyBtb3JwaF9ucm0yO1xcblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFwiYXR0cmlidXRlIHZlYzMgbW9ycGhfbnJtMztcXG5cIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBuZXh0IDQgc2xvdHMgYXJlIGVpdGhlciBwb3NpdGlvbiBvciBub3JtYWxcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMudXNlTW9ycGhOb3JtYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX3BvczQgPSBTRU1BTlRJQ19BVFRSMTI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tb3JwaF9wb3M1ID0gU0VNQU5USUNfQVRUUjEzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMubW9ycGhfcG9zNiA9IFNFTUFOVElDX0FUVFIxNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX3BvczcgPSBTRU1BTlRJQ19BVFRSMTU7XG5cbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcIiNkZWZpbmUgTU9SUEhJTkdfUE9TNDdcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcImF0dHJpYnV0ZSB2ZWMzIG1vcnBoX3BvczQ7XFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCJhdHRyaWJ1dGUgdmVjMyBtb3JwaF9wb3M1O1xcblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFwiYXR0cmlidXRlIHZlYzMgbW9ycGhfcG9zNjtcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcImF0dHJpYnV0ZSB2ZWMzIG1vcnBoX3Bvczc7XFxuXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX25ybTQgPSBTRU1BTlRJQ19BVFRSMTI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tb3JwaF9ucm01ID0gU0VNQU5USUNfQVRUUjEzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMubW9ycGhfbnJtNiA9IFNFTUFOVElDX0FUVFIxNDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1vcnBoX25ybTcgPSBTRU1BTlRJQ19BVFRSMTU7XG5cbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcIiNkZWZpbmUgTU9SUEhJTkdfTlJNNDdcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcImF0dHJpYnV0ZSB2ZWMzIG1vcnBoX25ybTQ7XFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gXCJhdHRyaWJ1dGUgdmVjMyBtb3JwaF9ucm01O1xcblwiO1xuICAgICAgICAgICAgICAgICAgICBjb2RlICs9IFwiYXR0cmlidXRlIHZlYzMgbW9ycGhfbnJtNjtcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSBcImF0dHJpYnV0ZSB2ZWMzIG1vcnBoX25ybTc7XFxuXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpbikge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnZlcnRleF9ib25lV2VpZ2h0cyA9IFNFTUFOVElDX0JMRU5EV0VJR0hUO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnZlcnRleF9ib25lSW5kaWNlcyA9IFNFTUFOVElDX0JMRU5ESU5ESUNFUztcbiAgICAgICAgICAgIGNvZGUgKz0gc2tpbkNvZGUoZGV2aWNlLCBjaHVua3MpO1xuICAgICAgICAgICAgY29kZSArPSBcIiNkZWZpbmUgU0tJTlxcblwiO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudXNlSW5zdGFuY2luZykge1xuICAgICAgICAgICAgY29kZSArPSBcIiNkZWZpbmUgSU5TVEFOQ0lOR1xcblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNjcmVlblNwYWNlKSB7XG4gICAgICAgICAgICBjb2RlICs9IFwiI2RlZmluZSBTQ1JFRU5TUEFDRVxcblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnBpeGVsU25hcCkge1xuICAgICAgICAgICAgY29kZSArPSBcIiNkZWZpbmUgUElYRUxTTkFQXFxuXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb2RlID0gdGhpcy5fdnNBZGRUcmFuc2Zvcm1Db2RlKGNvZGUsIGRldmljZSwgY2h1bmtzLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5uZWVkc05vcm1hbCkge1xuICAgICAgICAgICAgY29kZSArPSBjaHVua3Mubm9ybWFsVlM7XG4gICAgICAgIH1cblxuICAgICAgICBjb2RlICs9IFwiXFxuXCI7XG4gICAgICAgIGNvZGUgKz0gY2h1bmtzLnN0YXJ0VlM7XG4gICAgICAgIGNvZGUgKz0gY29kZUJvZHk7XG4gICAgICAgIGNvZGUgKz0gY2h1bmtzLmVuZFZTO1xuICAgICAgICBjb2RlICs9IFwifVwiO1xuXG4gICAgICAgIC8vIGJ1aWxkIHZhcnlpbmdzXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1aWx0aW5WYXJ5aW5ncykuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgaWYgKGNvZGUuaW5kZXhPZih2KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YXJ5aW5ncyArPSBgdmFyeWluZyAke2J1aWx0aW5WYXJ5aW5nc1t2XX0gJHt2fTtcXG5gO1xuICAgICAgICAgICAgICAgIHRoaXMudmFyeWluZ0RlZmluZXMgKz0gYCNkZWZpbmUgVkFSWUlOR18ke3YudG9VcHBlckNhc2UoKX1cXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzaGFkZXJQYXNzRGVmaW5lcyA9IHRoaXMuc2hhZGVyUGFzc0luZm8uc2hhZGVyRGVmaW5lcztcbiAgICAgICAgdGhpcy52c2hhZGVyID0gc2hhZGVyUGFzc0RlZmluZXMgKyB0aGlzLnZhcnlpbmdzICsgY29kZTtcbiAgICB9XG5cbiAgICBfZnNHZXRCZWdpbkNvZGUoKSB7XG5cbiAgICAgICAgbGV0IGNvZGUgPSB0aGlzLnNoYWRlclBhc3NJbmZvLnNoYWRlckRlZmluZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRlZmluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gYCNkZWZpbmUgJHt0aGlzLmRlZmluZXNbaV19XFxuYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cblxuICAgIF9mc0dldFBpY2tQYXNzQ29kZSgpIHtcbiAgICAgICAgbGV0IGNvZGUgPSB0aGlzLl9mc0dldEJlZ2luQ29kZSgpO1xuICAgICAgICBjb2RlICs9IFwidW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cIjtcbiAgICAgICAgY29kZSArPSB0aGlzLnZhcnlpbmdzO1xuICAgICAgICBjb2RlICs9IHRoaXMudmFyeWluZ0RlZmluZXM7XG4gICAgICAgIGNvZGUgKz0gdGhpcy5mcm9udGVuZERlY2w7XG4gICAgICAgIGNvZGUgKz0gdGhpcy5mcm9udGVuZENvZGU7XG4gICAgICAgIGNvZGUgKz0gYmVnaW4oKTtcbiAgICAgICAgY29kZSArPSB0aGlzLmZyb250ZW5kRnVuYztcbiAgICAgICAgY29kZSArPSBcIiAgICBnbF9GcmFnQ29sb3IgPSB1Q29sb3I7XFxuXCI7XG4gICAgICAgIGNvZGUgKz0gZW5kKCk7XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cblxuICAgIF9mc0dldERlcHRoUGFzc0NvZGUoKSB7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IHRoaXMuY2h1bmtzO1xuXG4gICAgICAgIGxldCBjb2RlID0gdGhpcy5fZnNHZXRCZWdpbkNvZGUoKTtcblxuICAgICAgICBjb2RlICs9ICd2YXJ5aW5nIGZsb2F0IHZEZXB0aDtcXG4nO1xuICAgICAgICBjb2RlICs9IHRoaXMudmFyeWluZ3M7XG4gICAgICAgIGNvZGUgKz0gdGhpcy52YXJ5aW5nRGVmaW5lcztcbiAgICAgICAgY29kZSArPSBjaHVua3MucGFja0RlcHRoUFM7XG4gICAgICAgIGNvZGUgKz0gdGhpcy5mcm9udGVuZERlY2w7XG4gICAgICAgIGNvZGUgKz0gdGhpcy5mcm9udGVuZENvZGU7XG4gICAgICAgIGNvZGUgKz0gYmVnaW4oKTtcbiAgICAgICAgY29kZSArPSB0aGlzLmZyb250ZW5kRnVuYztcbiAgICAgICAgY29kZSArPSBcIiAgICBnbF9GcmFnQ29sb3IgPSBwYWNrRmxvYXQodkRlcHRoKTtcXG5cIjtcbiAgICAgICAgY29kZSArPSBlbmQoKTtcblxuICAgICAgICByZXR1cm4gY29kZTtcbiAgICB9XG5cbiAgICBfZnNHZXRTaGFkb3dQYXNzQ29kZSgpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IHRoaXMuY2h1bmtzO1xuICAgICAgICBjb25zdCB2YXJ5aW5ncyA9IHRoaXMudmFyeWluZ3M7XG5cbiAgICAgICAgY29uc3QgbGlnaHRUeXBlID0gdGhpcy5zaGFkZXJQYXNzSW5mby5saWdodFR5cGU7XG4gICAgICAgIGNvbnN0IHNoYWRvd1R5cGUgPSB0aGlzLnNoYWRlclBhc3NJbmZvLnNoYWRvd1R5cGU7XG5cbiAgICAgICAgbGV0IGNvZGUgPSB0aGlzLl9mc0dldEJlZ2luQ29kZSgpO1xuXG4gICAgICAgIGlmIChkZXZpY2UuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyAmJiAhZGV2aWNlLndlYmdsMiAmJiAhZGV2aWNlLmlzV2ViR1BVKSB7XG4gICAgICAgICAgICBjb2RlICs9ICd1bmlmb3JtIHZlYzIgcG9seWdvbk9mZnNldDtcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoYWRvd1R5cGUgPT09IFNIQURPV19WU00zMikge1xuICAgICAgICAgICAgaWYgKGRldmljZS50ZXh0dXJlRmxvYXRIaWdoUHJlY2lzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29kZSArPSAnI2RlZmluZSBWU01fRVhQT05FTlQgMTUuMFxcblxcbic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvZGUgKz0gJyNkZWZpbmUgVlNNX0VYUE9ORU5UIDUuNTRcXG5cXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYWRvd1R5cGUgPT09IFNIQURPV19WU00xNikge1xuICAgICAgICAgICAgY29kZSArPSAnI2RlZmluZSBWU01fRVhQT05FTlQgNS41NFxcblxcbic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlnaHRUeXBlICE9PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpIHtcbiAgICAgICAgICAgIGNvZGUgKz0gJ3VuaWZvcm0gdmVjMyB2aWV3X3Bvc2l0aW9uO1xcbic7XG4gICAgICAgICAgICBjb2RlICs9ICd1bmlmb3JtIGZsb2F0IGxpZ2h0X3JhZGl1cztcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgY29kZSArPSB2YXJ5aW5ncztcbiAgICAgICAgY29kZSArPSB0aGlzLnZhcnlpbmdEZWZpbmVzO1xuICAgICAgICBjb2RlICs9IHRoaXMuZnJvbnRlbmREZWNsO1xuICAgICAgICBjb2RlICs9IHRoaXMuZnJvbnRlbmRDb2RlO1xuXG4gICAgICAgIGlmIChzaGFkb3dUeXBlID09PSBTSEFET1dfUENGMyAmJiAoIWRldmljZS53ZWJnbDIgfHwgIWRldmljZS5pc1dlYkdQVSB8fCBsaWdodFR5cGUgPT09IExJR0hUVFlQRV9PTU5JKSkge1xuICAgICAgICAgICAgY29kZSArPSBjaHVua3MucGFja0RlcHRoUFM7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhZG93VHlwZSA9PT0gU0hBRE9XX1ZTTTgpIHtcbiAgICAgICAgICAgIGNvZGUgKz0gXCJ2ZWMyIGVuY29kZUZsb2F0UkcoIGZsb2F0IHYgKSB7XFxuXCI7XG4gICAgICAgICAgICBjb2RlICs9IFwiICAgIHZlYzIgZW5jID0gdmVjMigxLjAsIDI1NS4wKSAqIHY7XFxuXCI7XG4gICAgICAgICAgICBjb2RlICs9IFwiICAgIGVuYyA9IGZyYWN0KGVuYyk7XFxuXCI7XG4gICAgICAgICAgICBjb2RlICs9IFwiICAgIGVuYyAtPSBlbmMueXkgKiB2ZWMyKDEuMC8yNTUuMCwgMS4wLzI1NS4wKTtcXG5cIjtcbiAgICAgICAgICAgIGNvZGUgKz0gXCIgICAgcmV0dXJuIGVuYztcXG5cIjtcbiAgICAgICAgICAgIGNvZGUgKz0gXCJ9XFxuXFxuXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb2RlICs9IGJlZ2luKCk7XG5cbiAgICAgICAgY29kZSArPSB0aGlzLmZyb250ZW5kRnVuYztcblxuICAgICAgICBjb25zdCBpc1ZzbSA9IHNoYWRvd1R5cGUgPT09IFNIQURPV19WU004IHx8IHNoYWRvd1R5cGUgPT09IFNIQURPV19WU00xNiB8fCBzaGFkb3dUeXBlID09PSBTSEFET1dfVlNNMzI7XG4gICAgICAgIGNvbnN0IGFwcGx5U2xvcGVTY2FsZUJpYXMgPSAhZGV2aWNlLndlYmdsMiAmJiBkZXZpY2UuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyAmJiAhZGV2aWNlLmlzV2ViR1BVO1xuXG4gICAgICAgIGlmIChsaWdodFR5cGUgPT09IExJR0hUVFlQRV9PTU5JIHx8IChpc1ZzbSAmJiBsaWdodFR5cGUgIT09IExJR0hUVFlQRV9ESVJFQ1RJT05BTCkpIHtcbiAgICAgICAgICAgIGNvZGUgKz0gXCIgICAgZmxvYXQgZGVwdGggPSBtaW4oZGlzdGFuY2Uodmlld19wb3NpdGlvbiwgdlBvc2l0aW9uVykgLyBsaWdodF9yYWRpdXMsIDAuOTk5OTkpO1xcblwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29kZSArPSBcIiAgICBmbG9hdCBkZXB0aCA9IGdsX0ZyYWdDb29yZC56O1xcblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFwcGx5U2xvcGVTY2FsZUJpYXMpIHtcbiAgICAgICAgICAgIGNvZGUgKz0gXCIgICAgZmxvYXQgbWluVmFsdWUgPSAyLjMzNzQzNzA1MDAxNTMxODZlLTEwOyAvLygxLjAgLyAyNTUuMCkgLyAoMjU2LjAgKiAyNTYuMCAqIDI1Ni4wKTtcXG5cIjtcbiAgICAgICAgICAgIGNvZGUgKz0gXCIgICAgZGVwdGggKz0gcG9seWdvbk9mZnNldC54ICogbWF4KGFicyhkRmR4KGRlcHRoKSksIGFicyhkRmR5KGRlcHRoKSkpICsgbWluVmFsdWUgKiBwb2x5Z29uT2Zmc2V0Lnk7XFxuXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwY2ZPbW5pU2hhZG93cyA9IGRldmljZS53ZWJnbDIgfHwgZGV2aWNlLmlzV2ViR1BVO1xuICAgICAgICBpZiAoc2hhZG93VHlwZSA9PT0gU0hBRE9XX1BDRjMgJiYgKCFwY2ZPbW5pU2hhZG93cyB8fCAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfT01OSSAmJiAhb3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQpKSkge1xuICAgICAgICAgICAgY29kZSArPSBcIiAgICBnbF9GcmFnQ29sb3IgPSBwYWNrRmxvYXQoZGVwdGgpO1xcblwiO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYWRvd1R5cGUgPT09IFNIQURPV19QQ0YzIHx8IHNoYWRvd1R5cGUgPT09IFNIQURPV19QQ0Y1IHx8IHNoYWRvd1R5cGUgPT09IFNIQURPV19QQ0YxKSB7XG4gICAgICAgICAgICBjb2RlICs9IFwiICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcXG5cIjsgLy8ganVzdCB0aGUgc2ltcGxlc3QgY29kZSwgY29sb3IgaXMgbm90IHdyaXR0ZW4gYW55d2F5XG5cbiAgICAgICAgICAgIC8vIGNsdXN0ZXJlZCBvbW5pIGxpZ2h0IGlzIHVzaW5nIHNoYWRvdyBzYW1wbGVyIGFuZCBuZWVkcyB0byB3cml0ZSBjdXN0b20gZGVwdGhcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCAmJiBsaWdodFR5cGUgPT09IExJR0hUVFlQRV9PTU5JICYmIHBjZk9tbmlTaGFkb3dzKSB7XG4gICAgICAgICAgICAgICAgY29kZSArPSBcIiAgICBnbF9GcmFnRGVwdGggPSBkZXB0aDtcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFkb3dUeXBlID09PSBTSEFET1dfVlNNOCkge1xuICAgICAgICAgICAgY29kZSArPSBcIiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGVuY29kZUZsb2F0UkcoZGVwdGgpLCBlbmNvZGVGbG9hdFJHKGRlcHRoKmRlcHRoKSk7XFxuXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2RlICs9IGNodW5rcy5zdG9yZUVWU01QUztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvZGUgKz0gZW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuXG4gICAgLy8gdGhlIGJpZyBvbmVcbiAgICBfZnNHZXRMaXRQYXNzQ29kZSgpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2U7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IHRoaXMuY2h1bmtzO1xuXG4gICAgICAgIGNvbnN0IGRlY2wgPSBuZXcgQ2h1bmtCdWlsZGVyKCk7XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBuZXcgQ2h1bmtCdWlsZGVyKCk7XG4gICAgICAgIGNvbnN0IGJhY2tlbmQgPSBuZXcgQ2h1bmtCdWlsZGVyKCk7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBuZXcgQ2h1bmtCdWlsZGVyKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMub3BhY2l0eUZhZGVzU3BlY3VsYXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWNsLmFwcGVuZCgndW5pZm9ybSBmbG9hdCBtYXRlcmlhbF9hbHBoYUZhZGU7Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcikge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLnB1c2goXCJMSVRfU1BFQ1VMQVJcIik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmxlY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZpbmVzLnB1c2goXCJMSVRfUkVGTEVDVElPTlNcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNsZWFyQ29hdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5wdXNoKFwiTElUX0NMRUFSQ09BVFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZnJlc25lbE1vZGVsID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5wdXNoKFwiTElUX1NQRUNVTEFSX0ZSRVNORUxcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVuYWJsZSBjb25zZXJ2ZSBlbmVyZ3kgcGF0aCBpbiBjbHVzdGVyZWQgY2h1bmtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbnNlcnZlRW5lcmd5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZpbmVzLnB1c2goXCJMSVRfQ09OU0VSVkVfRU5FUkdZXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTaGVlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5wdXNoKFwiTElUX1NIRUVOXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VJcmlkZXNjZW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5wdXNoKFwiTElUX0lSSURFU0NFTkNFXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRlJBR01FTlQgU0hBREVSIElOUFVUUzogVU5JRk9STVNcbiAgICAgICAgY29uc3Qgc2hhZG93VHlwZVVzZWQgPSBbXTtcbiAgICAgICAgbGV0IG51bVNoYWRvd0xpZ2h0cyA9IDA7XG4gICAgICAgIGxldCBzaGFkb3dlZERpcmVjdGlvbmFsTGlnaHRVc2VkID0gZmFsc2U7XG4gICAgICAgIGxldCB1c2VWc20gPSBmYWxzZTtcbiAgICAgICAgbGV0IHVzZVBlcnNwWmJ1ZmZlclNoYWRvdyA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBoYXNBcmVhTGlnaHRzID0gb3B0aW9ucy5saWdodHMuc29tZShmdW5jdGlvbiAobGlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBsaWdodC5fc2hhcGUgJiYgbGlnaHQuX3NoYXBlICE9PSBMSUdIVFNIQVBFX1BVTkNUVUFMO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBjbHVzdGVyZWQgbGlnaHRpbmcgaGFzIGFyZWEgbGlnaHRzIGVuYWJsZWQsIGl0IGFsd2F5cyBydW5zIGluICdhcmVhIGxpZ2h0cyBtb2RlJ1xuICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBzaG91bGQgYWx3YXlzIHVzZSBpdCBhbmQgcmVtb3ZlIHRoZSBvdGhlciB3YXk/XG4gICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCAmJiBvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGhhc0FyZWFMaWdodHMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFyZWFMdXRzUHJlY2lzaW9uID0gJ2hpZ2hwJztcbiAgICAgICAgaWYgKGRldmljZS5hcmVhTGlnaHRMdXRGb3JtYXQgPT09IFBJWEVMRk9STUFUX1JHQkE4KSB7XG4gICAgICAgICAgICAvLyB1c2Ugb2Zmc2V0IGFuZCBzY2FsZSBmb3IgcmdiOCBmb3JtYXQgbHV0c1xuICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCIjZGVmaW5lIEFSRUFfUjhfRzhfQjhfQThfTFVUU1wiKTtcbiAgICAgICAgICAgIGFyZWFMdXRzUHJlY2lzaW9uID0gJ2xvd3AnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc0FyZWFMaWdodHMgfHwgb3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwiI2RlZmluZSBBUkVBX0xJR0hUU1wiKTtcbiAgICAgICAgICAgIGRlY2wuYXBwZW5kKGB1bmlmb3JtICR7YXJlYUx1dHNQcmVjaXNpb259IHNhbXBsZXIyRCBhcmVhTGlnaHRzTHV0VGV4MTtgKTtcbiAgICAgICAgICAgIGRlY2wuYXBwZW5kKGB1bmlmb3JtICR7YXJlYUx1dHNQcmVjaXNpb259IHNhbXBsZXIyRCBhcmVhTGlnaHRzTHV0VGV4MjtgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5saWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpZ2h0ID0gb3B0aW9ucy5saWdodHNbaV07XG4gICAgICAgICAgICBjb25zdCBsaWdodFR5cGUgPSBsaWdodC5fdHlwZTtcblxuICAgICAgICAgICAgLy8gc2tpcCB1bmlmb3JtIGdlbmVyYXRpb24gZm9yIGxvY2FsIGxpZ2h0cyBpZiBjbHVzdGVyZWQgbGlnaHRpbmcgaXMgZW5hYmxlZFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkICYmIGxpZ2h0VHlwZSAhPT0gTElHSFRUWVBFX0RJUkVDVElPTkFMKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBsaWdodFNoYXBlID0gKGhhc0FyZWFMaWdodHMgJiYgbGlnaHQuX3NoYXBlKSA/IGxpZ2h0Ll9zaGFwZSA6IExJR0hUU0hBUEVfUFVOQ1RVQUw7XG5cbiAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSB2ZWMzIGxpZ2h0XCIgKyBpICsgXCJfY29sb3I7XCIpO1xuICAgICAgICAgICAgaWYgKGxpZ2h0VHlwZSA9PT0gTElHSFRUWVBFX0RJUkVDVElPTkFMKSB7XG4gICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHZlYzMgbGlnaHRcIiArIGkgKyBcIl9kaXJlY3Rpb247XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gdmVjMyBsaWdodFwiICsgaSArIFwiX3Bvc2l0aW9uO1wiKTtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gZmxvYXQgbGlnaHRcIiArIGkgKyBcIl9yYWRpdXM7XCIpO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodFR5cGUgPT09IExJR0hUVFlQRV9TUE9UKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSB2ZWMzIGxpZ2h0XCIgKyBpICsgXCJfZGlyZWN0aW9uO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIGZsb2F0IGxpZ2h0XCIgKyBpICsgXCJfaW5uZXJDb25lQW5nbGU7XCIpO1xuICAgICAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gZmxvYXQgbGlnaHRcIiArIGkgKyBcIl9vdXRlckNvbmVBbmdsZTtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpZ2h0U2hhcGUgIT09IExJR0hUU0hBUEVfUFVOQ1RVQUwpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHZlYzMgbGlnaHRcIiArIGkgKyBcIl9wb3NpdGlvbjtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSB2ZWMzIGxpZ2h0XCIgKyBpICsgXCJfaGFsZldpZHRoO1wiKTtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gdmVjMyBsaWdodFwiICsgaSArIFwiX2hhbGZIZWlnaHQ7XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpZ2h0LmNhc3RTaGFkb3dzICYmICFvcHRpb25zLm5vU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIG1hdDQgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXRyaXg7XCIpO1xuICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSBmbG9hdCBsaWdodFwiICsgaSArIFwiX3NoYWRvd0ludGVuc2l0eTtcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBkaXJlY3Rpb25hbCAoY2FzY2FkZWQpIHNoYWRvd3NcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIG1hdDQgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXRyaXhQYWxldHRlWzRdO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIGZsb2F0IGxpZ2h0XCIgKyBpICsgXCJfc2hhZG93Q2FzY2FkZURpc3RhbmNlc1s0XTtcIik7XG4gICAgICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSBmbG9hdCBsaWdodFwiICsgaSArIFwiX3NoYWRvd0Nhc2NhZGVDb3VudDtcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0VHlwZSAhPT0gTElHSFRUWVBFX0RJUkVDVElPTkFMKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSB2ZWM0IGxpZ2h0XCIgKyBpICsgXCJfc2hhZG93UGFyYW1zO1wiKTsgLy8gV2lkdGgsIGhlaWdodCwgYmlhcywgcmFkaXVzXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93ZWREaXJlY3Rpb25hbExpZ2h0VXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSB2ZWMzIGxpZ2h0XCIgKyBpICsgXCJfc2hhZG93UGFyYW1zO1wiKTsgLy8gV2lkdGgsIGhlaWdodCwgYmlhc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfT01OSSkge1xuICAgICAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gc2FtcGxlckN1YmUgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXA7XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaWdodC5faXNQY2YgJiYgZGV2aWNlLnN1cHBvcnRzRGVwdGhTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSBzYW1wbGVyMkRTaGFkb3cgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXA7XCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHNhbXBsZXIyRCBsaWdodFwiICsgaSArIFwiX3NoYWRvd01hcDtcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbnVtU2hhZG93TGlnaHRzKys7XG4gICAgICAgICAgICAgICAgc2hhZG93VHlwZVVzZWRbbGlnaHQuX3NoYWRvd1R5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuX2lzVnNtKSB1c2VWc20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodC5faXNQY2YgJiYgKGRldmljZS5zdXBwb3J0c0RlcHRoU2hhZG93IHx8IGRldmljZS5leHRTdGFuZGFyZERlcml2YXRpdmVzKSAmJiBsaWdodFR5cGUgPT09IExJR0hUVFlQRV9TUE9UKSB1c2VQZXJzcFpidWZmZXJTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpZ2h0Ll9jb29raWUpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuX2Nvb2tpZS5fY3ViZW1hcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfT01OSSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHNhbXBsZXJDdWJlIGxpZ2h0XCIgKyBpICsgXCJfY29va2llO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwidW5pZm9ybSBmbG9hdCBsaWdodFwiICsgaSArIFwiX2Nvb2tpZUludGVuc2l0eTtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpZ2h0LmNhc3RTaGFkb3dzIHx8IG9wdGlvbnMubm9TaGFkb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gbWF0NCBsaWdodFwiICsgaSArIFwiX3NoYWRvd01hdHJpeDtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfU1BPVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHNhbXBsZXIyRCBsaWdodFwiICsgaSArIFwiX2Nvb2tpZTtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gZmxvYXQgbGlnaHRcIiArIGkgKyBcIl9jb29raWVJbnRlbnNpdHk7XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaWdodC5jYXN0U2hhZG93cyB8fCBvcHRpb25zLm5vU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIG1hdDQgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXRyaXg7XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0Ll9jb29raWVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gdmVjNCBsaWdodFwiICsgaSArIFwiX2Nvb2tpZU1hdHJpeDtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHZlYzIgbGlnaHRcIiArIGkgKyBcIl9jb29raWVPZmZzZXQ7XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVEJOXG4gICAgICAgIGNvbnN0IGhhc1RCTiA9IHRoaXMubmVlZHNOb3JtYWwgJiYgKG9wdGlvbnMubm9ybWFsTWFwRW5hYmxlZCB8fCBvcHRpb25zLmNsZWFyQ29hdE5vcm1hbE1hcEVuYWJsZWQgfHwgKG9wdGlvbnMuZW5hYmxlR0dYU3BlY3VsYXIgJiYgIW9wdGlvbnMuaGVpZ2h0TWFwRW5hYmxlZCkpO1xuXG4gICAgICAgIGlmIChoYXNUQk4pIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc1RhbmdlbnRzKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQob3B0aW9ucy5mYXN0VGJuID8gY2h1bmtzLlRCTmZhc3RQUyA6IGNodW5rcy5UQk5QUyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkZXZpY2UuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyAmJiAob3B0aW9ucy5ub3JtYWxNYXBFbmFibGVkIHx8IG9wdGlvbnMuY2xlYXJDb2F0Tm9ybWFsTWFwRW5hYmxlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLlRCTmRlcml2YXRpdmVQUy5yZXBsYWNlKC9cXCRVVi9nLCB0aGlzLmxpZ2h0aW5nVXYpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MuVEJOT2JqZWN0U3BhY2VQUyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IG9ubHkgYWRkIHRoZXNlIHdoZW4gbmVlZGVkXG4gICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5zcGhlcmljYWxQUyk7XG4gICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5kZWNvZGVQUyk7XG4gICAgICAgIGZ1bmMuYXBwZW5kKGdhbW1hQ29kZShvcHRpb25zLmdhbW1hLCBjaHVua3MpKTtcbiAgICAgICAgZnVuYy5hcHBlbmQodG9uZW1hcENvZGUob3B0aW9ucy50b25lTWFwLCBjaHVua3MpKTtcbiAgICAgICAgZnVuYy5hcHBlbmQoZm9nQ29kZShvcHRpb25zLmZvZywgY2h1bmtzKSk7XG5cbiAgICAgICAgLy8gZnJvbnRlbmRcbiAgICAgICAgZnVuYy5hcHBlbmQodGhpcy5mcm9udGVuZENvZGUpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZUN1YmVNYXBSb3RhdGlvbikge1xuICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCIjZGVmaW5lIENVQkVNQVBfUk9UQVRJT05cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5uZWVkc05vcm1hbCkge1xuICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmN1YmVNYXBSb3RhdGVQUyk7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChvcHRpb25zLmN1YmVNYXBQcm9qZWN0aW9uID4gMCA/IGNodW5rcy5jdWJlTWFwUHJvamVjdEJveFBTIDogY2h1bmtzLmN1YmVNYXBQcm9qZWN0Tm9uZVBTKTtcbiAgICAgICAgICAgIGZ1bmMuYXBwZW5kKG9wdGlvbnMuc2t5Ym94SW50ZW5zaXR5ID8gY2h1bmtzLmVudk11bHRpcGx5UFMgOiBjaHVua3MuZW52Q29uc3RQUyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRoaXMubGlnaHRpbmcgJiYgb3B0aW9ucy51c2VTcGVjdWxhcikgfHwgdGhpcy5yZWZsZWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlTWV0YWxuZXNzKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLm1ldGFsbmVzc01vZHVsYXRlUFMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5mcmVzbmVsTW9kZWwgPT09IEZSRVNORUxfU0NITElDSykge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5mcmVzbmVsU2NobGlja1BTKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlSXJpZGVzY2VuY2UpIHtcbiAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MuaXJpZGVzY2VuY2VEaWZmcmFjdGlvblBTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZUFvID0gb3B0aW9ucy5hb01hcEVuYWJsZWQgfHwgb3B0aW9ucy51c2VBb1ZlcnRleENvbG9ycztcblxuICAgICAgICBpZiAodXNlQW8pIHtcbiAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5hb0RpZmZ1c2VPY2NQUyk7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMub2NjbHVkZVNwZWN1bGFyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTUEVDT0NDX0FPOlxuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChvcHRpb25zLm9jY2x1ZGVTcGVjdWxhckZsb2F0ID8gY2h1bmtzLmFvU3BlY09jY1NpbXBsZVBTIDogY2h1bmtzLmFvU3BlY09jY0NvbnN0U2ltcGxlUFMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFNQRUNPQ0NfR0xPU1NERVBFTkRFTlQ6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKG9wdGlvbnMub2NjbHVkZVNwZWN1bGFyRmxvYXQgPyBjaHVua3MuYW9TcGVjT2NjUFMgOiBjaHVua3MuYW9TcGVjT2NjQ29uc3RQUyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9PT0gJ2VudkF0bGFzSFEnKSB7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChvcHRpb25zLmZpeFNlYW1zID8gY2h1bmtzLmZpeEN1YmVtYXBTZWFtc1N0cmV0Y2hQUyA6IGNodW5rcy5maXhDdWJlbWFwU2VhbXNOb25lUFMpO1xuICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmVudkF0bGFzUFMpO1xuICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLnJlZmxlY3Rpb25FbnZIUVBTLnJlcGxhY2UoL1xcJERFQ09ERS9nLCBDaHVua1V0aWxzLmRlY29kZUZ1bmMob3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID09PSAnZW52QXRsYXMnKSB7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MuZW52QXRsYXNQUyk7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MucmVmbGVjdGlvbkVudlBTLnJlcGxhY2UoL1xcJERFQ09ERS9nLCBDaHVua1V0aWxzLmRlY29kZUZ1bmMob3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID09PSAnY3ViZU1hcCcpIHtcbiAgICAgICAgICAgIGZ1bmMuYXBwZW5kKG9wdGlvbnMuZml4U2VhbXMgPyBjaHVua3MuZml4Q3ViZW1hcFNlYW1zU3RyZXRjaFBTIDogY2h1bmtzLmZpeEN1YmVtYXBTZWFtc05vbmVQUyk7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MucmVmbGVjdGlvbkN1YmVQUy5yZXBsYWNlKC9cXCRERUNPREUvZywgQ2h1bmtVdGlscy5kZWNvZGVGdW5jKG9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9PT0gJ3NwaGVyZU1hcCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjb2RlID0gZGV2aWNlLmZyYWdtZW50VW5pZm9ybXNDb3VudCA+IDE2ID8gY2h1bmtzLnJlZmxlY3Rpb25TcGhlcmVQUyA6IGNodW5rcy5yZWZsZWN0aW9uU3BoZXJlTG93UFM7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChzY29kZS5yZXBsYWNlKC9cXCRERUNPREUvZywgQ2h1bmtVdGlscy5kZWNvZGVGdW5jKG9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVmbGVjdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNsZWFyQ29hdCkge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5yZWZsZWN0aW9uQ0NQUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTaGVlbikge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5yZWZsZWN0aW9uU2hlZW5QUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy51c2VSZWZyYWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VEeW5hbWljUmVmcmFjdGlvbikge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5yZWZyYWN0aW9uRHluYW1pY1BTKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWZsZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5yZWZyYWN0aW9uQ3ViZVBTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZVNoZWVuKSB7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MubGlnaHRTaGVlblBTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsdXN0ZXJlZCBsaWdodGluZ1xuICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQpIHtcblxuICAgICAgICAgICAgLy8gaW5jbHVkZSB0aGlzIGJlZm9yZSBzaGFkb3cgLyBjb29raWUgY29kZVxuICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmNsdXN0ZXJlZExpZ2h0VXRpbHNQUyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkKVxuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5jbHVzdGVyZWRMaWdodENvb2tpZXNQUyk7XG5cbiAgICAgICAgICAgIC8vIGluY2x1ZGUgc2hhZG93IGNodW5rcyBjbHVzdGVyZWQgbGlnaHRzIHN1cHBvcnRcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93c0VuYWJsZWQgJiYgIW9wdGlvbnMubm9TaGFkb3cpIHtcbiAgICAgICAgICAgICAgICBzaGFkb3dUeXBlVXNlZFtTSEFET1dfUENGM10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNoYWRvd1R5cGVVc2VkW1NIQURPV19QQ0Y1XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1c2VQZXJzcFpidWZmZXJTaGFkb3cgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bVNoYWRvd0xpZ2h0cyA+IDAgfHwgb3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChzaGFkb3dlZERpcmVjdGlvbmFsTGlnaHRVc2VkKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLnNoYWRvd0Nhc2NhZGVzUFMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNoYWRvd1R5cGVVc2VkW1NIQURPV19QQ0YzXSkge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5zaGFkb3dTdGFuZGFyZFBTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaGFkb3dUeXBlVXNlZFtTSEFET1dfUENGNV0gJiYgKGRldmljZS53ZWJnbDIgfHwgZGV2aWNlLmlzV2ViR1BVKSkge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5zaGFkb3dTdGFuZGFyZEdMMlBTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VWc20pIHtcbiAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3Muc2hhZG93VlNNX2NvbW1vblBTKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hhZG93VHlwZVVzZWRbU0hBRE9XX1ZTTThdKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5zaGFkb3dWU004UFMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hhZG93VHlwZVVzZWRbU0hBRE9XX1ZTTTE2XSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChkZXZpY2UuZXh0VGV4dHVyZUhhbGZGbG9hdExpbmVhciA/IGNodW5rcy5zaGFkb3dFVlNNUFMucmVwbGFjZSgvXFwkL2csIFwiMTZcIikgOiBjaHVua3Muc2hhZG93RVZTTW5QUy5yZXBsYWNlKC9cXCQvZywgXCIxNlwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaGFkb3dUeXBlVXNlZFtTSEFET1dfVlNNMzJdKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGRldmljZS5leHRUZXh0dXJlRmxvYXRMaW5lYXIgPyBjaHVua3Muc2hhZG93RVZTTVBTLnJlcGxhY2UoL1xcJC9nLCBcIjMyXCIpIDogY2h1bmtzLnNoYWRvd0VWU01uUFMucmVwbGFjZSgvXFwkL2csIFwiMzJcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEoZGV2aWNlLndlYmdsMiB8fCBkZXZpY2UuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyB8fCBkZXZpY2UuaXNXZWJHUFUpKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmJpYXNDb25zdFBTKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJpYXMgaXMgYXBwbGllZCBvbiByZW5kZXJcbiAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5zaGFkb3dDb29yZFBTICsgY2h1bmtzLnNoYWRvd0NvbW1vblBTKTtcbiAgICAgICAgICAgIGlmICh1c2VQZXJzcFpidWZmZXJTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3Muc2hhZG93Q29vcmRQZXJzcFpidWZmZXJQUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVHR1hTcGVjdWxhcikgZnVuYy5hcHBlbmQoXCJ1bmlmb3JtIGZsb2F0IG1hdGVyaWFsX2FuaXNvdHJvcHk7XCIpO1xuXG4gICAgICAgIGlmICh0aGlzLmxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MubGlnaHREaWZmdXNlTGFtYmVydFBTKTtcbiAgICAgICAgICAgIGlmIChoYXNBcmVhTGlnaHRzIHx8IG9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5sdGNQUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXNlT2xkQW1iaWVudCA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcikge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5saWdodGluZykge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKG9wdGlvbnMuc2hhZGluZ01vZGVsID09PSBTUEVDVUxBUl9QSE9ORyA/IGNodW5rcy5saWdodFNwZWN1bGFyUGhvbmdQUyA6IChvcHRpb25zLmVuYWJsZUdHWFNwZWN1bGFyID8gY2h1bmtzLmxpZ2h0U3BlY3VsYXJBbmlzb0dHWFBTIDogY2h1bmtzLmxpZ2h0U3BlY3VsYXJCbGlublBTKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5mcmVzbmVsTW9kZWwgJiYgIXRoaXMucmVmbGVjdGlvbnMgJiYgIW9wdGlvbnMuZGlmZnVzZU1hcEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcInVuaWZvcm0gdmVjMyBtYXRlcmlhbF9hbWJpZW50O1wiKTtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcIiNkZWZpbmUgTElUX09MRF9BTUJJRU5UXCIpO1xuICAgICAgICAgICAgICAgIHVzZU9sZEFtYmllbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmNvbWJpbmVQUyk7XG5cbiAgICAgICAgLy8gbGlnaHRtYXAgc3VwcG9ydFxuICAgICAgICBpZiAob3B0aW9ucy5saWdodE1hcEVuYWJsZWQgfHwgb3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycykge1xuICAgICAgICAgICAgZnVuYy5hcHBlbmQoKG9wdGlvbnMudXNlU3BlY3VsYXIgJiYgb3B0aW9ucy5kaXJMaWdodE1hcEVuYWJsZWQpID8gY2h1bmtzLmxpZ2h0bWFwRGlyQWRkUFMgOiBjaHVua3MubGlnaHRtYXBBZGRQUyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhZGRBbWJpZW50ID0gKCFvcHRpb25zLmxpZ2h0TWFwRW5hYmxlZCAmJiAhb3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycykgfHwgb3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50O1xuXG4gICAgICAgIGlmIChhZGRBbWJpZW50KSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbWJpZW50U291cmNlID09PSAnYW1iaWVudFNIJykge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5hbWJpZW50U0hQUyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYW1iaWVudFNvdXJjZSA9PT0gJ2VudkF0bGFzJykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgIT09ICdlbnZBdGxhcycgJiYgb3B0aW9ucy5yZWZsZWN0aW9uU291cmNlICE9PSAnZW52QXRsYXNIUScpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmVudkF0bGFzUFMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MuYW1iaWVudEVudlBTLnJlcGxhY2UoL1xcJERFQ09ERS9nLCBDaHVua1V0aWxzLmRlY29kZUZ1bmMob3B0aW9ucy5hbWJpZW50RW5jb2RpbmcpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZ1bmMuYXBwZW5kKGNodW5rcy5hbWJpZW50Q29uc3RhbnRQUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy51c2VBbWJpZW50VGludCAmJiAhdXNlT2xkQW1iaWVudCkge1xuICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIHZlYzMgbWF0ZXJpYWxfYW1iaWVudDtcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy51c2VNc2RmKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMubXNkZlRleHRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcIiNkZWZpbmUgVU5JRk9STV9URVhUX1BBUkFNRVRFUlNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3MubXNkZlBTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5lZWRzTm9ybWFsKSB7XG4gICAgICAgICAgICBmdW5jLmFwcGVuZChjaHVua3Mudmlld0RpclBTKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZVNwZWN1bGFyKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoKG9wdGlvbnMuZW5hYmxlR0dYU3BlY3VsYXIpID8gY2h1bmtzLnJlZmxEaXJBbmlzb1BTIDogY2h1bmtzLnJlZmxEaXJQUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGFzUG9pbnRMaWdodHMgPSBmYWxzZTtcbiAgICAgICAgbGV0IHVzZXNMaW5lYXJGYWxsb2ZmID0gZmFsc2U7XG4gICAgICAgIGxldCB1c2VzSW52U3F1YXJlZEZhbGxvZmYgPSBmYWxzZTtcbiAgICAgICAgbGV0IHVzZXNTcG90ID0gZmFsc2U7XG4gICAgICAgIGxldCB1c2VzQ29va2llID0gZmFsc2U7XG4gICAgICAgIGxldCB1c2VzQ29va2llTm93O1xuXG4gICAgICAgIC8vIGNsdXN0ZXJlZCBsaWdodGluZ1xuICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgJiYgdGhpcy5saWdodGluZykge1xuXG4gICAgICAgICAgICB1c2VzU3BvdCA9IHRydWU7XG4gICAgICAgICAgICBoYXNQb2ludExpZ2h0cyA9IHRydWU7XG4gICAgICAgICAgICB1c2VzTGluZWFyRmFsbG9mZiA9IHRydWU7XG4gICAgICAgICAgICB1c2VzQ29va2llID0gdHJ1ZTtcblxuICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmZsb2F0VW5wYWNraW5nUFMpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saWdodE1hc2tEeW5hbWljKVxuICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwiI2RlZmluZSBDTFVTVEVSX01FU0hfRFlOQU1JQ19MSUdIVFNcIik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQpXG4gICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCIjZGVmaW5lIENMVVNURVJfQ09PS0lFU1wiKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93c0VuYWJsZWQgJiYgIW9wdGlvbnMubm9TaGFkb3cpIHtcbiAgICAgICAgICAgICAgICBkZWNsLmFwcGVuZChcIiNkZWZpbmUgQ0xVU1RFUl9TSEFET1dTXCIpO1xuICAgICAgICAgICAgICAgIGRlY2wuYXBwZW5kKFwiI2RlZmluZSBDTFVTVEVSX1NIQURPV19UWVBFX1wiICsgc2hhZG93VHlwZVRvU3RyaW5nW29wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dUeXBlXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQpXG4gICAgICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCIjZGVmaW5lIENMVVNURVJfQVJFQUxJR0hUU1wiKTtcblxuICAgICAgICAgICAgZGVjbC5hcHBlbmQoTGlnaHRzQnVmZmVyLnNoYWRlckRlZmluZXMpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd3NFbmFibGVkICYmICFvcHRpb25zLm5vU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmNsdXN0ZXJlZExpZ2h0U2hhZG93c1BTKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuYy5hcHBlbmQoY2h1bmtzLmNsdXN0ZXJlZExpZ2h0UFMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudHdvU2lkZWRMaWdodGluZykge1xuICAgICAgICAgICAgZGVjbC5hcHBlbmQoXCJ1bmlmb3JtIGZsb2F0IHR3b1NpZGVkTGlnaHRpbmdOZWdTY2FsZUZhY3RvcjtcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGUkFHTUVOVCBTSEFERVIgQk9EWVxuXG4gICAgICAgIGNvZGUuYXBwZW5kKHRoaXMuX2ZzR2V0U3RhcnRDb2RlKGNvZGUsIGRldmljZSwgY2h1bmtzLCBvcHRpb25zKSk7XG5cbiAgICAgICAgaWYgKHRoaXMubmVlZHNOb3JtYWwpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnR3b1NpZGVkTGlnaHRpbmcpIHtcbiAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChcIiAgICBkVmVydGV4Tm9ybWFsVyA9IG5vcm1hbGl6ZShnbF9Gcm9udEZhY2luZyA/IHZOb3JtYWxXICogdHdvU2lkZWRMaWdodGluZ05lZ1NjYWxlRmFjdG9yIDogLXZOb3JtYWxXICogdHdvU2lkZWRMaWdodGluZ05lZ1NjYWxlRmFjdG9yKTtcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKFwiICAgIGRWZXJ0ZXhOb3JtYWxXID0gbm9ybWFsaXplKHZOb3JtYWxXKTtcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgob3B0aW9ucy5oZWlnaHRNYXBFbmFibGVkIHx8IG9wdGlvbnMubm9ybWFsTWFwRW5hYmxlZCkgJiYgb3B0aW9ucy5oYXNUYW5nZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnR3b1NpZGVkTGlnaHRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoXCIgICAgZFRhbmdlbnRXID0gZ2xfRnJvbnRGYWNpbmcgPyB2VGFuZ2VudFcgKiB0d29TaWRlZExpZ2h0aW5nTmVnU2NhbGVGYWN0b3IgOiAtdlRhbmdlbnRXICogdHdvU2lkZWRMaWdodGluZ05lZ1NjYWxlRmFjdG9yO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY29kZS5hcHBlbmQoXCIgICAgZEJpbm9ybWFsVyA9IGdsX0Zyb250RmFjaW5nID8gdkJpbm9ybWFsVyAqIHR3b1NpZGVkTGlnaHRpbmdOZWdTY2FsZUZhY3RvciA6IC12Qmlub3JtYWxXICogdHdvU2lkZWRMaWdodGluZ05lZ1NjYWxlRmFjdG9yO1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChcIiAgICBkVGFuZ2VudFcgPSB2VGFuZ2VudFc7XCIpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlLmFwcGVuZChcIiAgICBkQmlub3JtYWxXID0gdkJpbm9ybWFsVztcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb2RlLmFwcGVuZChcIiAgICBnZXRWaWV3RGlyKCk7XCIpO1xuICAgICAgICAgICAgaWYgKGhhc1RCTikge1xuICAgICAgICAgICAgICAgIGNvZGUuYXBwZW5kKFwiICAgIGdldFRCTihkVGFuZ2VudFcsIGRCaW5vcm1hbFcsIGRWZXJ0ZXhOb3JtYWxXKTtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbnZva2UgZnJvbnRlbmQgZnVuY3Rpb25zXG4gICAgICAgIGNvZGUuYXBwZW5kKHRoaXMuZnJvbnRlbmRGdW5jKTtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGFuZ2VudCBzcGFjZSBub3JtYWxzIHRvIHdvcmxkIHNwYWNlXG4gICAgICAgIGlmICh0aGlzLm5lZWRzTm9ybWFsKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcikge1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGdldFJlZmxEaXIobGl0U2hhZGVyQXJncy53b3JsZE5vcm1hbCwgZFZpZXdEaXJXLCBsaXRTaGFkZXJBcmdzLmdsb3NzLCBkVEJOKTtcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNsZWFyQ29hdCkge1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGNjUmVmbERpclcgPSBub3JtYWxpemUoLXJlZmxlY3QoZFZpZXdEaXJXLCBsaXRTaGFkZXJBcmdzLmNsZWFyY29hdC53b3JsZE5vcm1hbCkpO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGhpcy5saWdodGluZyAmJiBvcHRpb25zLnVzZVNwZWN1bGFyKSB8fCB0aGlzLnJlZmxlY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VNZXRhbG5lc3MpIHtcbiAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBnZXRNZXRhbG5lc3NNb2R1bGF0ZShsaXRTaGFkZXJBcmdzKTtcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUlyaWRlc2NlbmNlKSB7XG4gICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgdmVjMyBpcmlkZXNjZW5jZUZyZXNuZWwgPSBnZXRJcmlkZXNjZW5jZShzYXR1cmF0ZShkb3QoZFZpZXdEaXJXLCBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsKSksIGxpdFNoYWRlckFyZ3Muc3BlY3VsYXJpdHksIGxpdFNoYWRlckFyZ3MuaXJpZGVzY2VuY2UpO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGRBbWJpZW50KSB7XG4gICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBhZGRBbWJpZW50KGxpdFNoYWRlckFyZ3Mud29ybGROb3JtYWwpO1wiKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbnNlcnZlRW5lcmd5ICYmIG9wdGlvbnMudXNlU3BlY3VsYXIpIHtcbiAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChgICAgZERpZmZ1c2VMaWdodCA9IGREaWZmdXNlTGlnaHQgKiAoMS4wIC0gbGl0U2hhZGVyQXJncy5zcGVjdWxhcml0eSk7YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1vdmUgYW1iaWVudCBjb2xvciBvdXQgb2YgZGlmZnVzZSAodXNlZCBieSBMaWdodG1hcHBlciwgdG8gbXVsdGlwbHkgYW1iaWVudCBjb2xvciBieSBhY2N1bXVsYXRlZCBBTylcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNlcGFyYXRlQW1iaWVudCkge1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKGBcbiAgICAgICAgICAgICAgICAgICAgdmVjMyBkQW1iaWVudExpZ2h0ID0gZERpZmZ1c2VMaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZERpZmZ1c2VMaWdodCA9IHZlYzMoMCk7XG4gICAgICAgICAgICAgICAgYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy51c2VBbWJpZW50VGludCAmJiAhdXNlT2xkQW1iaWVudCkge1xuICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgZERpZmZ1c2VMaWdodCAqPSBtYXRlcmlhbF9hbWJpZW50O1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VBbyAmJiAhb3B0aW9ucy5vY2NsdWRlRGlyZWN0KSB7XG4gICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBvY2NsdWRlRGlmZnVzZShsaXRTaGFkZXJBcmdzLmFvKTtcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5saWdodE1hcEVuYWJsZWQgfHwgb3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycykge1xuICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBhZGRMaWdodE1hcChcbiAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmxpZ2h0bWFwLCBcbiAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmxpZ2h0bWFwRGlyLCBcbiAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBcbiAgICAgICAgICAgICAgICBkVmlld0RpclcsIFxuICAgICAgICAgICAgICAgIGRSZWZsRGlyVywgXG4gICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy5nbG9zcywgXG4gICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy5zcGVjdWxhcml0eSwgXG4gICAgICAgICAgICAgICAgZFZlcnRleE5vcm1hbFcsXG4gICAgICAgICAgICAgICAgZFRCTlxuICAgICAgICAgICAgI2lmIGRlZmluZWQoTElUX0lSSURFU0NFTkNFKVxuICAgICAgICAgICAgICAgICwgaXJpZGVzY2VuY2VGcmVzbmVsLFxuICAgICAgICAgICAgICAgIGxpdFNoYWRlckFyZ3MuaXJpZGVzY2VuY2VcbiAgICAgICAgICAgICNlbmRpZlxuICAgICAgICAgICAgICAgICk7YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5saWdodGluZyB8fCB0aGlzLnJlZmxlY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWZsZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNsZWFyQ29hdCkge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBhZGRSZWZsZWN0aW9uQ0MoY2NSZWZsRGlyVywgbGl0U2hhZGVyQXJncy5jbGVhcmNvYXQuZ2xvc3MpO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZnJlc25lbE1vZGVsID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgY2NGcmVzbmVsID0gZ2V0RnJlc25lbENDKGRvdChkVmlld0RpclcsIGxpdFNoYWRlckFyZ3MuY2xlYXJjb2F0LndvcmxkTm9ybWFsKSk7XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgY2NSZWZsZWN0aW9uLnJnYiAqPSBjY0ZyZXNuZWw7XCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgY2NGcmVzbmVsID0gMC4wO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcml0eUZhY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBjY1JlZmxlY3Rpb24ucmdiICo9IGxpdFNoYWRlckFyZ3Muc3BlY3VsYXJpdHlGYWN0b3I7XCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZVNoZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGFkZFJlZmxlY3Rpb25TaGVlbihsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBkVmlld0RpclcsIGxpdFNoYWRlckFyZ3Muc2hlZW4uZ2xvc3MpO1wiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBGcmVzbmVsIGhhcyB0byBiZSBhcHBsaWVkIHRvIHJlZmxlY3Rpb25zXG4gICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgYWRkUmVmbGVjdGlvbihkUmVmbERpclcsIGxpdFNoYWRlckFyZ3MuZ2xvc3MpO1wiKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmZyZXNuZWxNb2RlbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBkUmVmbGVjdGlvbi5yZ2IgKj0gXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRGcmVzbmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdChkVmlld0RpclcsIGxpdFNoYWRlckFyZ3Mud29ybGROb3JtYWwpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmdsb3NzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLnNwZWN1bGFyaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAjaWYgZGVmaW5lZChMSVRfSVJJREVTQ0VOQ0UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBpcmlkZXNjZW5jZUZyZXNuZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy5pcmlkZXNjZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgI2VuZGlmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBkUmVmbGVjdGlvbi5yZ2IgKj0gbGl0U2hhZGVyQXJncy5zcGVjdWxhcml0eTtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZVNwZWN1bGFyaXR5RmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRSZWZsZWN0aW9uLnJnYiAqPSBsaXRTaGFkZXJBcmdzLnNwZWN1bGFyaXR5RmFjdG9yO1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNBcmVhTGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BlY3VsYXIgaGFzIHRvIGJlIGFjY3VtdWxhdGVkIGRpZmZlcmVudGx5IGlmIHdlIHdhbnQgYXJlYSBsaWdodHMgdG8gbG9vayBjb3JyZWN0XG4gICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgZFNwZWN1bGFyTGlnaHQgKj0gbGl0U2hhZGVyQXJncy5zcGVjdWxhcml0eTtcIik7XG4gICAgICAgICAgICAgICAgLy8gY29kZSArPSBcIiAgICBmbG9hdCByb3VnaG5lc3MgPSBtYXgoKDEuMCAtIGRHbG9zc2luZXNzKSAqICgxLjAgLSBkR2xvc3NpbmVzcyksIDAuMDAxKTtcXG5cIjtcblxuICAgICAgICAgICAgICAgIC8vIGV2YWx1YXRlIG1hdGVyaWFsIGJhc2VkIGFyZWEgbGlnaHRzIGRhdGEsIHNoYXJlZCBieSBhbGwgYXJlYSBsaWdodHNcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcikge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBjYWxjTFRDTGlnaHRWYWx1ZXMobGl0U2hhZGVyQXJncy5nbG9zcywgbGl0U2hhZGVyQXJncy53b3JsZE5vcm1hbCwgZFZpZXdEaXJXLCBsaXRTaGFkZXJBcmdzLnNwZWN1bGFyaXR5LCBsaXRTaGFkZXJBcmdzLmNsZWFyY29hdC5nbG9zcywgbGl0U2hhZGVyQXJncy5jbGVhcmNvYXQud29ybGROb3JtYWwsIGxpdFNoYWRlckFyZ3MuY2xlYXJjb2F0LnNwZWN1bGFyaXR5KTtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubGlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlnaHQgPSBvcHRpb25zLmxpZ2h0c1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaWdodFR5cGUgPSBsaWdodC5fdHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGNsdXN0ZXJlZCBsaWdodHMgYXJlIHVzZWQsIHNraXAgbm9ybWFsIGxpZ2h0cyBvdGhlciB0aGFuIGRpcmVjdGlvbmFsXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkICYmIGxpZ2h0VHlwZSAhPT0gTElHSFRUWVBFX0RJUkVDVElPTkFMKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBpcyBub3QgZGVjb3VwbGVkIHRvIHNlcGFyYXRlIHNoYWRlciBmaWxlcywgYmVjYXVzZSBtb3N0IG9mIGl0IGNhbiBiZSBhY3R1YWxseSBjaGFuZ2VkIHRvIGFjaGlldmUgZGlmZmVyZW50IGJlaGF2aW9ycyBsaWtlOlxuICAgICAgICAgICAgICAgIC8vIC0gZGlmZmVyZW50IGZhbGxvZmZzXG4gICAgICAgICAgICAgICAgLy8gLSBkaWZmZXJlbnQgc2hhZG93IGNvb3JkcyAob21uaSBzaGFkb3dzIHdpbGwgdXNlIGRyYXN0aWNhbGx5IGRpZmZlcmVudCBnZW5TaGFkb3dDb29yZClcbiAgICAgICAgICAgICAgICAvLyAtIGRpZmZlcmVudCBzaGFkb3cgZmlsdGVyIG1vZGVzXG4gICAgICAgICAgICAgICAgLy8gLSBkaWZmZXJlbnQgbGlnaHQgc291cmNlIHNoYXBlc1xuXG4gICAgICAgICAgICAgICAgLy8gZ2V0TGlnaHREaWZmdXNlIGFuZCBnZXRMaWdodFNwZWN1bGFyIGlzIEJSREYgaXRzZWxmLlxuXG4gICAgICAgICAgICAgICAgdXNlc0Nvb2tpZU5vdyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGlnaHRTaGFwZSA9IChoYXNBcmVhTGlnaHRzICYmIGxpZ2h0Ll9zaGFwZSkgPyBsaWdodC5zaGFwZSA6IExJR0hUU0hBUEVfUFVOQ1RVQUw7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcGVTdHJpbmcgPSAoaGFzQXJlYUxpZ2h0cyAmJiBsaWdodC5fc2hhcGUpID8gdGhpcy5fZ2V0TGlnaHRTb3VyY2VTaGFwZVN0cmluZyhsaWdodFNoYXBlKSA6ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0U2hhcGUgIT09IExJR0hUU0hBUEVfUFVOQ1RVQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgY2FsY1wiICsgc2hhcGVTdHJpbmcgKyBcIkxpZ2h0VmFsdWVzKGxpZ2h0XCIgKyBpICsgXCJfcG9zaXRpb24sIGxpZ2h0XCIgKyBpICsgXCJfaGFsZldpZHRoLCBsaWdodFwiICsgaSArIFwiX2hhbGZIZWlnaHQpO1wiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlyZWN0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgZExpZ2h0RGlyTm9ybVcgPSBsaWdodFwiICsgaSArIFwiX2RpcmVjdGlvbjtcIik7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbiA9IDEuMDtcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHQuX2Nvb2tpZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0VHlwZSA9PT0gTElHSFRUWVBFX1NQT1QgJiYgIWxpZ2h0Ll9jb29raWUuX2N1YmVtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VzQ29va2llID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VzQ29va2llTm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfT01OSSAmJiBsaWdodC5fY29va2llLl9jdWJlbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlc0Nvb2tpZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlc0Nvb2tpZU5vdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBnZXRMaWdodERpclBvaW50KGxpZ2h0XCIgKyBpICsgXCJfcG9zaXRpb24pO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzUG9pbnRMaWdodHMgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VzQ29va2llTm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfU1BPVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbjMgPSBnZXRDb29raWUyRFwiICsgKGxpZ2h0Ll9jb29raWVGYWxsb2ZmID8gXCJcIiA6IFwiQ2xpcFwiKSArIChsaWdodC5fY29va2llVHJhbnNmb3JtID8gXCJYZm9ybVwiIDogXCJcIikgKyBcIihsaWdodFwiICsgaSArIFwiX2Nvb2tpZSwgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXRyaXgsIGxpZ2h0XCIgKyBpICsgXCJfY29va2llSW50ZW5zaXR5XCIgKyAobGlnaHQuX2Nvb2tpZVRyYW5zZm9ybSA/IFwiLCBsaWdodFwiICsgaSArIFwiX2Nvb2tpZU1hdHJpeCwgbGlnaHRcIiArIGkgKyBcIl9jb29raWVPZmZzZXRcIiA6IFwiXCIpICsgXCIpLlwiICsgbGlnaHQuX2Nvb2tpZUNoYW5uZWwgKyBcIjtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbjMgPSBnZXRDb29raWVDdWJlKGxpZ2h0XCIgKyBpICsgXCJfY29va2llLCBsaWdodFwiICsgaSArIFwiX3NoYWRvd01hdHJpeCwgbGlnaHRcIiArIGkgKyBcIl9jb29raWVJbnRlbnNpdHkpLlwiICsgbGlnaHQuX2Nvb2tpZUNoYW5uZWwgKyBcIjtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRTaGFwZSA9PT0gTElHSFRTSEFQRV9QVU5DVFVBTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0Ll9mYWxsb2ZmTW9kZSA9PT0gTElHSFRGQUxMT0ZGX0xJTkVBUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbiA9IGdldEZhbGxvZmZMaW5lYXIobGlnaHRcIiArIGkgKyBcIl9yYWRpdXMsIGRMaWdodERpclcpO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VzTGluZWFyRmFsbG9mZiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbiA9IGdldEZhbGxvZmZJbnZTcXVhcmVkKGxpZ2h0XCIgKyBpICsgXCJfcmFkaXVzLCBkTGlnaHREaXJXKTtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlc0ludlNxdWFyZWRGYWxsb2ZmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vbiBwdW5jdHVhbCBsaWdodHMgb25seSBnZXRzIHRoZSByYW5nZSB3aW5kb3cgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgZEF0dGVuID0gZ2V0RmFsbG9mZldpbmRvdyhsaWdodFwiICsgaSArIFwiX3JhZGl1cywgZExpZ2h0RGlyVyk7XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlc0ludlNxdWFyZWRGYWxsb2ZmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGlmIChkQXR0ZW4gPiAwLjAwMDAxKSB7XCIpOyAvLyBCUkFOQ0ggU1RBUlRcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfU1BPVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodXNlc0Nvb2tpZU5vdyAmJiAhbGlnaHQuX2Nvb2tpZUZhbGxvZmYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgZEF0dGVuICo9IGdldFNwb3RFZmZlY3QobGlnaHRcIiArIGkgKyBcIl9kaXJlY3Rpb24sIGxpZ2h0XCIgKyBpICsgXCJfaW5uZXJDb25lQW5nbGUsIGxpZ2h0XCIgKyBpICsgXCJfb3V0ZXJDb25lQW5nbGUsIGRMaWdodERpck5vcm1XKTtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlc1Nwb3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZGlmZnVzZSBsaWdodGluZyAtIExUQyBsaWdodHMgZG8gbm90IG1peCBkaWZmdXNlIGxpZ2h0aW5nIGludG8gYXR0ZW51YXRpb24gdGhhdCBhZmZlY3RzIHNwZWN1bGFyXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0U2hhcGUgIT09IExJR0hUU0hBUEVfUFVOQ1RVQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0VHlwZSA9PT0gTElHSFRUWVBFX0RJUkVDVElPTkFMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOQjogQSBiZXR0ZXIgYXByb3hpbWF0aW9uIHBlcmhhcHMgdXNpbmcgd3JhcCBsaWdodGluZyBjb3VsZCBiZSBpbXBsZW1lbnRlZCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBkQXR0ZW5EID0gZ2V0TGlnaHREaWZmdXNlKGxpdFNoYWRlckFyZ3Mud29ybGROb3JtYWwsIGRWaWV3RGlyVywgZExpZ2h0RGlyVywgZExpZ2h0RGlyTm9ybVcpO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDE2LjAgaXMgYSBjb25zdGFudCB0aGF0IGlzIGluIGdldEZhbGxvZmZJbnZTcXVhcmVkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbkQgPSBnZXRcIiArIHNoYXBlU3RyaW5nICsgXCJMaWdodERpZmZ1c2UobGl0U2hhZGVyQXJncy53b3JsZE5vcm1hbCwgZFZpZXdEaXJXLCBkTGlnaHREaXJXLCBkTGlnaHREaXJOb3JtVykgKiAxNi4wO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRBdHRlbiAqPSBnZXRMaWdodERpZmZ1c2UobGl0U2hhZGVyQXJncy53b3JsZE5vcm1hbCwgZFZpZXdEaXJXLCBkTGlnaHREaXJXLCBkTGlnaHREaXJOb3JtVyk7XCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsaWdodC5jYXN0U2hhZG93cyAmJiAhb3B0aW9ucy5ub1NoYWRvdykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2hhZG93UmVhZE1vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXZzbUV4cDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0Ll9zaGFkb3dUeXBlID09PSBTSEFET1dfVlNNOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93UmVhZE1vZGUgPSBcIlZTTThcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2c21FeHAgPSBcIjAuMFwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpZ2h0Ll9zaGFkb3dUeXBlID09PSBTSEFET1dfVlNNMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1JlYWRNb2RlID0gXCJWU00xNlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZzbUV4cCA9IFwiNS41NFwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpZ2h0Ll9zaGFkb3dUeXBlID09PSBTSEFET1dfVlNNMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1JlYWRNb2RlID0gXCJWU00zMlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldmljZS50ZXh0dXJlRmxvYXRIaWdoUHJlY2lzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZzbUV4cCA9IFwiMTUuMFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnNtRXhwID0gXCI1LjU0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGlnaHQuX3NoYWRvd1R5cGUgPT09IFNIQURPV19QQ0Y1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dSZWFkTW9kZSA9IFwiUENGNXg1XCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dSZWFkTW9kZSA9IFwiUENGM3gzXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93UmVhZE1vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaWdodFR5cGUgPT09IExJR0hUVFlQRV9PTU5JKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93Q29vcmRBcmdzID0gXCIobGlnaHRcIiArIGkgKyBcIl9zaGFkb3dNYXAsIGRTaGFkb3dDb29yZCwgbGlnaHRcIiArIGkgKyBcIl9zaGFkb3dQYXJhbXMsIGRMaWdodERpclcpO1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaWdodC5fbm9ybWFsT2Zmc2V0Qmlhcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBub3JtYWxPZmZzZXRQb2ludFNoYWRvdyhsaWdodFwiICsgaSArIFwiX3NoYWRvd1BhcmFtcywgZExpZ2h0UG9zVywgZExpZ2h0RGlyVywgZExpZ2h0RGlyTm9ybVcsIGRWZXJ0ZXhOb3JtYWxXKTtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKGAgICAgZmxvYXQgc2hhZG93JHtpfSA9IGdldFNoYWRvd1BvaW50JHtzaGFkb3dSZWFkTW9kZX0ke3NoYWRvd0Nvb3JkQXJnc31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChgICAgIGRBdHRlbiAqPSBtaXgoMS4wLCBzaGFkb3cke2l9LCBsaWdodCR7aX1fc2hhZG93SW50ZW5zaXR5KTtgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93TWF0QXJnID0gYGxpZ2h0JHtpfV9zaGFkb3dNYXRyaXhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd1BhcmFtQXJnID0gYGxpZ2h0JHtpfV9zaGFkb3dQYXJhbXNgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKHRoaXMuX25vblBvaW50U2hhZG93TWFwUHJvamVjdGlvbihkZXZpY2UsIG9wdGlvbnMubGlnaHRzW2ldLCBzaGFkb3dNYXRBcmcsIHNoYWRvd1BhcmFtQXJnLCBpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfU1BPVCkgc2hhZG93UmVhZE1vZGUgPSBcIlNwb3RcIiArIHNoYWRvd1JlYWRNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKGAgICAgZmxvYXQgc2hhZG93JHtpfSA9IGdldFNoYWRvdyR7c2hhZG93UmVhZE1vZGV9KFNIQURPV01BUF9QQVNTKGxpZ2h0JHtpfV9zaGFkb3dNYXApLCBkU2hhZG93Q29vcmQsIGxpZ2h0JHtpfV9zaGFkb3dQYXJhbXMkeyhsaWdodC5faXNWc20gPyBcIiwgXCIgKyBldnNtRXhwICsgXCIsIGRMaWdodERpcldcIiA6IFwiXCIpfSk7YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBkQXR0ZW4gKj0gbWl4KDEuMCwgc2hhZG93JHtpfSwgbGlnaHQke2l9X3NoYWRvd0ludGVuc2l0eSk7YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGlnaHRTaGFwZSAhPT0gTElHSFRTSEFQRV9QVU5DVFVBTCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZWEgbGlnaHQgLSB0aGV5IGRvIG5vdCBtaXggZGlmZnVzZSBsaWdodGluZyBpbnRvIHNwZWN1bGFyIGF0dGVudWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbnNlcnZlRW5lcmd5ICYmIG9wdGlvbnMudXNlU3BlY3VsYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGREaWZmdXNlTGlnaHQgKz0gKChkQXR0ZW5EICogZEF0dGVuKSAqIGxpZ2h0XCIgKyBpICsgXCJfY29sb3JcIiArICh1c2VzQ29va2llTm93ID8gXCIgKiBkQXR0ZW4zXCIgOiBcIlwiKSArIFwiKSAqICgxLjAgLSBkTFRDU3BlY0ZyZXMpO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGREaWZmdXNlTGlnaHQgKz0gKGRBdHRlbkQgKiBkQXR0ZW4pICogbGlnaHRcIiArIGkgKyBcIl9jb2xvclwiICsgKHVzZXNDb29raWVOb3cgPyBcIiAqIGRBdHRlbjNcIiA6IFwiXCIpICsgXCI7XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBwdW5jdHVhbCBsaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQXJlYUxpZ2h0cyAmJiBvcHRpb25zLmNvbnNlcnZlRW5lcmd5ICYmIG9wdGlvbnMudXNlU3BlY3VsYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGREaWZmdXNlTGlnaHQgKz0gKGRBdHRlbiAqIGxpZ2h0XCIgKyBpICsgXCJfY29sb3JcIiArICh1c2VzQ29va2llTm93ID8gXCIgKiBkQXR0ZW4zXCIgOiBcIlwiKSArIFwiKSAqICgxLjAgLSBsaXRTaGFkZXJBcmdzLnNwZWN1bGFyaXR5KTtcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBkRGlmZnVzZUxpZ2h0ICs9IGRBdHRlbiAqIGxpZ2h0XCIgKyBpICsgXCJfY29sb3JcIiArICh1c2VzQ29va2llTm93ID8gXCIgKiBkQXR0ZW4zXCIgOiBcIlwiKSArIFwiO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZVNwZWN1bGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGRIYWxmRGlyVyA9IG5vcm1hbGl6ZSgtZExpZ2h0RGlyTm9ybVcgKyBkVmlld0RpclcpO1wiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzcGVjdWxhciAvIGNsZWFyIGNvYXRcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRTaGFwZSAhPT0gTElHSFRTSEFQRV9QVU5DVFVBTCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZWEgbGlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ2xlYXJDb2F0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChgICAgIGNjU3BlY3VsYXJMaWdodCArPSBjY0xUQ1NwZWNGcmVzICogZ2V0JHtzaGFwZVN0cmluZ31MaWdodFNwZWN1bGFyKGxpdFNoYWRlckFyZ3MuY2xlYXJjb2F0LndvcmxkTm9ybWFsLCBkVmlld0RpclcpICogZEF0dGVuICogbGlnaHQke2l9X2NvbG9yYCArICh1c2VzQ29va2llTm93ID8gXCIgKiBkQXR0ZW4zXCIgOiBcIlwiKSArIFwiO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBkU3BlY3VsYXJMaWdodCArPSBkTFRDU3BlY0ZyZXMgKiBnZXQke3NoYXBlU3RyaW5nfUxpZ2h0U3BlY3VsYXIobGl0U2hhZGVyQXJncy53b3JsZE5vcm1hbCwgZFZpZXdEaXJXKSAqIGRBdHRlbiAqIGxpZ2h0JHtpfV9jb2xvcmAgKyAodXNlc0Nvb2tpZU5vdyA/IFwiICogZEF0dGVuM1wiIDogXCJcIikgKyBcIjtcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxjRnJlc25lbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlID09PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwgJiYgb3B0aW9ucy5mcmVzbmVsTW9kZWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjRnJlc25lbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBMVEMgbGlnaHRzIGFyZSBwcmVzZW50LCBzcGVjdWxhciBtdXN0IGJlIGFjY3VtdWxhdGVkIHdpdGggc3BlY3VsYXJpdHkgKHNwZWN1bGFyaXR5IGlzIHByZSBtdWx0aXBsaWVkIGJ5IHB1bmN0dWFsIGxpZ2h0IGZyZXNuZWwpXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNsZWFyQ29hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBjY1NwZWN1bGFyTGlnaHQgKz0gZ2V0TGlnaHRTcGVjdWxhcihkSGFsZkRpclcsIGNjUmVmbERpclcsIGxpdFNoYWRlckFyZ3MuY2xlYXJjb2F0LndvcmxkTm9ybWFsLCBkVmlld0RpclcsIGRMaWdodERpck5vcm1XLCBsaXRTaGFkZXJBcmdzLmNsZWFyY29hdC5nbG9zcywgZFRCTikgKiBkQXR0ZW4gKiBsaWdodCR7aX1fY29sb3JgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodXNlc0Nvb2tpZU5vdyA/IFwiICogZEF0dGVuM1wiIDogXCJcIikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYWxjRnJlc25lbCA/IFwiICogZ2V0RnJlc25lbENDKGRvdChkVmlld0RpclcsIGRIYWxmRGlyVykpO1wiIDogXCI7XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTaGVlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBzU3BlY3VsYXJMaWdodCArPSBnZXRMaWdodFNwZWN1bGFyU2hlZW4oZEhhbGZEaXJXLCBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBkVmlld0RpclcsIGRMaWdodERpck5vcm1XLCBsaXRTaGFkZXJBcmdzLnNoZWVuLmdsb3NzKSAqIGRBdHRlbiAqIGxpZ2h0JHtpfV9jb2xvcmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1c2VzQ29va2llTm93ID8gXCIgKiBkQXR0ZW4zO1wiIDogXCI7XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VTcGVjdWxhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoYCAgICBkU3BlY3VsYXJMaWdodCArPSBnZXRMaWdodFNwZWN1bGFyKGRIYWxmRGlyVywgZFJlZmxEaXJXLCBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBkVmlld0RpclcsIGRMaWdodERpck5vcm1XLCBsaXRTaGFkZXJBcmdzLmdsb3NzLCBkVEJOKSAqIGRBdHRlbiAqIGxpZ2h0JHtpfV9jb2xvcmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1c2VzQ29va2llTm93ID8gXCIgKiBkQXR0ZW4zXCIgOiBcIlwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNhbGNGcmVzbmVsID8gYCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBnZXRGcmVzbmVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KGRWaWV3RGlyVywgZEhhbGZEaXJXKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmdsb3NzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdFNoYWRlckFyZ3Muc3BlY3VsYXJpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmIGRlZmluZWQoTElUX0lSSURFU0NFTkNFKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBpcmlkZXNjZW5jZUZyZXNuZWwsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy5pcmlkZXNjZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kaWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtgIDogYCogbGl0U2hhZGVyQXJncy5zcGVjdWxhcml0eTtgKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGlnaHRUeXBlICE9PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgfVwiKTsgLy8gQlJBTkNIIEVORFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2x1c3RlcmVkIGxpZ2h0aW5nXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgJiYgdGhpcy5saWdodGluZykge1xuICAgICAgICAgICAgICAgIHVzZXNMaW5lYXJGYWxsb2ZmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB1c2VzSW52U3F1YXJlZEZhbGxvZmYgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhhc1BvaW50TGlnaHRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChgICAgIGFkZENsdXN0ZXJlZExpZ2h0cyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkVmlld0RpclcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRSZWZsRGlyVyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmIGRlZmluZWQoTElUX0NMRUFSQ09BVClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjY1JlZmxEaXJXLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kaWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmdsb3NzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLnNwZWN1bGFyaXR5LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkVmVydGV4Tm9ybWFsVywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZFRCTiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiBkZWZpbmVkKExJVF9JUklERVNDRU5DRSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcmlkZXNjZW5jZUZyZXNuZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmRpZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdFNoYWRlckFyZ3MuY2xlYXJjb2F0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLnNoZWVuLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmlyaWRlc2NlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO2ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzQXJlYUxpZ2h0cykge1xuICAgICAgICAgICAgICAgIC8vIHNwZWN1bGFyIGhhcyB0byBiZSBhY2N1bXVsYXRlZCBkaWZmZXJlbnRseSBpZiB3ZSB3YW50IGFyZWEgbGlnaHRzIHRvIGxvb2sgY29ycmVjdFxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNsZWFyQ29hdCkge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBsaXRTaGFkZXJBcmdzLmNsZWFyY29hdC5zcGVjdWxhcml0eSA9IDEuMDtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZVNwZWN1bGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIGxpdFNoYWRlckFyZ3Muc3BlY3VsYXJpdHkgPSB2ZWMzKDEpO1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZVJlZnJhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChgICAgIGFkZFJlZnJhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGRWaWV3RGlyVywgXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLnRoaWNrbmVzcywgXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXRTaGFkZXJBcmdzLmdsb3NzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpdFNoYWRlckFyZ3Muc3BlY3VsYXJpdHksIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy5hbGJlZG8sIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy50cmFuc21pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgI2lmIGRlZmluZWQoTElUX0lSSURFU0NFTkNFKVxuICAgICAgICAgICAgICAgICAgICAgICAgLCBpcmlkZXNjZW5jZUZyZXNuZWwsIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGl0U2hhZGVyQXJncy5pcmlkZXNjZW5jZVxuICAgICAgICAgICAgICAgICAgICAjZW5kaWZcbiAgICAgICAgICAgICAgICAgICAgKTtgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VBbykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMub2NjbHVkZURpcmVjdCkge1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIG9jY2x1ZGVEaWZmdXNlKGxpdFNoYWRlckFyZ3MuYW8pO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9jY2x1ZGVTcGVjdWxhciA9PT0gU1BFQ09DQ19BTyB8fCBvcHRpb25zLm9jY2x1ZGVTcGVjdWxhciA9PT0gU1BFQ09DQ19HTE9TU0RFUEVOREVOVCkge1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiICAgIG9jY2x1ZGVTcGVjdWxhcihsaXRTaGFkZXJBcmdzLmdsb3NzLCBsaXRTaGFkZXJBcmdzLmFvLCBsaXRTaGFkZXJBcmdzLndvcmxkTm9ybWFsLCBkVmlld0RpclcpO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZVNwZWN1bGFyaXR5RmFjdG9yKSB7XG4gICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcIiAgICBkU3BlY3VsYXJMaWdodCAqPSBsaXRTaGFkZXJBcmdzLnNwZWN1bGFyaXR5RmFjdG9yO1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm9wYWNpdHlGYWRlc1NwZWN1bGFyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYmxlbmRUeXBlID09PSBCTEVORF9OT1JNQUwgfHwgb3B0aW9ucy5ibGVuZFR5cGUgPT09IEJMRU5EX1BSRU1VTFRJUExJRUQpIHtcbiAgICAgICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcImZsb2F0IHNwZWNMdW0gPSBkb3QoKGRTcGVjdWxhckxpZ2h0ICsgZFJlZmxlY3Rpb24ucmdiICogZFJlZmxlY3Rpb24uYSksIHZlYzMoIDAuMjEyNiwgMC43MTUyLCAwLjA3MjIgKSk7XCIpO1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwiI2lmZGVmIExJVF9DTEVBUkNPQVRcXG4gc3BlY0x1bSArPSBkb3QoY2NTcGVjdWxhckxpZ2h0ICogbGl0U2hhZGVyQXJncy5jbGVhcmNvYXQuc3BlY3VsYXJpdHkgKyBjY1JlZmxlY3Rpb24ucmdiICogbGl0U2hhZGVyQXJncy5jbGVhcmNvYXQuc3BlY3VsYXJpdHksIHZlYzMoIDAuMjEyNiwgMC43MTUyLCAwLjA3MjIgKSk7XFxuI2VuZGlmXCIpO1xuICAgICAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKFwibGl0U2hhZGVyQXJncy5vcGFjaXR5ID0gY2xhbXAobGl0U2hhZGVyQXJncy5vcGFjaXR5ICsgZ2FtbWFDb3JyZWN0SW5wdXQoc3BlY0x1bSksIDAuMCwgMS4wKTtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYWNrZW5kLmFwcGVuZChcImxpdFNoYWRlckFyZ3Mub3BhY2l0eSAqPSBtYXRlcmlhbF9hbHBoYUZhZGU7XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFja2VuZC5hcHBlbmQoY2h1bmtzLmVuZFBTKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYmxlbmRUeXBlID09PSBCTEVORF9OT1JNQUwgfHwgb3B0aW9ucy5ibGVuZFR5cGUgPT09IEJMRU5EX0FERElUSVZFQUxQSEEgfHwgb3B0aW9ucy5hbHBoYVRvQ292ZXJhZ2UpIHtcbiAgICAgICAgICAgIGJhY2tlbmQuYXBwZW5kKGNodW5rcy5vdXRwdXRBbHBoYVBTKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmJsZW5kVHlwZSA9PT0gQkxFTkRfUFJFTVVMVElQTElFRCkge1xuICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoY2h1bmtzLm91dHB1dEFscGhhUHJlbXVsUFMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoY2h1bmtzLm91dHB1dEFscGhhT3BhcXVlUFMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudXNlTXNkZikge1xuICAgICAgICAgICAgYmFja2VuZC5hcHBlbmQoXCIgICAgZ2xfRnJhZ0NvbG9yID0gYXBwbHlNc2RmKGdsX0ZyYWdDb2xvcik7XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFja2VuZC5hcHBlbmQoY2h1bmtzLmRlYnVnT3V0cHV0UFMpO1xuXG4gICAgICAgIGlmIChoYXNQb2ludExpZ2h0cykge1xuICAgICAgICAgICAgZnVuYy5wcmVwZW5kKGNodW5rcy5saWdodERpclBvaW50UFMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VzTGluZWFyRmFsbG9mZikge1xuICAgICAgICAgICAgZnVuYy5wcmVwZW5kKGNodW5rcy5mYWxsb2ZmTGluZWFyUFMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VzSW52U3F1YXJlZEZhbGxvZmYpIHtcbiAgICAgICAgICAgIGZ1bmMucHJlcGVuZChjaHVua3MuZmFsbG9mZkludlNxdWFyZWRQUyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXNTcG90KSB7XG4gICAgICAgICAgICBmdW5jLnByZXBlbmQoY2h1bmtzLnNwb3RQUyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXNDb29raWUgJiYgIW9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAvLyBub24tY2x1c3RlcmVkIGxpZ2h0cyBjb29raWUgY29kZVxuICAgICAgICAgICAgZnVuYy5wcmVwZW5kKGNodW5rcy5jb29raWVQUyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cnVjdENvZGUgPSBcIlwiO1xuXG4gICAgICAgIGNvbnN0IGJhY2tlbmRDb2RlID0gYHZvaWQgZXZhbHVhdGVCYWNrZW5kKExpdFNoYWRlckFyZ3VtZW50cyBsaXRTaGFkZXJBcmdzKSB7XFxuJHtiYWNrZW5kLmNvZGV9XFxufWA7XG4gICAgICAgIGZ1bmMuYXBwZW5kKGJhY2tlbmRDb2RlKTtcblxuICAgICAgICBjb2RlLmFwcGVuZChjaHVua3MuZGVidWdQcm9jZXNzRnJvbnRlbmRQUyk7XG5cbiAgICAgICAgY29kZS5hcHBlbmQoXCIgICAgZXZhbHVhdGVCYWNrZW5kKGxpdFNoYWRlckFyZ3MpO1wiKTtcblxuICAgICAgICBjb2RlLmFwcGVuZChlbmQoKSk7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VkQ29kZSA9IGRlY2wuY29kZSArIGZ1bmMuY29kZSArIGNvZGUuY29kZTtcblxuICAgICAgICAvLyBMaWdodCBpbnB1dHNcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJkVEJOXCIpKSBzdHJ1Y3RDb2RlICs9IFwibWF0MyBkVEJOO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRWZXJ0ZXhOb3JtYWxXXCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjMyBkVmVydGV4Tm9ybWFsVztcXG5cIjtcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJkVGFuZ2VudFdcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGRUYW5nZW50VztcXG5cIjtcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJkQmlub3JtYWxXXCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjMyBkQmlub3JtYWxXO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRWaWV3RGlyV1wiKSkgc3RydWN0Q29kZSArPSBcInZlYzMgZFZpZXdEaXJXO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRSZWZsRGlyV1wiKSkgc3RydWN0Q29kZSArPSBcInZlYzMgZFJlZmxEaXJXO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRIYWxmRGlyV1wiKSkgc3RydWN0Q29kZSArPSBcInZlYzMgZEhhbGZEaXJXO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImNjUmVmbERpcldcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGNjUmVmbERpclc7XFxuXCI7XG5cbiAgICAgICAgLy8gUGVyLWxpZ2h0IHRlbXBvcmFyaWVzXG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiZExpZ2h0RGlyTm9ybVdcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGRMaWdodERpck5vcm1XO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRMaWdodERpcldcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGRMaWdodERpclc7XFxuXCI7XG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiZExpZ2h0UG9zV1wiKSkgc3RydWN0Q29kZSArPSBcInZlYzMgZExpZ2h0UG9zVztcXG5cIjtcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJkU2hhZG93Q29vcmRcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGRTaGFkb3dDb29yZDtcXG5cIjtcblxuICAgICAgICAvLyBPdXRwdXRzXG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiZFJlZmxlY3Rpb25cIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWM0IGRSZWZsZWN0aW9uO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImREaWZmdXNlTGlnaHRcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGREaWZmdXNlTGlnaHQ7XFxuXCI7XG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiZFNwZWN1bGFyTGlnaHRcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIGRTcGVjdWxhckxpZ2h0O1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRBdHRlblwiKSkgc3RydWN0Q29kZSArPSBcImZsb2F0IGRBdHRlbjtcXG5cIjtcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJkQXR0ZW5EXCIpKSBzdHJ1Y3RDb2RlICs9IFwiZmxvYXQgZEF0dGVuRDtcXG5cIjsgLy8gc2VwYXJhdGUgZGlmZnVzZSBhdHRlbnVhdGlvbiBmb3Igbm9uLXB1bmN0dWFsIGxpZ2h0IHNvdXJjZXNcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJkQXR0ZW4zXCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjMyBkQXR0ZW4zO1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcImRNc2RmXCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjNCBkTXNkZjtcXG5cIjtcbiAgICAgICAgaWYgKG1lcmdlZENvZGUuaW5jbHVkZXMoXCJjY0ZyZXNuZWxcIikpIHN0cnVjdENvZGUgKz0gXCJmbG9hdCBjY0ZyZXNuZWw7XFxuXCI7XG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiY2NSZWZsZWN0aW9uXCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjMyBjY1JlZmxlY3Rpb247XFxuXCI7XG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiY2NTcGVjdWxhckxpZ2h0XCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjMyBjY1NwZWN1bGFyTGlnaHQ7XFxuXCI7XG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwiY2NTcGVjdWxhcml0eU5vRnJlc1wiKSkgc3RydWN0Q29kZSArPSBcImZsb2F0IGNjU3BlY3VsYXJpdHlOb0ZyZXM7XFxuXCI7XG4gICAgICAgIGlmIChtZXJnZWRDb2RlLmluY2x1ZGVzKFwic1NwZWN1bGFyTGlnaHRcIikpIHN0cnVjdENvZGUgKz0gXCJ2ZWMzIHNTcGVjdWxhckxpZ2h0O1xcblwiO1xuICAgICAgICBpZiAobWVyZ2VkQ29kZS5pbmNsdWRlcyhcInNSZWZsZWN0aW9uXCIpKSBzdHJ1Y3RDb2RlICs9IFwidmVjMyBzUmVmbGVjdGlvbjtcXG5cIjtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9mc0dldEJlZ2luQ29kZSgpICtcbiAgICAgICAgICAgIHRoaXMudmFyeWluZ3MgK1xuICAgICAgICAgICAgdGhpcy52YXJ5aW5nRGVmaW5lcyArXG4gICAgICAgICAgICB0aGlzLl9mc0dldEJhc2VDb2RlKCkgK1xuICAgICAgICAgICAgKG9wdGlvbnMuZGV0YWlsTW9kZXMgPyBjaHVua3MuZGV0YWlsTW9kZXNQUyA6IFwiXCIpICtcbiAgICAgICAgICAgIHN0cnVjdENvZGUgK1xuICAgICAgICAgICAgdGhpcy5mcm9udGVuZERlY2wgK1xuICAgICAgICAgICAgbWVyZ2VkQ29kZTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGdlbmVyYXRlRnJhZ21lbnRTaGFkZXIoZnJvbnRlbmREZWNsLCBmcm9udGVuZENvZGUsIGZyb250ZW5kRnVuYywgbGlnaHRpbmdVdikge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHRoaXMuZnJvbnRlbmREZWNsID0gZnJvbnRlbmREZWNsO1xuICAgICAgICB0aGlzLmZyb250ZW5kQ29kZSA9IGZyb250ZW5kQ29kZTtcbiAgICAgICAgdGhpcy5mcm9udGVuZEZ1bmMgPSBmcm9udGVuZEZ1bmM7XG4gICAgICAgIHRoaXMubGlnaHRpbmdVdiA9IGxpZ2h0aW5nVXY7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucGFzcyA9PT0gU0hBREVSX1BJQ0spIHtcbiAgICAgICAgICAgIHRoaXMuZnNoYWRlciA9IHRoaXMuX2ZzR2V0UGlja1Bhc3NDb2RlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wYXNzID09PSBTSEFERVJfREVQVEgpIHtcbiAgICAgICAgICAgIHRoaXMuZnNoYWRlciA9IHRoaXMuX2ZzR2V0RGVwdGhQYXNzQ29kZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2hhZG93UGFzcykge1xuICAgICAgICAgICAgdGhpcy5mc2hhZGVyID0gdGhpcy5fZnNHZXRTaGFkb3dQYXNzQ29kZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY3VzdG9tRnJhZ21lbnRTaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZnNoYWRlciA9IHRoaXMuX2ZzR2V0QmVnaW5Db2RlKCkgKyBvcHRpb25zLmN1c3RvbUZyYWdtZW50U2hhZGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mc2hhZGVyID0gdGhpcy5fZnNHZXRMaXRQYXNzQ29kZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RGVmaW5pdGlvbigpIHtcblxuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gU2hhZGVyVXRpbHMuY3JlYXRlRGVmaW5pdGlvbih0aGlzLmRldmljZSwge1xuICAgICAgICAgICAgbmFtZTogJ0xpdFNoYWRlcicsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0aGlzLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICB2ZXJ0ZXhDb2RlOiB0aGlzLnZzaGFkZXIsXG4gICAgICAgICAgICBmcmFnbWVudENvZGU6IHRoaXMuZnNoYWRlclxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzRm9yd2FyZFBhc3MpIHtcbiAgICAgICAgICAgIGRlZmluaXRpb24udGFnID0gU0hBREVSVEFHX01BVEVSSUFMO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb247XG4gICAgfVxufVxuXG5leHBvcnQgeyBMaXRTaGFkZXIgfTtcbiJdLCJuYW1lcyI6WyJidWlsdGluQXR0cmlidXRlcyIsInZlcnRleF9ub3JtYWwiLCJTRU1BTlRJQ19OT1JNQUwiLCJ2ZXJ0ZXhfdGFuZ2VudCIsIlNFTUFOVElDX1RBTkdFTlQiLCJ2ZXJ0ZXhfdGV4Q29vcmQwIiwiU0VNQU5USUNfVEVYQ09PUkQwIiwidmVydGV4X3RleENvb3JkMSIsIlNFTUFOVElDX1RFWENPT1JEMSIsInZlcnRleF9jb2xvciIsIlNFTUFOVElDX0NPTE9SIiwidmVydGV4X2JvbmVXZWlnaHRzIiwiU0VNQU5USUNfQkxFTkRXRUlHSFQiLCJ2ZXJ0ZXhfYm9uZUluZGljZXMiLCJTRU1BTlRJQ19CTEVORElORElDRVMiLCJidWlsdGluVmFyeWluZ3MiLCJ2VmVydGV4Q29sb3IiLCJ2UG9zaXRpb25XIiwidk5vcm1hbFYiLCJ2Tm9ybWFsVyIsInZUYW5nZW50VyIsInZCaW5vcm1hbFciLCJ2T2JqZWN0U3BhY2VVcFciLCJ2VXYwIiwidlV2MSIsIkxpdFNoYWRlciIsImNvbnN0cnVjdG9yIiwiZGV2aWNlIiwib3B0aW9ucyIsImF0dHJpYnV0ZXMiLCJ2ZXJ0ZXhfcG9zaXRpb24iLCJTRU1BTlRJQ19QT1NJVElPTiIsImNodW5rcyIsInVzZXJDaHVua3MiLCJ2YWxpZGF0ZVVzZXJDaHVua3MiLCJjaHVua05hbWUiLCJzaGFkZXJDaHVua3MiLCJoYXNPd25Qcm9wZXJ0eSIsImNodW5rIiwiYSIsImluZGV4T2YiLCJzaGFkZXJQYXNzSW5mbyIsIlNoYWRlclBhc3MiLCJnZXQiLCJnZXRCeUluZGV4IiwicGFzcyIsInNoYWRvd1Bhc3MiLCJpc1NoYWRvdyIsImxpZ2h0aW5nIiwibGlnaHRzIiwibGVuZ3RoIiwiZGlyTGlnaHRNYXBFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkIiwicmVmbGVjdGlvbnMiLCJyZWZsZWN0aW9uU291cmNlIiwibmVlZHNOb3JtYWwiLCJ1c2VTcGVjdWxhciIsImFtYmllbnRTSCIsImhlaWdodE1hcEVuYWJsZWQiLCJlbmFibGVHR1hTcGVjdWxhciIsImNsZWFyQ29hdE5vcm1hbE1hcEVuYWJsZWQiLCJuZWVkc1NjZW5lQ29sb3IiLCJ1c2VEeW5hbWljUmVmcmFjdGlvbiIsIm5lZWRzU2NyZWVuU2l6ZSIsIm5lZWRzVHJhbnNmb3JtcyIsInZhcnlpbmdzIiwidmFyeWluZ0RlZmluZXMiLCJ2c2hhZGVyIiwiZnJvbnRlbmREZWNsIiwiZnJvbnRlbmRDb2RlIiwiZnJvbnRlbmRGdW5jIiwibGlnaHRpbmdVdiIsImRlZmluZXMiLCJmc2hhZGVyIiwiX3ZzQWRkQmFzZUNvZGUiLCJjb2RlIiwiYmFzZVZTIiwibmluZVNsaWNlZE1vZGUiLCJTUFJJVEVfUkVOREVSTU9ERV9TTElDRUQiLCJTUFJJVEVfUkVOREVSTU9ERV9USUxFRCIsImJhc2VOaW5lU2xpY2VkVlMiLCJfdnNBZGRUcmFuc2Zvcm1Db2RlIiwidHJhbnNmb3JtVlMiLCJfc2V0TWFwVHJhbnNmb3JtIiwiY29kZXMiLCJuYW1lIiwiaWQiLCJ1diIsImNoZWNrSWQiLCJ2YXJOYW1lIiwiX2ZzR2V0QmFzZUNvZGUiLCJyZXN1bHQiLCJiYXNlUFMiLCJiYXNlTmluZVNsaWNlZFBTIiwiYmFzZU5pbmVTbGljZWRUaWxlZFBTIiwiX2ZzR2V0U3RhcnRDb2RlIiwic3RhcnRQUyIsInN0YXJ0TmluZVNsaWNlZFBTIiwic3RhcnROaW5lU2xpY2VkVGlsZWRQUyIsIl9kaXJlY3Rpb25hbFNoYWRvd01hcFByb2plY3Rpb24iLCJsaWdodCIsInNoYWRvd01hdEFyZyIsInNoYWRvd1BhcmFtQXJnIiwibGlnaHRBcmdzIiwibGlnaHRJbmRleCIsImNvb3Jkc0Z1bmN0aW9uTmFtZSIsImxpZ2h0UGFyYW1zIiwic2hhZG93Q29vcmRBcmdzIiwibnVtQ2FzY2FkZXMiLCJfbm9uUG9pbnRTaGFkb3dNYXBQcm9qZWN0aW9uIiwibGlnaHREaXJBcmdzIiwibGlnaHREaXJOb3JtQXJncyIsInNoYWRvd0Nvb3JkTm9ybUFyZ3MiLCJzaGFkb3dDb29yZERpckFyZ3MiLCJzaGFkb3dDb29yZExpZ2h0Tm9ybUFyZ3MiLCJfbm9ybWFsT2Zmc2V0QmlhcyIsIl9pc1ZzbSIsIl90eXBlIiwiTElHSFRUWVBFX1NQT1QiLCJfaXNQY2YiLCJ3ZWJnbDIiLCJleHRTdGFuZGFyZERlcml2YXRpdmVzIiwiaXNXZWJHUFUiLCJfZ2V0TGlnaHRTb3VyY2VTaGFwZVN0cmluZyIsInNoYXBlIiwiTElHSFRTSEFQRV9SRUNUIiwiTElHSFRTSEFQRV9ESVNLIiwiTElHSFRTSEFQRV9TUEhFUkUiLCJnZW5lcmF0ZVZlcnRleFNoYWRlciIsInVzZVV2IiwidXNlVW5tb2RpZmllZFV2IiwibWFwVHJhbnNmb3JtcyIsImNvZGVCb2R5IiwiU0hBREVSX0RFUFRIIiwidXNlSW5zdGFuY2luZyIsImluc3RhbmNlX2xpbmUxIiwiU0VNQU5USUNfQVRUUjEyIiwiaW5zdGFuY2VfbGluZTIiLCJTRU1BTlRJQ19BVFRSMTMiLCJpbnN0YW5jZV9saW5lMyIsIlNFTUFOVElDX0FUVFIxNCIsImluc3RhbmNlX2xpbmU0IiwiU0VNQU5USUNfQVRUUjE1IiwiaW5zdGFuY2luZ1ZTIiwiZnJhZ21lbnRVbmlmb3Jtc0NvdW50Iiwidmlld05vcm1hbFZTIiwiaGFzVGFuZ2VudHMiLCJub3JtYWxNYXBFbmFibGVkIiwidGFuZ2VudEJpbm9ybWFsVlMiLCJtYXhVdlNldHMiLCJpIiwiZm9yRWFjaCIsIm1hcFRyYW5zZm9ybSIsInZlcnRleENvbG9ycyIsInVzZU1zZGYiLCJtc2RmVGV4dEF0dHJpYnV0ZSIsInZlcnRleF9vdXRsaW5lUGFyYW1ldGVycyIsIlNFTUFOVElDX0FUVFI4IiwidmVydGV4X3NoYWRvd1BhcmFtZXRlcnMiLCJTRU1BTlRJQ19BVFRSOSIsIm1zZGZWUyIsInVzZU1vcnBoUG9zaXRpb24iLCJ1c2VNb3JwaE5vcm1hbCIsInVzZU1vcnBoVGV4dHVyZUJhc2VkIiwibW9ycGhfdmVydGV4X2lkIiwibW9ycGhfcG9zMCIsIm1vcnBoX3BvczEiLCJtb3JwaF9wb3MyIiwiU0VNQU5USUNfQVRUUjEwIiwibW9ycGhfcG9zMyIsIlNFTUFOVElDX0FUVFIxMSIsIm1vcnBoX25ybTAiLCJtb3JwaF9ucm0xIiwibW9ycGhfbnJtMiIsIm1vcnBoX25ybTMiLCJtb3JwaF9wb3M0IiwibW9ycGhfcG9zNSIsIm1vcnBoX3BvczYiLCJtb3JwaF9wb3M3IiwibW9ycGhfbnJtNCIsIm1vcnBoX25ybTUiLCJtb3JwaF9ucm02IiwibW9ycGhfbnJtNyIsInNraW4iLCJza2luQ29kZSIsInNjcmVlblNwYWNlIiwicGl4ZWxTbmFwIiwibm9ybWFsVlMiLCJzdGFydFZTIiwiZW5kVlMiLCJPYmplY3QiLCJrZXlzIiwidiIsInRvVXBwZXJDYXNlIiwic2hhZGVyUGFzc0RlZmluZXMiLCJzaGFkZXJEZWZpbmVzIiwiX2ZzR2V0QmVnaW5Db2RlIiwiX2ZzR2V0UGlja1Bhc3NDb2RlIiwiYmVnaW4iLCJlbmQiLCJfZnNHZXREZXB0aFBhc3NDb2RlIiwicGFja0RlcHRoUFMiLCJfZnNHZXRTaGFkb3dQYXNzQ29kZSIsImxpZ2h0VHlwZSIsInNoYWRvd1R5cGUiLCJTSEFET1dfVlNNMzIiLCJ0ZXh0dXJlRmxvYXRIaWdoUHJlY2lzaW9uIiwiU0hBRE9XX1ZTTTE2IiwiTElHSFRUWVBFX0RJUkVDVElPTkFMIiwiU0hBRE9XX1BDRjMiLCJMSUdIVFRZUEVfT01OSSIsIlNIQURPV19WU004IiwiaXNWc20iLCJhcHBseVNsb3BlU2NhbGVCaWFzIiwicGNmT21uaVNoYWRvd3MiLCJTSEFET1dfUENGNSIsIlNIQURPV19QQ0YxIiwic3RvcmVFVlNNUFMiLCJfZnNHZXRMaXRQYXNzQ29kZSIsImRlY2wiLCJDaHVua0J1aWxkZXIiLCJmdW5jIiwiYmFja2VuZCIsIm9wYWNpdHlGYWRlc1NwZWN1bGFyIiwiYXBwZW5kIiwicHVzaCIsInVzZUNsZWFyQ29hdCIsImZyZXNuZWxNb2RlbCIsImNvbnNlcnZlRW5lcmd5IiwidXNlU2hlZW4iLCJ1c2VJcmlkZXNjZW5jZSIsInNoYWRvd1R5cGVVc2VkIiwibnVtU2hhZG93TGlnaHRzIiwic2hhZG93ZWREaXJlY3Rpb25hbExpZ2h0VXNlZCIsInVzZVZzbSIsInVzZVBlcnNwWmJ1ZmZlclNoYWRvdyIsImhhc0FyZWFMaWdodHMiLCJzb21lIiwiX3NoYXBlIiwiTElHSFRTSEFQRV9QVU5DVFVBTCIsImNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQiLCJhcmVhTHV0c1ByZWNpc2lvbiIsImFyZWFMaWdodEx1dEZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQkE4IiwibGlnaHRTaGFwZSIsImNhc3RTaGFkb3dzIiwibm9TaGFkb3ciLCJzdXBwb3J0c0RlcHRoU2hhZG93IiwiX3NoYWRvd1R5cGUiLCJfY29va2llIiwiX2N1YmVtYXAiLCJfY29va2llVHJhbnNmb3JtIiwiaGFzVEJOIiwiZmFzdFRibiIsIlRCTmZhc3RQUyIsIlRCTlBTIiwiVEJOZGVyaXZhdGl2ZVBTIiwicmVwbGFjZSIsIlRCTk9iamVjdFNwYWNlUFMiLCJzcGhlcmljYWxQUyIsImRlY29kZVBTIiwiZ2FtbWFDb2RlIiwiZ2FtbWEiLCJ0b25lbWFwQ29kZSIsInRvbmVNYXAiLCJmb2dDb2RlIiwiZm9nIiwidXNlQ3ViZU1hcFJvdGF0aW9uIiwiY3ViZU1hcFJvdGF0ZVBTIiwiY3ViZU1hcFByb2plY3Rpb24iLCJjdWJlTWFwUHJvamVjdEJveFBTIiwiY3ViZU1hcFByb2plY3ROb25lUFMiLCJza3lib3hJbnRlbnNpdHkiLCJlbnZNdWx0aXBseVBTIiwiZW52Q29uc3RQUyIsInVzZU1ldGFsbmVzcyIsIm1ldGFsbmVzc01vZHVsYXRlUFMiLCJGUkVTTkVMX1NDSExJQ0siLCJmcmVzbmVsU2NobGlja1BTIiwiaXJpZGVzY2VuY2VEaWZmcmFjdGlvblBTIiwidXNlQW8iLCJhb01hcEVuYWJsZWQiLCJ1c2VBb1ZlcnRleENvbG9ycyIsImFvRGlmZnVzZU9jY1BTIiwib2NjbHVkZVNwZWN1bGFyIiwiU1BFQ09DQ19BTyIsIm9jY2x1ZGVTcGVjdWxhckZsb2F0IiwiYW9TcGVjT2NjU2ltcGxlUFMiLCJhb1NwZWNPY2NDb25zdFNpbXBsZVBTIiwiU1BFQ09DQ19HTE9TU0RFUEVOREVOVCIsImFvU3BlY09jY1BTIiwiYW9TcGVjT2NjQ29uc3RQUyIsImZpeFNlYW1zIiwiZml4Q3ViZW1hcFNlYW1zU3RyZXRjaFBTIiwiZml4Q3ViZW1hcFNlYW1zTm9uZVBTIiwiZW52QXRsYXNQUyIsInJlZmxlY3Rpb25FbnZIUVBTIiwiQ2h1bmtVdGlscyIsImRlY29kZUZ1bmMiLCJyZWZsZWN0aW9uRW5jb2RpbmciLCJyZWZsZWN0aW9uRW52UFMiLCJyZWZsZWN0aW9uQ3ViZVBTIiwic2NvZGUiLCJyZWZsZWN0aW9uU3BoZXJlUFMiLCJyZWZsZWN0aW9uU3BoZXJlTG93UFMiLCJyZWZsZWN0aW9uQ0NQUyIsInJlZmxlY3Rpb25TaGVlblBTIiwidXNlUmVmcmFjdGlvbiIsInJlZnJhY3Rpb25EeW5hbWljUFMiLCJyZWZyYWN0aW9uQ3ViZVBTIiwibGlnaHRTaGVlblBTIiwiY2x1c3RlcmVkTGlnaHRVdGlsc1BTIiwiY2x1c3RlcmVkTGlnaHRpbmdDb29raWVzRW5hYmxlZCIsImNsdXN0ZXJlZExpZ2h0Q29va2llc1BTIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCIsInNoYWRvd0Nhc2NhZGVzUFMiLCJzaGFkb3dTdGFuZGFyZFBTIiwic2hhZG93U3RhbmRhcmRHTDJQUyIsInNoYWRvd1ZTTV9jb21tb25QUyIsInNoYWRvd1ZTTThQUyIsImV4dFRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJzaGFkb3dFVlNNUFMiLCJzaGFkb3dFVlNNblBTIiwiZXh0VGV4dHVyZUZsb2F0TGluZWFyIiwiYmlhc0NvbnN0UFMiLCJzaGFkb3dDb29yZFBTIiwic2hhZG93Q29tbW9uUFMiLCJzaGFkb3dDb29yZFBlcnNwWmJ1ZmZlclBTIiwibGlnaHREaWZmdXNlTGFtYmVydFBTIiwibHRjUFMiLCJ1c2VPbGRBbWJpZW50Iiwic2hhZGluZ01vZGVsIiwiU1BFQ1VMQVJfUEhPTkciLCJsaWdodFNwZWN1bGFyUGhvbmdQUyIsImxpZ2h0U3BlY3VsYXJBbmlzb0dHWFBTIiwibGlnaHRTcGVjdWxhckJsaW5uUFMiLCJkaWZmdXNlTWFwRW5hYmxlZCIsImNvbWJpbmVQUyIsImxpZ2h0TWFwRW5hYmxlZCIsInVzZUxpZ2h0TWFwVmVydGV4Q29sb3JzIiwibGlnaHRtYXBEaXJBZGRQUyIsImxpZ2h0bWFwQWRkUFMiLCJhZGRBbWJpZW50IiwibGlnaHRNYXBXaXRob3V0QW1iaWVudCIsImFtYmllbnRTb3VyY2UiLCJhbWJpZW50U0hQUyIsImFtYmllbnRFbnZQUyIsImFtYmllbnRFbmNvZGluZyIsImFtYmllbnRDb25zdGFudFBTIiwidXNlQW1iaWVudFRpbnQiLCJtc2RmUFMiLCJ2aWV3RGlyUFMiLCJyZWZsRGlyQW5pc29QUyIsInJlZmxEaXJQUyIsImhhc1BvaW50TGlnaHRzIiwidXNlc0xpbmVhckZhbGxvZmYiLCJ1c2VzSW52U3F1YXJlZEZhbGxvZmYiLCJ1c2VzU3BvdCIsInVzZXNDb29raWUiLCJ1c2VzQ29va2llTm93IiwiZmxvYXRVbnBhY2tpbmdQUyIsImxpZ2h0TWFza0R5bmFtaWMiLCJzaGFkb3dUeXBlVG9TdHJpbmciLCJjbHVzdGVyZWRMaWdodGluZ1NoYWRvd1R5cGUiLCJMaWdodHNCdWZmZXIiLCJjbHVzdGVyZWRMaWdodFNoYWRvd3NQUyIsImNsdXN0ZXJlZExpZ2h0UFMiLCJ0d29TaWRlZExpZ2h0aW5nIiwic2VwYXJhdGVBbWJpZW50Iiwib2NjbHVkZURpcmVjdCIsInVzZVNwZWN1bGFyaXR5RmFjdG9yIiwic2hhcGVTdHJpbmciLCJfY29va2llRmFsbG9mZiIsIl9jb29raWVDaGFubmVsIiwiX2ZhbGxvZmZNb2RlIiwiTElHSFRGQUxMT0ZGX0xJTkVBUiIsInNoYWRvd1JlYWRNb2RlIiwiZXZzbUV4cCIsImNhbGNGcmVzbmVsIiwiYmxlbmRUeXBlIiwiQkxFTkRfTk9STUFMIiwiQkxFTkRfUFJFTVVMVElQTElFRCIsImVuZFBTIiwiQkxFTkRfQURESVRJVkVBTFBIQSIsImFscGhhVG9Db3ZlcmFnZSIsIm91dHB1dEFscGhhUFMiLCJvdXRwdXRBbHBoYVByZW11bFBTIiwib3V0cHV0QWxwaGFPcGFxdWVQUyIsImRlYnVnT3V0cHV0UFMiLCJwcmVwZW5kIiwibGlnaHREaXJQb2ludFBTIiwiZmFsbG9mZkxpbmVhclBTIiwiZmFsbG9mZkludlNxdWFyZWRQUyIsInNwb3RQUyIsImNvb2tpZVBTIiwic3RydWN0Q29kZSIsImJhY2tlbmRDb2RlIiwiZGVidWdQcm9jZXNzRnJvbnRlbmRQUyIsIm1lcmdlZENvZGUiLCJpbmNsdWRlcyIsImRldGFpbE1vZGVzIiwiZGV0YWlsTW9kZXNQUyIsImdlbmVyYXRlRnJhZ21lbnRTaGFkZXIiLCJTSEFERVJfUElDSyIsImN1c3RvbUZyYWdtZW50U2hhZGVyIiwiZ2V0RGVmaW5pdGlvbiIsImRlZmluaXRpb24iLCJTaGFkZXJVdGlscyIsImNyZWF0ZURlZmluaXRpb24iLCJ2ZXJ0ZXhDb2RlIiwiZnJhZ21lbnRDb2RlIiwiaXNGb3J3YXJkUGFzcyIsInRhZyIsIlNIQURFUlRBR19NQVRFUklBTCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUE4QkEsTUFBTUEsaUJBQWlCLEdBQUc7QUFDdEJDLEVBQUFBLGFBQWEsRUFBRUMsZUFBZTtBQUM5QkMsRUFBQUEsY0FBYyxFQUFFQyxnQkFBZ0I7QUFDaENDLEVBQUFBLGdCQUFnQixFQUFFQyxrQkFBa0I7QUFDcENDLEVBQUFBLGdCQUFnQixFQUFFQyxrQkFBa0I7QUFDcENDLEVBQUFBLFlBQVksRUFBRUMsY0FBYztBQUM1QkMsRUFBQUEsa0JBQWtCLEVBQUVDLG9CQUFvQjtBQUN4Q0MsRUFBQUEsa0JBQWtCLEVBQUVDLHFCQUFBQTtBQUN4QixDQUFDLENBQUE7QUFFRCxNQUFNQyxlQUFlLEdBQUc7QUFDcEJDLEVBQUFBLFlBQVksRUFBRSxNQUFNO0FBQ3BCQyxFQUFBQSxVQUFVLEVBQUUsTUFBTTtBQUNsQkMsRUFBQUEsUUFBUSxFQUFFLE1BQU07QUFDaEJDLEVBQUFBLFFBQVEsRUFBRSxNQUFNO0FBQ2hCQyxFQUFBQSxTQUFTLEVBQUUsTUFBTTtBQUNqQkMsRUFBQUEsVUFBVSxFQUFFLE1BQU07QUFDbEJDLEVBQUFBLGVBQWUsRUFBRSxNQUFNO0FBQ3ZCQyxFQUFBQSxJQUFJLEVBQUUsTUFBTTtBQUNaQyxFQUFBQSxJQUFJLEVBQUUsTUFBQTtBQUNWLENBQUMsQ0FBQTtBQUVELE1BQU1DLFNBQVMsQ0FBQztBQUNaQyxFQUFBQSxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTtBQUN6QjtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQ0QsTUFBTSxHQUFHQSxNQUFNLENBQUE7SUFDcEIsSUFBSSxDQUFDQyxPQUFPLEdBQUdBLE9BQU8sQ0FB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
