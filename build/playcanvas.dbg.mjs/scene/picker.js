/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Color } from '../math/color.js';
import { PIXELFORMAT_R8_G8_B8_A8, FILTER_NEAREST, ADDRESS_CLAMP_TO_EDGE, CLEARFLAG_DEPTH } from '../graphics/constants.js';
import { GraphicsDevice } from '../graphics/graphics-device.js';
import { RenderTarget } from '../graphics/render-target.js';
import { Texture } from '../graphics/texture.js';
import { DebugGraphics } from '../graphics/debug-graphics.js';
import { SHADER_PICK, SORTMODE_NONE } from './constants.js';
import { Camera } from './camera.js';
import { Command } from './mesh-instance.js';
import { Layer } from './layer.js';
import { LayerComposition } from './composition/layer-composition.js';
import { getApplication } from '../framework/globals.js';
import { Entity } from '../framework/entity.js';
import { Debug } from '../core/debug.js';

const tempSet = new Set();
const clearDepthOptions = {
  depth: 1.0,
  flags: CLEARFLAG_DEPTH
};

class Picker {
  constructor(app, width, height) {
    if (app instanceof GraphicsDevice) {
      app = getApplication();
      Debug.deprecated('pc.Picker now takes pc.AppBase as first argument. Passing pc.GraphicsDevice is deprecated.');
    }

    this.app = app;
    this.device = app.graphicsDevice;
    this.pickColor = new Float32Array(4);
    this.pickColor[3] = 1;
    this.mapping = [];
    this.cameraEntity = null;
    this.layer = null;
    this.layerComp = null;
    this.initLayerComposition();
    this._renderTarget = null;
    const device = this.device;
    this.clearDepthCommand = new Command(0, 0, function () {
      device.clear(clearDepthOptions);
    });
    this.width = 0;
    this.height = 0;
    this.resize(width, height);
  }

  getSelection(x, y, width, height) {
    const device = this.device;

    if (typeof x === 'object') {
      Debug.deprecated('Picker.getSelection:param \'rect\' is deprecated, use \'x, y, width, height\' instead.');
      const rect = x;
      x = rect.x;
      y = rect.y;
      width = rect.width;
      height = rect.height;
    } else {
      y = this.renderTarget.height - (y + (height || 1));
    }

    x = Math.floor(x);
    y = Math.floor(y);
    width = Math.floor(Math.max(width || 1, 1));
    height = Math.floor(Math.max(height || 1, 1));
    const origRenderTarget = device.renderTarget;
    DebugGraphics.pushGpuMarker(device, 'PICKER');
    device.setRenderTarget(this.renderTarget);
    device.updateBegin();
    const pixels = new Uint8Array(4 * width * height);
    device.readPixels(x, y, width, height, pixels);
    device.updateEnd();
    device.setRenderTarget(origRenderTarget);
    DebugGraphics.popGpuMarker(device);
    const mapping = this.mapping;

    for (let i = 0; i < width * height; i++) {
      const r = pixels[4 * i + 0];
      const g = pixels[4 * i + 1];
      const b = pixels[4 * i + 2];
      const index = r << 16 | g << 8 | b;

      if (index !== 0xffffff) {
        tempSet.add(mapping[index]);
      }
    }

    const selection = [];
    tempSet.forEach(meshInstance => selection.push(meshInstance));
    tempSet.clear();
    return selection;
  }

  allocateRenderTarget() {
    const colorBuffer = new Texture(this.device, {
      format: PIXELFORMAT_R8_G8_B8_A8,
      width: this.width,
      height: this.height,
      mipmaps: false,
      minFilter: FILTER_NEAREST,
      magFilter: FILTER_NEAREST,
      addressU: ADDRESS_CLAMP_TO_EDGE,
      addressV: ADDRESS_CLAMP_TO_EDGE,
      name: 'pick'
    });
    this.renderTarget = new RenderTarget({
      colorBuffer: colorBuffer,
      depth: true
    });
  }

  releaseRenderTarget() {
    this.cameraEntity.camera.renderTarget = null;

    if (this._renderTarget) {
      this._renderTarget.destroyTextureBuffers();

      this._renderTarget.destroy();

      this._renderTarget = null;
    }
  }

  initLayerComposition() {
    const device = this.device;
    const self = this;
    const pickColorId = device.scope.resolve('uColor');
    this.cameraEntity = new Entity();
    this.cameraEntity.addComponent('camera');
    this.layer = new Layer({
      name: 'Picker',
      shaderPass: SHADER_PICK,
      opaqueSortMode: SORTMODE_NONE,
      onDrawCall: function (meshInstance, index) {
        self.pickColor[0] = (index >> 16 & 0xff) / 255;
        self.pickColor[1] = (index >> 8 & 0xff) / 255;
        self.pickColor[2] = (index & 0xff) / 255;
        pickColorId.setValue(self.pickColor);
        device.setBlending(false);
        self.mapping[index] = meshInstance;
      }
    });
    this.layer.addCamera(this.cameraEntity.camera);
    this.layerComp = new LayerComposition('picker');
    this.layerComp.pushOpaque(this.layer);
  }

  prepare(camera, scene, layers) {
    if (camera instanceof Camera) {
      Debug.deprecated('pc.Picker#prepare now takes pc.CameraComponent as first argument. Passing pc.Camera is deprecated.');
      camera = camera.node.camera;
    }

    if (layers instanceof Layer) {
      layers = [layers];
    }

    this.layer.clearMeshInstances();
    const destMeshInstances = this.layer.opaqueMeshInstances;
    const srcLayers = scene.layers.layerList;
    const subLayerEnabled = scene.layers.subLayerEnabled;
    const isTransparent = scene.layers.subLayerList;

    for (let i = 0; i < srcLayers.length; i++) {
      const srcLayer = srcLayers[i];

      if (layers && layers.indexOf(srcLayer) < 0) {
        continue;
      }

      if (srcLayer.enabled && subLayerEnabled[i]) {
        const layerCamId = srcLayer.cameras.indexOf(camera);

        if (layerCamId >= 0) {
          if (srcLayer._clearDepthBuffer) {
            destMeshInstances.push(this.clearDepthCommand);
          }

          const meshInstances = isTransparent[i] ? srcLayer.instances.transparentMeshInstances : srcLayer.instances.opaqueMeshInstances;

          for (let j = 0; j < meshInstances.length; j++) {
            const meshInstance = meshInstances[j];

            if (meshInstance.pick) {
              destMeshInstances.push(meshInstance);
            }
          }
        }
      }
    }

    if (!this.renderTarget || this.width !== this.renderTarget.width || this.height !== this.renderTarget.height) {
      this.releaseRenderTarget();
      this.allocateRenderTarget();
    }

    this.updateCamera(camera);
    this.mapping.length = 0;
    this.app.renderComposition(this.layerComp);
  }

  updateCamera(srcCamera) {
    this.cameraEntity.copy(srcCamera.entity);
    this.cameraEntity.name = 'PickerCamera';
    const destCamera = this.cameraEntity.camera;
    destCamera.copy(srcCamera);
    destCamera.clearColorBuffer = true;
    destCamera.clearDepthBuffer = true;
    destCamera.clearStencilBuffer = true;
    destCamera.clearColor = Color.WHITE;
    destCamera.renderTarget = this.renderTarget;
    this.layer.clearCameras();
    this.layer.addCamera(destCamera);
    destCamera.layers = [this.layer.id];
  }

  resize(width, height) {
    this.width = Math.floor(width);
    this.height = Math.floor(height);
  }

}

export { Picker };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlja2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2NlbmUvcGlja2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vbWF0aC9jb2xvci5qcyc7XG5cbmltcG9ydCB7IEFERFJFU1NfQ0xBTVBfVE9fRURHRSwgQ0xFQVJGTEFHX0RFUFRILCBGSUxURVJfTkVBUkVTVCwgUElYRUxGT1JNQVRfUjhfRzhfQjhfQTggfSBmcm9tICcuLi9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NEZXZpY2UgfSBmcm9tICcuLi9ncmFwaGljcy9ncmFwaGljcy1kZXZpY2UuanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vZ3JhcGhpY3MvcmVuZGVyLXRhcmdldC5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vZ3JhcGhpY3MvdGV4dHVyZS5qcyc7XG5pbXBvcnQgeyBEZWJ1Z0dyYXBoaWNzIH0gZnJvbSAnLi4vZ3JhcGhpY3MvZGVidWctZ3JhcGhpY3MuanMnO1xuXG5pbXBvcnQgeyBTSEFERVJfUElDSywgU09SVE1PREVfTk9ORSB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vY2FtZXJhLmpzJztcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL21lc2gtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tICcuL2xheWVyLmpzJztcbmltcG9ydCB7IExheWVyQ29tcG9zaXRpb24gfSBmcm9tICcuL2NvbXBvc2l0aW9uL2xheWVyLWNvbXBvc2l0aW9uLmpzJztcblxuaW1wb3J0IHsgZ2V0QXBwbGljYXRpb24gfSBmcm9tICcuLi9mcmFtZXdvcmsvZ2xvYmFscy5qcyc7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuLi9mcmFtZXdvcmsvZW50aXR5LmpzJztcbmltcG9ydCB7IERlYnVnIH0gZnJvbSAnLi4vY29yZS9kZWJ1Zy5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9mcmFtZXdvcmsvYXBwLWJhc2UuanMnKS5BcHBCYXNlfSBBcHBCYXNlICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vZnJhbWV3b3JrL2NvbXBvbmVudHMvY2FtZXJhL2NvbXBvbmVudC5qcycpLkNhbWVyYUNvbXBvbmVudH0gQ2FtZXJhQ29tcG9uZW50ICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi9tZXNoLWluc3RhbmNlLmpzJykuTWVzaEluc3RhbmNlfSBNZXNoSW5zdGFuY2UgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL3NjZW5lLmpzJykuU2NlbmV9IFNjZW5lICovXG5cbmNvbnN0IHRlbXBTZXQgPSBuZXcgU2V0KCk7XG5cbmNvbnN0IGNsZWFyRGVwdGhPcHRpb25zID0ge1xuICAgIGRlcHRoOiAxLjAsXG4gICAgZmxhZ3M6IENMRUFSRkxBR19ERVBUSFxufTtcblxuLyoqXG4gKiBQaWNrZXIgb2JqZWN0IHVzZWQgdG8gc2VsZWN0IG1lc2ggaW5zdGFuY2VzIGZyb20gc2NyZWVuIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcGljayBidWZmZXIgaW4gcGl4ZWxzIChyZWFkLW9ubHkpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHBpY2sgYnVmZmVyIGluIHBpeGVscyAocmVhZC1vbmx5KS5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgVGhlIHJlbmRlciB0YXJnZXQgdXNlZCBieSB0aGUgcGlja2VyIGludGVybmFsbHlcbiAqIChyZWFkLW9ubHkpLlxuICovXG5jbGFzcyBQaWNrZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBQaWNrZXIgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FwcEJhc2V9IGFwcCAtIFRoZSBhcHBsaWNhdGlvbiBtYW5hZ2luZyB0aGlzIHBpY2tlciBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHBpY2sgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcGljayBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoYXBwIGluc3RhbmNlb2YgR3JhcGhpY3NEZXZpY2UpIHtcbiAgICAgICAgICAgIGFwcCA9IGdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgICAgICBEZWJ1Zy5kZXByZWNhdGVkKCdwYy5QaWNrZXIgbm93IHRha2VzIHBjLkFwcEJhc2UgYXMgZmlyc3QgYXJndW1lbnQuIFBhc3NpbmcgcGMuR3JhcGhpY3NEZXZpY2UgaXMgZGVwcmVjYXRlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xuICAgICAgICB0aGlzLmRldmljZSA9IGFwcC5ncmFwaGljc0RldmljZTtcblxuICAgICAgICAvLyB1bmlmb3JtIGZvciB0aGUgbWVzaCBpbmRleCBlbmNvZGVkIGludG8gcmdiYVxuICAgICAgICB0aGlzLnBpY2tDb2xvciA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIHRoaXMucGlja0NvbG9yWzNdID0gMTtcblxuICAgICAgICAvLyBtYXBwaW5nIHRhYmxlIGZyb20gaWRzIHRvIG1lc2hJbnN0YW5jZXNcbiAgICAgICAgdGhpcy5tYXBwaW5nID0gW107XG5cbiAgICAgICAgLy8gY3JlYXRlIGxheWVyIGNvbXBvc2l0aW9uIHdpdGggdGhlIGxheWVyIGFuZCBjYW1lcmFcbiAgICAgICAgdGhpcy5jYW1lcmFFbnRpdHkgPSBudWxsO1xuICAgICAgICB0aGlzLmxheWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXllckNvbXAgPSBudWxsO1xuICAgICAgICB0aGlzLmluaXRMYXllckNvbXBvc2l0aW9uKCk7XG5cbiAgICAgICAgLy8gaW50ZXJuYWwgcmVuZGVyIHRhcmdldFxuICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8vIGNsZWFyIGNvbW1hbmQgdXNlciB0byBzaW11bGF0ZSBsYXllciBjbGVhcmluZywgcmVxdWlyZWQgZHVlIHRvIHN0b3JpbmcgbWVzaGVzIGZyb20gbXVsdGlwbGUgbGF5ZXJzIG9uIGEgc2luZ2UgbGF5ZXJcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2U7XG4gICAgICAgIHRoaXMuY2xlYXJEZXB0aENvbW1hbmQgPSBuZXcgQ29tbWFuZCgwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXZpY2UuY2xlYXIoY2xlYXJEZXB0aE9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxpc3Qgb2YgbWVzaCBpbnN0YW5jZXMgc2VsZWN0ZWQgYnkgdGhlIHNwZWNpZmllZCByZWN0YW5nbGUgaW4gdGhlIHByZXZpb3VzbHlcbiAgICAgKiBwcmVwYXJlZCBwaWNrIGJ1ZmZlci5UaGUgcmVjdGFuZ2xlIHVzaW5nIHRvcC1sZWZ0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7TWVzaEluc3RhbmNlW119IEFuIGFycmF5IG9mIG1lc2ggaW5zdGFuY2VzIHRoYXQgYXJlIGluIHRoZSBzZWxlY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgdGhlIHNlbGVjdGlvbiBhdCB0aGUgcG9pbnQgKDEwLDIwKVxuICAgICAqIHZhciBzZWxlY3Rpb24gPSBwaWNrZXIuZ2V0U2VsZWN0aW9uKDEwLCAyMCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgYWxsIG1vZGVscyBpbiByZWN0YW5nbGUgd2l0aCBjb3JuZXJzIGF0ICgxMCwyMCkgYW5kICgyMCw0MClcbiAgICAgKiB2YXIgc2VsZWN0aW9uID0gcGlja2VyLmdldFNlbGVjdGlvbigxMCwgMjAsIDEwLCAyMCk7XG4gICAgICovXG4gICAgZ2V0U2VsZWN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlID0gdGhpcy5kZXZpY2U7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgRGVidWcuZGVwcmVjYXRlZCgnUGlja2VyLmdldFNlbGVjdGlvbjpwYXJhbSBcXCdyZWN0XFwnIGlzIGRlcHJlY2F0ZWQsIHVzZSBcXCd4LCB5LCB3aWR0aCwgaGVpZ2h0XFwnIGluc3RlYWQuJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB4O1xuICAgICAgICAgICAgeCA9IHJlY3QueDtcbiAgICAgICAgICAgIHkgPSByZWN0Lnk7XG4gICAgICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkgPSB0aGlzLnJlbmRlclRhcmdldC5oZWlnaHQgLSAoeSArIChoZWlnaHQgfHwgMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGhhdmUgbmljZSBudW1iZXJzIHRvIHdvcmsgd2l0aFxuICAgICAgICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgICAgICAgeSA9IE1hdGguZmxvb3IoeSk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5mbG9vcihNYXRoLm1heCh3aWR0aCB8fCAxLCAxKSk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoaGVpZ2h0IHx8IDEsIDEpKTtcblxuICAgICAgICAvLyBiYWNrdXAgYWN0aXZlIHJlbmRlciB0YXJnZXRcbiAgICAgICAgY29uc3Qgb3JpZ1JlbmRlclRhcmdldCA9IGRldmljZS5yZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgRGVidWdHcmFwaGljcy5wdXNoR3B1TWFya2VyKGRldmljZSwgJ1BJQ0tFUicpO1xuXG4gICAgICAgIC8vIFJlYWR5IHRoZSBkZXZpY2UgZm9yIHJlbmRlcmluZyB0byB0aGUgcGljayBidWZmZXJcbiAgICAgICAgZGV2aWNlLnNldFJlbmRlclRhcmdldCh0aGlzLnJlbmRlclRhcmdldCk7XG4gICAgICAgIGRldmljZS51cGRhdGVCZWdpbigpO1xuXG4gICAgICAgIGNvbnN0IHBpeGVscyA9IG5ldyBVaW50OEFycmF5KDQgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIGRldmljZS5yZWFkUGl4ZWxzKHgsIHksIHdpZHRoLCBoZWlnaHQsIHBpeGVscyk7XG5cbiAgICAgICAgZGV2aWNlLnVwZGF0ZUVuZCgpO1xuXG4gICAgICAgIC8vIFJlc3RvcmUgcmVuZGVyIHRhcmdldFxuICAgICAgICBkZXZpY2Uuc2V0UmVuZGVyVGFyZ2V0KG9yaWdSZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIERlYnVnR3JhcGhpY3MucG9wR3B1TWFya2VyKGRldmljZSk7XG5cbiAgICAgICAgY29uc3QgbWFwcGluZyA9IHRoaXMubWFwcGluZztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aCAqIGhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByID0gcGl4ZWxzWzQgKiBpICsgMF07XG4gICAgICAgICAgICBjb25zdCBnID0gcGl4ZWxzWzQgKiBpICsgMV07XG4gICAgICAgICAgICBjb25zdCBiID0gcGl4ZWxzWzQgKiBpICsgMl07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHIgPDwgMTYgfCBnIDw8IDggfCBiO1xuXG4gICAgICAgICAgICAvLyBXaGl0ZSBpcyAnbm8gc2VsZWN0aW9uJ1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAweGZmZmZmZikge1xuICAgICAgICAgICAgICAgIHRlbXBTZXQuYWRkKG1hcHBpbmdbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiB0aGUgY29udGVudCBvZiB0aGUgc2V0IGFzIGFuIGFycmF5XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICB0ZW1wU2V0LmZvckVhY2gobWVzaEluc3RhbmNlID0+IHNlbGVjdGlvbi5wdXNoKG1lc2hJbnN0YW5jZSkpO1xuICAgICAgICB0ZW1wU2V0LmNsZWFyKCk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgICB9XG5cbiAgICBhbGxvY2F0ZVJlbmRlclRhcmdldCgpIHtcblxuICAgICAgICBjb25zdCBjb2xvckJ1ZmZlciA9IG5ldyBUZXh0dXJlKHRoaXMuZGV2aWNlLCB7XG4gICAgICAgICAgICBmb3JtYXQ6IFBJWEVMRk9STUFUX1I4X0c4X0I4X0E4LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWlwbWFwczogZmFsc2UsXG4gICAgICAgICAgICBtaW5GaWx0ZXI6IEZJTFRFUl9ORUFSRVNULFxuICAgICAgICAgICAgbWFnRmlsdGVyOiBGSUxURVJfTkVBUkVTVCxcbiAgICAgICAgICAgIGFkZHJlc3NVOiBBRERSRVNTX0NMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICBhZGRyZXNzVjogQUREUkVTU19DTEFNUF9UT19FREdFLFxuICAgICAgICAgICAgbmFtZTogJ3BpY2snXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICAgICAgICBjb2xvckJ1ZmZlcjogY29sb3JCdWZmZXIsXG4gICAgICAgICAgICBkZXB0aDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWxlYXNlUmVuZGVyVGFyZ2V0KCkge1xuXG4gICAgICAgIC8vIHVuc2V0IGl0IGZyb20gdGhlIGNhbWVyYVxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEucmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQuZGVzdHJveVRleHR1cmVCdWZmZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRMYXllckNvbXBvc2l0aW9uKCkge1xuXG4gICAgICAgIGNvbnN0IGRldmljZSA9IHRoaXMuZGV2aWNlO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc3QgcGlja0NvbG9ySWQgPSBkZXZpY2Uuc2NvcGUucmVzb2x2ZSgndUNvbG9yJyk7XG5cbiAgICAgICAgLy8gY2FtZXJhXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5ID0gbmV3IEVudGl0eSgpO1xuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5hZGRDb21wb25lbnQoJ2NhbWVyYScpO1xuXG4gICAgICAgIC8vIGxheWVyIGFsbCBtZXNoZXMgcmVuZGVyZWQgZm9yIHBpY2tpbmcgYXQgYWRkZWQgdG9cbiAgICAgICAgdGhpcy5sYXllciA9IG5ldyBMYXllcih7XG4gICAgICAgICAgICBuYW1lOiAnUGlja2VyJyxcbiAgICAgICAgICAgIHNoYWRlclBhc3M6IFNIQURFUl9QSUNLLFxuICAgICAgICAgICAgb3BhcXVlU29ydE1vZGU6IFNPUlRNT0RFX05PTkUsXG5cbiAgICAgICAgICAgIC8vIGV4ZWN1dGVzIGp1c3QgYmVmb3JlIHRoZSBtZXNoIGlzIHJlbmRlcmVkLiBBbmQgaW5kZXggZW5jb2RlZCBpbiByZ2IgaXMgYXNzaWduZWQgdG8gaXRcbiAgICAgICAgICAgIG9uRHJhd0NhbGw6IGZ1bmN0aW9uIChtZXNoSW5zdGFuY2UsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5waWNrQ29sb3JbMF0gPSAoKGluZGV4ID4+IDE2KSAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICAgICAgICAgIHNlbGYucGlja0NvbG9yWzFdID0gKChpbmRleCA+PiA4KSAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICAgICAgICAgIHNlbGYucGlja0NvbG9yWzJdID0gKGluZGV4ICYgMHhmZikgLyAyNTU7XG4gICAgICAgICAgICAgICAgcGlja0NvbG9ySWQuc2V0VmFsdWUoc2VsZi5waWNrQ29sb3IpO1xuICAgICAgICAgICAgICAgIGRldmljZS5zZXRCbGVuZGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBpbmRleCAtPiBtZXNoSW5zdGFuY2UgaW5kZXggbWFwcGluZ1xuICAgICAgICAgICAgICAgIHNlbGYubWFwcGluZ1tpbmRleF0gPSBtZXNoSW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxheWVyLmFkZENhbWVyYSh0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEpO1xuXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uXG4gICAgICAgIHRoaXMubGF5ZXJDb21wID0gbmV3IExheWVyQ29tcG9zaXRpb24oJ3BpY2tlcicpO1xuICAgICAgICB0aGlzLmxheWVyQ29tcC5wdXNoT3BhcXVlKHRoaXMubGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByaW1lcyB0aGUgcGljayBidWZmZXIgd2l0aCBhIHJlbmRlcmluZyBvZiB0aGUgc3BlY2lmaWVkIG1vZGVscyBmcm9tIHRoZSBwb2ludCBvZiB2aWV3IG9mXG4gICAgICogdGhlIHN1cHBsaWVkIGNhbWVyYS4gT25jZSB0aGUgcGljayBidWZmZXIgaGFzIGJlZW4gcHJlcGFyZWQsIHtAbGluayBQaWNrZXIjZ2V0U2VsZWN0aW9ufSBjYW5cbiAgICAgKiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgcGlja2VyIG9iamVjdC4gVGhlcmVmb3JlLCBpZiB0aGUgbW9kZWxzIG9yIGNhbWVyYSBkb1xuICAgICAqIG5vdCBjaGFuZ2UgaW4gYW55IHdheSwge0BsaW5rIFBpY2tlciNwcmVwYXJlfSBkb2VzIG5vdCBuZWVkIHRvIGJlIGNhbGxlZCBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FtZXJhQ29tcG9uZW50fSBjYW1lcmEgLSBUaGUgY2FtZXJhIGNvbXBvbmVudCB1c2VkIHRvIHJlbmRlciB0aGUgc2NlbmUuXG4gICAgICogQHBhcmFtIHtTY2VuZX0gc2NlbmUgLSBUaGUgc2NlbmUgY29udGFpbmluZyB0aGUgcGlja2FibGUgbWVzaCBpbnN0YW5jZXMuXG4gICAgICogQHBhcmFtIHtMYXllcltdfSBbbGF5ZXJzXSAtIExheWVycyBmcm9tIHdoaWNoIG9iamVjdHMgd2lsbCBiZSBwaWNrZWQuIElmIG5vdCBzdXBwbGllZCwgYWxsIGxheWVycyBvZiB0aGUgc3BlY2lmaWVkIGNhbWVyYSB3aWxsIGJlIHVzZWQuXG4gICAgICovXG4gICAgcHJlcGFyZShjYW1lcmEsIHNjZW5lLCBsYXllcnMpIHtcblxuICAgICAgICAvLyBoYW5kbGUgZGVwcmVjYXRlZCBhcmd1bWVudHNcbiAgICAgICAgaWYgKGNhbWVyYSBpbnN0YW5jZW9mIENhbWVyYSkge1xuICAgICAgICAgICAgRGVidWcuZGVwcmVjYXRlZCgncGMuUGlja2VyI3ByZXBhcmUgbm93IHRha2VzIHBjLkNhbWVyYUNvbXBvbmVudCBhcyBmaXJzdCBhcmd1bWVudC4gUGFzc2luZyBwYy5DYW1lcmEgaXMgZGVwcmVjYXRlZC4nKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjYW1lcmEgY29tcG9uZW50XG4gICAgICAgICAgICBjYW1lcmEgPSBjYW1lcmEubm9kZS5jYW1lcmE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGF5ZXJzIGluc3RhbmNlb2YgTGF5ZXIpIHtcbiAgICAgICAgICAgIGxheWVycyA9IFtsYXllcnNdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcG9wdWxhdGUgdGhlIGxheWVyIHdpdGggbWVzaGVzIGFuZCBkZXB0aCBjbGVhciBjb21tYW5kc1xuICAgICAgICB0aGlzLmxheWVyLmNsZWFyTWVzaEluc3RhbmNlcygpO1xuICAgICAgICBjb25zdCBkZXN0TWVzaEluc3RhbmNlcyA9IHRoaXMubGF5ZXIub3BhcXVlTWVzaEluc3RhbmNlcztcblxuICAgICAgICAvLyBzb3VyY2UgbWVzaCBpbnN0YW5jZXNcbiAgICAgICAgY29uc3Qgc3JjTGF5ZXJzID0gc2NlbmUubGF5ZXJzLmxheWVyTGlzdDtcbiAgICAgICAgY29uc3Qgc3ViTGF5ZXJFbmFibGVkID0gc2NlbmUubGF5ZXJzLnN1YkxheWVyRW5hYmxlZDtcbiAgICAgICAgY29uc3QgaXNUcmFuc3BhcmVudCA9IHNjZW5lLmxheWVycy5zdWJMYXllckxpc3Q7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmNMYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNyY0xheWVyID0gc3JjTGF5ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBza2lwIHRoZSBsYXllciBpZiBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgcHJvdmlkZWQgb25lc1xuICAgICAgICAgICAgaWYgKGxheWVycyAmJiBsYXllcnMuaW5kZXhPZihzcmNMYXllcikgPCAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzcmNMYXllci5lbmFibGVkICYmIHN1YkxheWVyRW5hYmxlZFtpXSkge1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGxheWVyIGlzIHJlbmRlcmVkIGJ5IHRoZSBjYW1lcmFcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllckNhbUlkID0gc3JjTGF5ZXIuY2FtZXJhcy5pbmRleE9mKGNhbWVyYSk7XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyQ2FtSWQgPj0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBsYXllciBjbGVhcnMgdGhlIGRlcHRoLCBhZGQgY29tbWFuZCB0byBjbGVhciBpdFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjTGF5ZXIuX2NsZWFyRGVwdGhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RNZXNoSW5zdGFuY2VzLnB1c2godGhpcy5jbGVhckRlcHRoQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjb3B5IGFsbCBwaWNrYWJsZSBtZXNoIGluc3RhbmNlc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoSW5zdGFuY2VzID0gaXNUcmFuc3BhcmVudFtpXSA/IHNyY0xheWVyLmluc3RhbmNlcy50cmFuc3BhcmVudE1lc2hJbnN0YW5jZXMgOiBzcmNMYXllci5pbnN0YW5jZXMub3BhcXVlTWVzaEluc3RhbmNlcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtZXNoSW5zdGFuY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNoSW5zdGFuY2UgPSBtZXNoSW5zdGFuY2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc2hJbnN0YW5jZS5waWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdE1lc2hJbnN0YW5jZXMucHVzaChtZXNoSW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSB0aGUgcmVuZGVyIHRhcmdldCB0aGUgcmlnaHQgc2l6ZVxuICAgICAgICBpZiAoIXRoaXMucmVuZGVyVGFyZ2V0IHx8ICh0aGlzLndpZHRoICE9PSB0aGlzLnJlbmRlclRhcmdldC53aWR0aCB8fCB0aGlzLmhlaWdodCAhPT0gdGhpcy5yZW5kZXJUYXJnZXQuaGVpZ2h0KSkge1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlUmVuZGVyVGFyZ2V0KCk7XG4gICAgICAgICAgICB0aGlzLmFsbG9jYXRlUmVuZGVyVGFyZ2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcmVwYXJlIHRoZSByZW5kZXJpbmcgY2FtZXJhXG4gICAgICAgIHRoaXMudXBkYXRlQ2FtZXJhKGNhbWVyYSk7XG5cbiAgICAgICAgLy8gY2xlYXIgcmVnaXN0ZXJlZCBtZXNoZXMgbWFwcGluZ1xuICAgICAgICB0aGlzLm1hcHBpbmcubGVuZ3RoID0gMDtcblxuICAgICAgICAvLyByZW5kZXJcbiAgICAgICAgdGhpcy5hcHAucmVuZGVyQ29tcG9zaXRpb24odGhpcy5sYXllckNvbXApO1xuICAgIH1cblxuICAgIHVwZGF0ZUNhbWVyYShzcmNDYW1lcmEpIHtcblxuICAgICAgICAvLyBjb3B5IHRyYW5zZm9ybVxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jb3B5KHNyY0NhbWVyYS5lbnRpdHkpO1xuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5uYW1lID0gJ1BpY2tlckNhbWVyYSc7XG5cbiAgICAgICAgLy8gY29weSBjYW1lcmEgY29tcG9uZW50IHByb3BlcnRpZXMgLSB3aGljaCBvdmVyd3JpdGVzIGZldyBwcm9wZXJ0aWVzIHdlIGNoYW5nZSB0byB3aGF0IGlzIG5lZWRlZCBsYXRlclxuICAgICAgICBjb25zdCBkZXN0Q2FtZXJhID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgICAgICBkZXN0Q2FtZXJhLmNvcHkoc3JjQ2FtZXJhKTtcblxuICAgICAgICAvLyBzZXQgdXAgY2xlYXJzXG4gICAgICAgIGRlc3RDYW1lcmEuY2xlYXJDb2xvckJ1ZmZlciA9IHRydWU7XG4gICAgICAgIGRlc3RDYW1lcmEuY2xlYXJEZXB0aEJ1ZmZlciA9IHRydWU7XG4gICAgICAgIGRlc3RDYW1lcmEuY2xlYXJTdGVuY2lsQnVmZmVyID0gdHJ1ZTtcbiAgICAgICAgZGVzdENhbWVyYS5jbGVhckNvbG9yID0gQ29sb3IuV0hJVEU7XG5cbiAgICAgICAgLy8gcmVuZGVyIHRhcmdldFxuICAgICAgICBkZXN0Q2FtZXJhLnJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIC8vIGxheWVyc1xuICAgICAgICB0aGlzLmxheWVyLmNsZWFyQ2FtZXJhcygpO1xuICAgICAgICB0aGlzLmxheWVyLmFkZENhbWVyYShkZXN0Q2FtZXJhKTtcbiAgICAgICAgZGVzdENhbWVyYS5sYXllcnMgPSBbdGhpcy5sYXllci5pZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgcGljayBidWZmZXIuIFRoZSBwaWNrIGJ1ZmZlciByZXNvbHV0aW9uIGRvZXMgbm90IG5lZWQgdG8gbWF0Y2hcbiAgICAgKiB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgY29ycmVzcG9uZGluZyBmcmFtZSBidWZmZXIgdXNlIGZvciBnZW5lcmFsIHJlbmRlcmluZyBvZiB0aGUgM0Qgc2NlbmUuXG4gICAgICogSG93ZXZlciwgdGhlIGxvd2VyIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBwaWNrIGJ1ZmZlciwgdGhlIGxlc3MgYWNjdXJhdGUgdGhlIHNlbGVjdGlvblxuICAgICAqIHJlc3VsdHMgcmV0dXJuZWQgYnkge0BsaW5rIFBpY2tlciNnZXRTZWxlY3Rpb259LiBPbiB0aGUgb3RoZXIgaGFuZCwgc21hbGxlciBwaWNrIGJ1ZmZlcnNcbiAgICAgKiB3aWxsIHlpZWxkIGdyZWF0ZXIgcGVyZm9ybWFuY2UsIHNvIHRoZXJlIGlzIGEgdHJhZGUgb2ZmLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBwaWNrIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHBpY2sgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcih3aWR0aCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihoZWlnaHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgUGlja2VyIH07XG4iXSwibmFtZXMiOlsidGVtcFNldCIsIlNldCIsImNsZWFyRGVwdGhPcHRpb25zIiwiZGVwdGgiLCJmbGFncyIsIkNMRUFSRkxBR19ERVBUSCIsIlBpY2tlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwid2lkdGgiLCJoZWlnaHQiLCJHcmFwaGljc0RldmljZSIsImdldEFwcGxpY2F0aW9uIiwiRGVidWciLCJkZXByZWNhdGVkIiwiZGV2aWNlIiwiZ3JhcGhpY3NEZXZpY2UiLCJwaWNrQ29sb3IiLCJGbG9hdDMyQXJyYXkiLCJtYXBwaW5nIiwiY2FtZXJhRW50aXR5IiwibGF5ZXIiLCJsYXllckNvbXAiLCJpbml0TGF5ZXJDb21wb3NpdGlvbiIsIl9yZW5kZXJUYXJnZXQiLCJjbGVhckRlcHRoQ29tbWFuZCIsIkNvbW1hbmQiLCJjbGVhciIsInJlc2l6ZSIsImdldFNlbGVjdGlvbiIsIngiLCJ5IiwicmVjdCIsInJlbmRlclRhcmdldCIsIk1hdGgiLCJmbG9vciIsIm1heCIsIm9yaWdSZW5kZXJUYXJnZXQiLCJEZWJ1Z0dyYXBoaWNzIiwicHVzaEdwdU1hcmtlciIsInNldFJlbmRlclRhcmdldCIsInVwZGF0ZUJlZ2luIiwicGl4ZWxzIiwiVWludDhBcnJheSIsInJlYWRQaXhlbHMiLCJ1cGRhdGVFbmQiLCJwb3BHcHVNYXJrZXIiLCJpIiwiciIsImciLCJiIiwiaW5kZXgiLCJhZGQiLCJzZWxlY3Rpb24iLCJmb3JFYWNoIiwibWVzaEluc3RhbmNlIiwicHVzaCIsImFsbG9jYXRlUmVuZGVyVGFyZ2V0IiwiY29sb3JCdWZmZXIiLCJUZXh0dXJlIiwiZm9ybWF0IiwiUElYRUxGT1JNQVRfUjhfRzhfQjhfQTgiLCJtaXBtYXBzIiwibWluRmlsdGVyIiwiRklMVEVSX05FQVJFU1QiLCJtYWdGaWx0ZXIiLCJhZGRyZXNzVSIsIkFERFJFU1NfQ0xBTVBfVE9fRURHRSIsImFkZHJlc3NWIiwibmFtZSIsIlJlbmRlclRhcmdldCIsInJlbGVhc2VSZW5kZXJUYXJnZXQiLCJjYW1lcmEiLCJkZXN0cm95VGV4dHVyZUJ1ZmZlcnMiLCJkZXN0cm95Iiwic2VsZiIsInBpY2tDb2xvcklkIiwic2NvcGUiLCJyZXNvbHZlIiwiRW50aXR5IiwiYWRkQ29tcG9uZW50IiwiTGF5ZXIiLCJzaGFkZXJQYXNzIiwiU0hBREVSX1BJQ0siLCJvcGFxdWVTb3J0TW9kZSIsIlNPUlRNT0RFX05PTkUiLCJvbkRyYXdDYWxsIiwic2V0VmFsdWUiLCJzZXRCbGVuZGluZyIsImFkZENhbWVyYSIsIkxheWVyQ29tcG9zaXRpb24iLCJwdXNoT3BhcXVlIiwicHJlcGFyZSIsInNjZW5lIiwibGF5ZXJzIiwiQ2FtZXJhIiwibm9kZSIsImNsZWFyTWVzaEluc3RhbmNlcyIsImRlc3RNZXNoSW5zdGFuY2VzIiwib3BhcXVlTWVzaEluc3RhbmNlcyIsInNyY0xheWVycyIsImxheWVyTGlzdCIsInN1YkxheWVyRW5hYmxlZCIsImlzVHJhbnNwYXJlbnQiLCJzdWJMYXllckxpc3QiLCJsZW5ndGgiLCJzcmNMYXllciIsImluZGV4T2YiLCJlbmFibGVkIiwibGF5ZXJDYW1JZCIsImNhbWVyYXMiLCJfY2xlYXJEZXB0aEJ1ZmZlciIsIm1lc2hJbnN0YW5jZXMiLCJpbnN0YW5jZXMiLCJ0cmFuc3BhcmVudE1lc2hJbnN0YW5jZXMiLCJqIiwicGljayIsInVwZGF0ZUNhbWVyYSIsInJlbmRlckNvbXBvc2l0aW9uIiwic3JjQ2FtZXJhIiwiY29weSIsImVudGl0eSIsImRlc3RDYW1lcmEiLCJjbGVhckNvbG9yQnVmZmVyIiwiY2xlYXJEZXB0aEJ1ZmZlciIsImNsZWFyU3RlbmNpbEJ1ZmZlciIsImNsZWFyQ29sb3IiLCJDb2xvciIsIldISVRFIiwiY2xlYXJDYW1lcmFzIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJBLE1BQU1BLE9BQU8sR0FBRyxJQUFJQyxHQUFKLEVBQWhCLENBQUE7QUFFQSxNQUFNQyxpQkFBaUIsR0FBRztBQUN0QkMsRUFBQUEsS0FBSyxFQUFFLEdBRGU7QUFFdEJDLEVBQUFBLEtBQUssRUFBRUMsZUFBQUE7QUFGZSxDQUExQixDQUFBOztBQWFBLE1BQU1DLE1BQU4sQ0FBYTtBQVFUQyxFQUFBQSxXQUFXLENBQUNDLEdBQUQsRUFBTUMsS0FBTixFQUFhQyxNQUFiLEVBQXFCO0lBQzVCLElBQUlGLEdBQUcsWUFBWUcsY0FBbkIsRUFBbUM7TUFDL0JILEdBQUcsR0FBR0ksY0FBYyxFQUFwQixDQUFBO01BQ0FDLEtBQUssQ0FBQ0MsVUFBTixDQUFpQiw0RkFBakIsQ0FBQSxDQUFBO0FBQ0gsS0FBQTs7SUFFRCxJQUFLTixDQUFBQSxHQUFMLEdBQVdBLEdBQVgsQ0FBQTtBQUNBLElBQUEsSUFBQSxDQUFLTyxNQUFMLEdBQWNQLEdBQUcsQ0FBQ1EsY0FBbEIsQ0FBQTtBQUdBLElBQUEsSUFBQSxDQUFLQyxTQUFMLEdBQWlCLElBQUlDLFlBQUosQ0FBaUIsQ0FBakIsQ0FBakIsQ0FBQTtBQUNBLElBQUEsSUFBQSxDQUFLRCxTQUFMLENBQWUsQ0FBZixDQUFBLEdBQW9CLENBQXBCLENBQUE7SUFHQSxJQUFL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
