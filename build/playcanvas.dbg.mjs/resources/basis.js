/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../core/debug.js';
import { PIXELFORMAT_R5_G6_B5, PIXELFORMAT_R4_G4_B4_A4 } from '../graphics/constants.js';
import { BasisWorker } from './basis-worker.js';
import { http } from '../net/http.js';

const getCompressionFormats = device => {
  return {
    astc: !!device.extCompressedTextureASTC,
    atc: !!device.extCompressedTextureATC,
    dxt: !!device.extCompressedTextureS3TC,
    etc1: !!device.extCompressedTextureETC1,
    etc2: !!device.extCompressedTextureETC,
    pvr: !!device.extCompressedTexturePVRTC
  };
};

const prepareWorkerModules = (config, callback) => {
  const getWorkerBlob = () => {
    const code = '(' + BasisWorker.toString() + ')()\n\n';
    return new Blob([code], {
      type: 'application/javascript'
    });
  };

  const wasmSupported = () => {
    try {
      if (typeof WebAssembly === 'object' && typeof WebAssembly.instantiate === 'function') {
        const module = new WebAssembly.Module(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));
        if (module instanceof WebAssembly.Module) return new WebAssembly.Instance(module) instanceof WebAssembly.Instance;
      }
    } catch (e) {}

    return false;
  };

  const sendResponse = (basisCode, module) => {
    callback(null, {
      workerUrl: URL.createObjectURL(getWorkerBlob()),
      basisUrl: URL.createObjectURL(basisCode),
      module: module,
      rgbPriority: config.rgbPriority,
      rgbaPriority: config.rgbaPriority
    });
  };

  const options = {
    responseType: 'blob',
    retry: config.maxRetries > 0,
    maxRetries: config.maxRetries
  };

  if (config.glueUrl && config.wasmUrl && wasmSupported()) {
    let basisCode = null;
    let module = null;
    http.get(config.glueUrl, options, (err, response) => {
      if (err) {
        callback(err);
      } else {
        if (module) {
          sendResponse(response, module);
        } else {
          basisCode = response;
        }
      }
    });
    const fetchPromise = fetch(config.wasmUrl);

    const compileManual = () => {
      fetchPromise.then(result => result.arrayBuffer()).then(buffer => WebAssembly.compile(buffer)).then(module_ => {
        if (basisCode) {
          sendResponse(basisCode, module_);
        } else {
          module = module_;
        }
      }).catch(err => {
        callback(err, null);
      });
    };

    if (WebAssembly.compileStreaming) {
      WebAssembly.compileStreaming(fetchPromise).then(module_ => {
        if (basisCode) {
          sendResponse(basisCode, module_);
        } else {
          module = module_;
        }
      }).catch(err => {
        Debug.warn(`compileStreaming() failed for ${config.wasmUrl} (${err}), falling back to arraybuffer download.`);
        compileManual();
      });
    } else {
      compileManual();
    }
  } else {
    http.get(config.fallbackUrl, options, (err, response) => {
      if (err) {
        callback(err, null);
      } else {
        sendResponse(response, null);
      }
    });
  }
};

class BasisQueue {
  constructor() {
    this.callbacks = {};
    this.queue = [];
    this.clients = [];
  }

  enqueueJob(url, data, callback, options) {
    if (this.callbacks.hasOwnProperty(url)) {
      this.callbacks[url].push(callback);
    } else {
      this.callbacks[url] = [callback];
      const job = {
        url: url,
        data: data,
        options: options
      };

      if (this.clients.length > 0) {
        this.clients.shift().run(job);
      } else {
        this.queue.push(job);
      }
    }
  }

  enqueueClient(client) {
    if (this.queue.length > 0) {
      client.run(this.queue.shift());
    } else {
      this.clients.push(client);
    }
  }

  handleResponse(url, err, data) {
    const callback = this.callbacks[url];

    if (err) {
      for (let i = 0; i < callback.length; ++i) {
        callback[i](err);
      }
    } else {
      if (data.format === PIXELFORMAT_R5_G6_B5 || data.format === PIXELFORMAT_R4_G4_B4_A4) {
        data.levels = data.levels.map(function (v) {
          return new Uint16Array(v);
        });
      } else {
        data.levels = data.levels.map(function (v) {
          return new Uint8Array(v);
        });
      }

      for (let i = 0; i < callback.length; ++i) {
        callback[i](null, data);
      }
    }

    delete this.callbacks[url];
  }

}

class BasisClient {
  constructor(queue, config, eager) {
    this.queue = queue;
    this.worker = new Worker(config.workerUrl);
    this.worker.addEventListener('message', message => {
      const data = message.data;
      this.queue.handleResponse(data.url, data.err, data.data);

      if (!this.eager) {
        this.queue.enqueueClient(this);
      }
    });
    this.worker.postMessage({
      type: 'init',
      config: config
    });
    this.eager = eager;
  }

  run(job) {
    const transfer = [];

    if (job.data instanceof ArrayBuffer) {
      transfer.push(job.data);
    }

    this.worker.postMessage({
      type: 'transcode',
      url: job.url,
      format: job.format,
      data: job.data,
      options: job.options
    }, transfer);

    if (this.eager) {
      this.queue.enqueueClient(this);
    }
  }

}

const defaultNumWorkers = 1;
const defaultRgbPriority = ['etc1', 'etc2', 'astc', 'dxt', 'pvr', 'atc'];
const defaultRgbaPriority = ['astc', 'dxt', 'etc2', 'pvr', 'atc'];
const defaultMaxRetries = 5;
const queue = new BasisQueue();
let lazyConfig = null;
let initializing = false;

function basisInitialize(config) {
  if (initializing) {
    return;
  }

  if (!config) {
    config = lazyConfig || {};
  } else if (config.lazyInit) {
    lazyConfig = config;
    return;
  }

  if (!config.glueUrl || !config.wasmUrl || !config.fallbackUrl) {
    const modules = (window.config ? window.config.wasmModules : window.PRELOAD_MODULES) || [];
    const wasmModule = modules.find(function (m) {
      return m.moduleName === 'BASIS';
    });

    if (wasmModule) {
      const urlBase = window.ASSET_PREFIX || '';

      if (!config.glueUrl) {
        config.glueUrl = urlBase + wasmModule.glueUrl;
      }

      if (!config.wasmUrl) {
        config.wasmUrl = urlBase + wasmModule.wasmUrl;
      }

      if (!config.fallbackUrl) {
        config.fallbackUrl = urlBase + wasmModule.fallbackUrl;
      }
    }
  }

  if (config.glueUrl || config.wasmUrl || config.fallbackUrl) {
    initializing = true;
    const numWorkers = Math.max(1, Math.min(16, config.numWorkers || defaultNumWorkers));
    const eagerWorkers = config.numWorkers === 1 || (config.hasOwnProperty('eagerWorkers') ? config.eagerWorkers : true);
    config.rgbPriority = config.rgbPriority || defaultRgbPriority;
    config.rgbaPriority = config.rgbaPriority || defaultRgbaPriority;
    config.maxRetries = config.hasOwnProperty('maxRetries') ? config.maxRetries : defaultMaxRetries;
    prepareWorkerModules(config, (err, clientConfig) => {
      if (err) {
        console.error(`failed to initialize basis worker: ${err}`);
      } else {
        for (let i = 0; i < numWorkers; ++i) {
          queue.enqueueClient(new BasisClient(queue, clientConfig, eagerWorkers));
        }
      }
    });
  }
}

let deviceDetails = null;

function basisTranscode(device, url, data, callback, options) {
  basisInitialize();

  if (!deviceDetails) {
    deviceDetails = {
      webgl2: device.webgl2,
      formats: getCompressionFormats(device)
    };
  }

  queue.enqueueJob(url, data, callback, {
    deviceDetails: deviceDetails,
    isGGGR: !!(options != null && options.isGGGR),
    isKTX2: !!(options != null && options.isKTX2)
  });
  return initializing;
}

export { basisInitialize, basisTranscode };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzaXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZXNvdXJjZXMvYmFzaXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVidWcgfSBmcm9tICcuLi9jb3JlL2RlYnVnLmpzJztcbmltcG9ydCB7IFBJWEVMRk9STUFUX1I1X0c2X0I1LCBQSVhFTEZPUk1BVF9SNF9HNF9CNF9BNCB9IGZyb20gJy4uL2dyYXBoaWNzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBCYXNpc1dvcmtlciB9IGZyb20gJy4vYmFzaXMtd29ya2VyLmpzJztcbmltcG9ydCB7IGh0dHAgfSBmcm9tICcuLi9uZXQvaHR0cC5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9ncmFwaGljcy9ncmFwaGljcy1kZXZpY2UuanMnKS5HcmFwaGljc0RldmljZX0gR3JhcGhpY3NEZXZpY2UgKi9cblxuLy8gZ2V0IHRoZSBsaXN0IG9mIHRoZSBkZXZpY2UncyBzdXBwb3J0ZWQgY29tcHJlc3Npb24gZm9ybWF0c1xuY29uc3QgZ2V0Q29tcHJlc3Npb25Gb3JtYXRzID0gKGRldmljZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzdGM6ICEhZGV2aWNlLmV4dENvbXByZXNzZWRUZXh0dXJlQVNUQyxcbiAgICAgICAgYXRjOiAhIWRldmljZS5leHRDb21wcmVzc2VkVGV4dHVyZUFUQyxcbiAgICAgICAgZHh0OiAhIWRldmljZS5leHRDb21wcmVzc2VkVGV4dHVyZVMzVEMsXG4gICAgICAgIGV0YzE6ICEhZGV2aWNlLmV4dENvbXByZXNzZWRUZXh0dXJlRVRDMSxcbiAgICAgICAgZXRjMjogISFkZXZpY2UuZXh0Q29tcHJlc3NlZFRleHR1cmVFVEMsXG4gICAgICAgIHB2cjogISFkZXZpY2UuZXh0Q29tcHJlc3NlZFRleHR1cmVQVlJUQ1xuICAgIH07XG59O1xuXG4vLyBkb3dubG9hZCBiYXNpcyBjb2RlIGFuZCBjb21waWxlIHRoZSB3YXNtIG1vZHVsZSBmb3IgdXNlIGluIHdvcmtlcnNcbmNvbnN0IHByZXBhcmVXb3JrZXJNb2R1bGVzID0gKGNvbmZpZywgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBnZXRXb3JrZXJCbG9iID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gJygnICsgQmFzaXNXb3JrZXIudG9TdHJpbmcoKSArICcpKClcXG5cXG4nO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2NvZGVdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgd2FzbVN1cHBvcnRlZCA9ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoVWludDhBcnJheS5vZigweDAsIDB4NjEsIDB4NzMsIDB4NmQsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDApKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuTW9kdWxlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG1vZHVsZSkgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5JbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2VuZFJlc3BvbnNlID0gKGJhc2lzQ29kZSwgbW9kdWxlKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgICAgIHdvcmtlclVybDogVVJMLmNyZWF0ZU9iamVjdFVSTChnZXRXb3JrZXJCbG9iKCkpLFxuICAgICAgICAgICAgYmFzaXNVcmw6IFVSTC5jcmVhdGVPYmplY3RVUkwoYmFzaXNDb2RlKSxcbiAgICAgICAgICAgIG1vZHVsZTogbW9kdWxlLFxuICAgICAgICAgICAgcmdiUHJpb3JpdHk6IGNvbmZpZy5yZ2JQcmlvcml0eSxcbiAgICAgICAgICAgIHJnYmFQcmlvcml0eTogY29uZmlnLnJnYmFQcmlvcml0eVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicsXG4gICAgICAgIHJldHJ5OiBjb25maWcubWF4UmV0cmllcyA+IDAsXG4gICAgICAgIG1heFJldHJpZXM6IGNvbmZpZy5tYXhSZXRyaWVzXG4gICAgfTtcblxuICAgIGlmIChjb25maWcuZ2x1ZVVybCAmJiBjb25maWcud2FzbVVybCAmJiB3YXNtU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgbGV0IGJhc2lzQ29kZSA9IG51bGw7XG4gICAgICAgIGxldCBtb2R1bGUgPSBudWxsO1xuXG4gICAgICAgIC8vIGRvd25sb2FkIGdsdWUgc2NyaXB0XG4gICAgICAgIGh0dHAuZ2V0KGNvbmZpZy5nbHVlVXJsLCBvcHRpb25zLCAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlLCBtb2R1bGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2lzQ29kZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZmV0Y2hQcm9taXNlID0gZmV0Y2goY29uZmlnLndhc21VcmwpO1xuXG4gICAgICAgIGNvbnN0IGNvbXBpbGVNYW51YWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBmZXRjaFByb21pc2VcbiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHQgPT4gcmVzdWx0LmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oYnVmZmVyID0+IFdlYkFzc2VtYmx5LmNvbXBpbGUoYnVmZmVyKSlcbiAgICAgICAgICAgICAgICAudGhlbigobW9kdWxlXykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzaXNDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UoYmFzaXNDb2RlLCBtb2R1bGVfKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZV87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZG93bmxvYWQgYW5kIGNvbXBpbGUgd2FzbSBtb2R1bGVcbiAgICAgICAgaWYgKFdlYkFzc2VtYmx5LmNvbXBpbGVTdHJlYW1pbmcpIHtcbiAgICAgICAgICAgIFdlYkFzc2VtYmx5LmNvbXBpbGVTdHJlYW1pbmcoZmV0Y2hQcm9taXNlKVxuICAgICAgICAgICAgICAgIC50aGVuKChtb2R1bGVfKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXNpc0NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZShiYXNpc0NvZGUsIG1vZHVsZV8pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlID0gbW9kdWxlXztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgRGVidWcud2FybihgY29tcGlsZVN0cmVhbWluZygpIGZhaWxlZCBmb3IgJHtjb25maWcud2FzbVVybH0gKCR7ZXJyfSksIGZhbGxpbmcgYmFjayB0byBhcnJheWJ1ZmZlciBkb3dubG9hZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZU1hbnVhbCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGlsZU1hbnVhbCgpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaHR0cC5nZXQoY29uZmlnLmZhbGxiYWNrVXJsLCBvcHRpb25zLCAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZShyZXNwb25zZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8vIHF1ZXVlIG9mIHRyYW5zY29kZSBqb2JzIGFuZCBjbGllbnRzIHJlYWR5IHRvIHJ1biB0aGVtXG5jbGFzcyBCYXNpc1F1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmNsaWVudHMgPSBbXTtcbiAgICB9XG5cbiAgICBlbnF1ZXVlSm9iKHVybCwgZGF0YSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLmhhc093blByb3BlcnR5KHVybCkpIHtcbiAgICAgICAgICAgIC8vIGR1cGxpY2F0ZSBVUkwgcmVxdWVzdFxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbdXJsXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5ldyBVUkwgcmVxdWVzdFxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbdXJsXSA9IFtjYWxsYmFja107XG5cbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50cy5zaGlmdCgpLnJ1bihqb2IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goam9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVucXVldWVDbGllbnQoY2xpZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNsaWVudC5ydW4odGhpcy5xdWV1ZS5zaGlmdCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50cy5wdXNoKGNsaWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSZXNwb25zZSh1cmwsIGVyciwgZGF0YSkge1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuY2FsbGJhY2tzW3VybF07XG5cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYWxsYmFjay5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIChjYWxsYmFja1tpXSkoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIChyZSljcmVhdGUgdHlwZWQgYXJyYXkgZnJvbSB0aGUgcmV0dXJuZWQgYXJyYXkgYnVmZmVyc1xuICAgICAgICAgICAgaWYgKGRhdGEuZm9ybWF0ID09PSBQSVhFTEZPUk1BVF9SNV9HNl9CNSB8fCBkYXRhLmZvcm1hdCA9PT0gUElYRUxGT1JNQVRfUjRfRzRfQjRfQTQpIHtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgMTYgYml0IGZvcm1hdHNcbiAgICAgICAgICAgICAgICBkYXRhLmxldmVscyA9IGRhdGEubGV2ZWxzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQxNkFycmF5KHYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbGwgb3RoZXJcbiAgICAgICAgICAgICAgICBkYXRhLmxldmVscyA9IGRhdGEubGV2ZWxzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FsbGJhY2subGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAoY2FsbGJhY2tbaV0pKG51bGwsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1t1cmxdO1xuICAgIH1cbn1cblxuLy8gY2xpZW50IGludGVyZmFjZSB0byBhIGJhc2lzIHRyYW5zY29kZXIgaW5zdGFuY2UgcnVubmluZyBvbiBhIHdlYiB3b3JrZXJcbmNsYXNzIEJhc2lzQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihxdWV1ZSwgY29uZmlnLCBlYWdlcikge1xuICAgICAgICB0aGlzLnF1ZXVlID0gcXVldWU7XG4gICAgICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcihjb25maWcud29ya2VyVXJsKTtcbiAgICAgICAgdGhpcy53b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gbWVzc2FnZS5kYXRhO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5oYW5kbGVSZXNwb25zZShkYXRhLnVybCwgZGF0YS5lcnIsIGRhdGEuZGF0YSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWFnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLmVucXVldWVDbGllbnQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7IHR5cGU6ICdpbml0JywgY29uZmlnOiBjb25maWcgfSk7XG5cbiAgICAgICAgLy8gYW4gZWFnZXIgY2xpZW50IHdpbGwgZW5xdWV1ZSBpdHNlbGYgd2hpbGUgYSBqb2IgaXMgcnVubmluZy4gYVxuICAgICAgICAvLyBub24tZWFnZXIgY2xpZW50IHdpbGwgb25seSBlbnF1ZXVlIGl0c2VsZiBvbmNlIHRoZSBjdXJyZW50IGpvYlxuICAgICAgICAvLyBoYXMgZmluaXNoZWQgcnVubmluZy5cbiAgICAgICAgdGhpcy5lYWdlciA9IGVhZ2VyO1xuICAgIH1cblxuICAgIHJ1bihqb2IpIHtcbiAgICAgICAgY29uc3QgdHJhbnNmZXIgPSBbXTtcbiAgICAgICAgaWYgKGpvYi5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHRyYW5zZmVyLnB1c2goam9iLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2NvZGUnLFxuICAgICAgICAgICAgdXJsOiBqb2IudXJsLFxuICAgICAgICAgICAgZm9ybWF0OiBqb2IuZm9ybWF0LFxuICAgICAgICAgICAgZGF0YTogam9iLmRhdGEsXG4gICAgICAgICAgICBvcHRpb25zOiBqb2Iub3B0aW9uc1xuICAgICAgICB9LCB0cmFuc2Zlcik7XG4gICAgICAgIGlmICh0aGlzLmVhZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLmVucXVldWVDbGllbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGRlZmF1bHRzXG5jb25zdCBkZWZhdWx0TnVtV29ya2VycyA9IDE7XG5jb25zdCBkZWZhdWx0UmdiUHJpb3JpdHkgPSBbJ2V0YzEnLCAnZXRjMicsICdhc3RjJywgJ2R4dCcsICdwdnInLCAnYXRjJ107XG5jb25zdCBkZWZhdWx0UmdiYVByaW9yaXR5ID0gWydhc3RjJywgJ2R4dCcsICdldGMyJywgJ3B2cicsICdhdGMnXTtcbmNvbnN0IGRlZmF1bHRNYXhSZXRyaWVzID0gNTtcblxuLy8gZ2xvYmFsIHN0YXRlXG5jb25zdCBxdWV1ZSA9IG5ldyBCYXNpc1F1ZXVlKCk7XG5sZXQgbGF6eUNvbmZpZyA9IG51bGw7XG5sZXQgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgQmFzaXMgdHJhbnNjb2RlIHdvcmtlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbmZpZ10gLSBUaGUgQmFzaXMgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLmdsdWVVcmxdIC0gVVJMIG9mIGdsdWUgc2NyaXB0LlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb25maWcud2FzbVVybF0gLSBVUkwgb2YgdGhlIHdhc20gbW9kdWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb25maWcuZmFsbGJhY2tVcmxdIC0gVVJMIG9mIHRoZSBmYWxsYmFjayBzY3JpcHQgdG8gdXNlIHdoZW4gd2FzbSBtb2R1bGVzXG4gKiBhcmVuJ3Qgc3VwcG9ydGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmxhenlJbml0XSAtIFdhaXQgZm9yIGZpcnN0IHRyYW5zY29kZSByZXF1ZXN0IGJlZm9yZSBpbml0aWFsaXppbmcgQmFzaXNcbiAqIChkZWZhdWx0IGlzIGZhbHNlKS4gT3RoZXJ3aXNlIGluaXRpYWxpemUgQmFzaXMgaW1tZWRpYXRlbHkuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5udW1Xb3JrZXJzXSAtIE51bWJlciBvZiB3b3JrZXJzIHRvIHVzZSBmb3IgdHJhbnNjb2RpbmcgKGRlZmF1bHQgaXMgMSkuXG4gKiBXaGlsZSBpdCBpcyBwb3NzaWJsZSB0byBpbXByb3ZlIHRyYW5zY29kZSBwZXJmb3JtYW5jZSB1c2luZyBtdWx0aXBsZSB3b3JrZXJzLCB0aGlzIHdpbGwgbGlrZWx5XG4gKiBkZXBlbmQgb24gdGhlIHJ1bnRpbWUgcGxhdGZvcm0uIEZvciBleGFtcGxlLCBkZXNrdG9wIHdpbGwgbGlrZWx5IGJlbmVmaXQgZnJvbSBtb3JlIHdvcmtlcnNcbiAqIGNvbXBhcmVkIHRvIG1vYmlsZS4gQWxzbyBrZWVwIGluIG1pbmQgdGhhdCBpdCB0YWtlcyB0aW1lIHRvIGluaXRpYWxpemUgd29ya2VycyBhbmQgaW5jcmVhc2luZ1xuICogdGhpcyB2YWx1ZSBjb3VsZCBpbXBhY3QgYXBwbGljYXRpb24gc3RhcnR1cCB0aW1lLiBNYWtlIHN1cmUgdG8gdGVzdCB5b3VyIGFwcGxpY2F0aW9uIHBlcmZvcm1hbmNlXG4gKiBvbiBhbGwgdGFyZ2V0IHBsYXRmb3JtcyB3aGVuIGNoYW5naW5nIHRoaXMgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmVhZ2VyV29ya2Vyc10gLSBVc2UgZWFnZXIgd29ya2VycyAoZGVmYXVsdCBpcyB0cnVlKS4gV2hlbiBlbmFibGVkLCBqb2JzXG4gKiBhcmUgYXNzaWduZWQgdG8gd29ya2VycyBpbW1lZGlhdGVseSwgaW5kZXBlbmRlbnQgb2YgdGhlaXIgd29yayBsb2FkLiBUaGlzIGNhbiByZXN1bHQgaW5cbiAqIHVuYmFsYW5jZWQgd29ya2xvYWRzLCBob3dldmVyIHRoZXJlIGlzIG5vIGRlbGF5IGJldHdlZW4gam9icy4gSWYgZGlzYWJsZWQsIG5ldyBqb2JzIGFyZSBhc3NpZ25lZFxuICogdG8gd29ya2VycyBvbmx5IHdoZW4gdGhlaXIgcHJldmlvdXMgam9iIGhhcyBjb21wbGV0ZWQuIFRoaXMgd2lsbCByZXN1bHQgaW4gYmFsYW5jZWQgd29ya2xvYWRzXG4gKiBhY3Jvc3Mgd29ya2VycywgaG93ZXZlciB3b3JrZXJzIGNhbiBiZSBpZGxlIGZvciBhIHNob3J0IHRpbWUgYmV0d2VlbiBqb2JzLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2NvbmZpZy5yZ2JQcmlvcml0eV0gLSBBcnJheSBvZiB0ZXh0dXJlIGNvbXByZXNzaW9uIGZvcm1hdHMgaW4gcHJpb3JpdHkgb3JkZXJcbiAqIGZvciB0ZXh0dXJlcyB3aXRob3V0IGFscGhhLiBUaGUgc3VwcG9ydGVkIGNvbXByZXNzZWQgZm9ybWF0cyBhcmU6ICdhc3RjJywgJ2F0YycsICdkeHQnLCAnZXRjMScsXG4gKiAnZXRjMicsICdwdnInLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2NvbmZpZy5yZ2JhUHJpb3JpdHldIC0gQXJyYXkgb2YgdGV4dHVyZSBjb21wcmVzc2lvbiBmb3JtYXRzIGluIHByaW9yaXR5IG9yZGVyXG4gKiBmb3IgdGV4dHVyZXMgd2l0aCBhbHBoYS4gVGhlIHN1cHBvcnRlZCBjb21wcmVzc2VkIGZvcm1hdHMgYXJlOiAnYXN0YycsICdhdGMnLCAnZHh0JywgJ2V0YzEnLFxuICogJ2V0YzInLCAncHZyJy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1heFJldHJpZXNdIC0gTnVtYmVyIG9mIGh0dHAgbG9hZCByZXRyeSBhdHRlbXB0cy4gRGVmYXVsdHMgdG8gNS5cbiAqL1xuZnVuY3Rpb24gYmFzaXNJbml0aWFsaXplKGNvbmZpZykge1xuICAgIGlmIChpbml0aWFsaXppbmcpIHtcbiAgICAgICAgLy8gYWxyZWFkeSBpbml0aWFsaXppbmdcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IGxhenlDb25maWcgfHwge307XG4gICAgfSBlbHNlIGlmIChjb25maWcubGF6eUluaXQpIHtcbiAgICAgICAgbGF6eUNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIGFueSBVUkxzIGFyZSBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25maWcsIHRha2UgdGhlbSBmcm9tIHRoZSBnbG9iYWwgUEMgY29uZmlnIHN0cnVjdHVyZVxuICAgIGlmICghY29uZmlnLmdsdWVVcmwgfHwgIWNvbmZpZy53YXNtVXJsIHx8ICFjb25maWcuZmFsbGJhY2tVcmwpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9ICh3aW5kb3cuY29uZmlnID8gd2luZG93LmNvbmZpZy53YXNtTW9kdWxlcyA6IHdpbmRvdy5QUkVMT0FEX01PRFVMRVMpIHx8IFtdO1xuICAgICAgICBjb25zdCB3YXNtTW9kdWxlID0gbW9kdWxlcy5maW5kKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5tb2R1bGVOYW1lID09PSAnQkFTSVMnO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHdhc21Nb2R1bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybEJhc2UgPSB3aW5kb3cuQVNTRVRfUFJFRklYIHx8ICcnO1xuICAgICAgICAgICAgaWYgKCFjb25maWcuZ2x1ZVVybCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5nbHVlVXJsID0gdXJsQmFzZSArIHdhc21Nb2R1bGUuZ2x1ZVVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29uZmlnLndhc21VcmwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcud2FzbVVybCA9IHVybEJhc2UgKyB3YXNtTW9kdWxlLndhc21Vcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbmZpZy5mYWxsYmFja1VybCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5mYWxsYmFja1VybCA9IHVybEJhc2UgKyB3YXNtTW9kdWxlLmZhbGxiYWNrVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5nbHVlVXJsIHx8IGNvbmZpZy53YXNtVXJsIHx8IGNvbmZpZy5mYWxsYmFja1VybCkge1xuICAgICAgICBpbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IG51bVdvcmtlcnMgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigxNiwgY29uZmlnLm51bVdvcmtlcnMgfHwgZGVmYXVsdE51bVdvcmtlcnMpKTtcbiAgICAgICAgY29uc3QgZWFnZXJXb3JrZXJzID0gKGNvbmZpZy5udW1Xb3JrZXJzID09PSAxKSB8fCAoY29uZmlnLmhhc093blByb3BlcnR5KCdlYWdlcldvcmtlcnMnKSA/IGNvbmZpZy5lYWdlcldvcmtlcnMgOiB0cnVlKTtcblxuICAgICAgICBjb25maWcucmdiUHJpb3JpdHkgPSBjb25maWcucmdiUHJpb3JpdHkgfHwgZGVmYXVsdFJnYlByaW9yaXR5O1xuICAgICAgICBjb25maWcucmdiYVByaW9yaXR5ID0gY29uZmlnLnJnYmFQcmlvcml0eSB8fCBkZWZhdWx0UmdiYVByaW9yaXR5O1xuICAgICAgICBjb25maWcubWF4UmV0cmllcyA9IGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnbWF4UmV0cmllcycpID8gY29uZmlnLm1heFJldHJpZXMgOiBkZWZhdWx0TWF4UmV0cmllcztcblxuICAgICAgICBwcmVwYXJlV29ya2VyTW9kdWxlcyhjb25maWcsIChlcnIsIGNsaWVudENvbmZpZykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGZhaWxlZCB0byBpbml0aWFsaXplIGJhc2lzIHdvcmtlcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV29ya2VyczsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLmVucXVldWVDbGllbnQobmV3IEJhc2lzQ2xpZW50KHF1ZXVlLCBjbGllbnRDb25maWcsIGVhZ2VyV29ya2VycykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5sZXQgZGV2aWNlRGV0YWlscyA9IG51bGw7XG5cbi8qKlxuICogRW5xdWV1ZSBhIGJsb2Igb2YgYmFzaXMgZGF0YSBmb3IgdHJhbnNjb2RpbmcuXG4gKlxuICogQHBhcmFtIHtHcmFwaGljc0RldmljZX0gZGV2aWNlIC0gVGhlIGdyYXBoaWNzIGRldmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgb2YgdGhlIGJhc2lzIGZpbGUuXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFRoZSBmaWxlIGRhdGEgdG8gdHJhbnNjb2RlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiB0byByZWNlaXZlIHRyYW5zY29kZSByZXN1bHQuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNHR0dSXSAtIEluZGljYXRlcyB0aGlzIGlzIGEgR0dHUiBzd2l6emxlZCB0ZXh0dXJlLiBVbmRlciBzb21lXG4gKiBjaXJjdW1zdGFuY2VzIHRoZSB0ZXh0dXJlIHdpbGwgYmUgdW5zd2l6emxlZCBkdXJpbmcgdHJhbnNjb2RpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzS1RYMl0gLSBJbmRpY2F0ZXMgdGhlIGltYWdlIGlzIEtUWDIgZm9ybWF0LiBPdGhlcndpc2VcbiAqIGJhc2lzIGZvcm1hdCBpcyBhc3N1bWVkLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJhc2lzIHdvcmtlciB3YXMgaW5pdGlhbGl6ZWQgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gYmFzaXNUcmFuc2NvZGUoZGV2aWNlLCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgYmFzaXNJbml0aWFsaXplKCk7XG5cbiAgICBpZiAoIWRldmljZURldGFpbHMpIHtcbiAgICAgICAgZGV2aWNlRGV0YWlscyA9IHtcbiAgICAgICAgICAgIHdlYmdsMjogZGV2aWNlLndlYmdsMixcbiAgICAgICAgICAgIGZvcm1hdHM6IGdldENvbXByZXNzaW9uRm9ybWF0cyhkZXZpY2UpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcXVldWUuZW5xdWV1ZUpvYih1cmwsIGRhdGEsIGNhbGxiYWNrLCB7XG4gICAgICAgIGRldmljZURldGFpbHM6IGRldmljZURldGFpbHMsXG4gICAgICAgIGlzR0dHUjogISFvcHRpb25zPy5pc0dHR1IsXG4gICAgICAgIGlzS1RYMjogISFvcHRpb25zPy5pc0tUWDJcbiAgICB9KTtcblxuICAgIHJldHVybiBpbml0aWFsaXppbmc7XG59XG5cbmV4cG9ydCB7XG4gICAgYmFzaXNJbml0aWFsaXplLFxuICAgIGJhc2lzVHJhbnNjb2RlXG59O1xuIl0sIm5hbWVzIjpbImdldENvbXByZXNzaW9uRm9ybWF0cyIsImRldmljZSIsImFzdGMiLCJleHRDb21wcmVzc2VkVGV4dHVyZUFTVEMiLCJhdGMiLCJleHRDb21wcmVzc2VkVGV4dHVyZUFUQyIsImR4dCIsImV4dENvbXByZXNzZWRUZXh0dXJlUzNUQyIsImV0YzEiLCJleHRDb21wcmVzc2VkVGV4dHVyZUVUQzEiLCJldGMyIiwiZXh0Q29tcHJlc3NlZFRleHR1cmVFVEMiLCJwdnIiLCJleHRDb21wcmVzc2VkVGV4dHVyZVBWUlRDIiwicHJlcGFyZVdvcmtlck1vZHVsZXMiLCJjb25maWciLCJjYWxsYmFjayIsImdldFdvcmtlckJsb2IiLCJjb2RlIiwiQmFzaXNXb3JrZXIiLCJ0b1N0cmluZyIsIkJsb2IiLCJ0eXBlIiwid2FzbVN1cHBvcnRlZCIsIldlYkFzc2VtYmx5IiwiaW5zdGFudGlhdGUiLCJtb2R1bGUiLCJNb2R1bGUiLCJVaW50OEFycmF5Iiwib2YiLCJJbnN0YW5jZSIsImUiLCJzZW5kUmVzcG9uc2UiLCJiYXNpc0NvZGUiLCJ3b3JrZXJVcmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJiYXNpc1VybCIsInJnYlByaW9yaXR5IiwicmdiYVByaW9yaXR5Iiwib3B0aW9ucyIsInJlc3BvbnNlVHlwZSIsInJldHJ5IiwibWF4UmV0cmllcyIsImdsdWVVcmwiLCJ3YXNtVXJsIiwiaHR0cCIsImdldCIsImVyciIsInJlc3BvbnNlIiwiZmV0Y2hQcm9taXNlIiwiZmV0Y2giLCJjb21waWxlTWFudWFsIiwidGhlbiIsInJlc3VsdCIsImFycmF5QnVmZmVyIiwiYnVmZmVyIiwiY29tcGlsZSIsIm1vZHVsZV8iLCJjYXRjaCIsImNvbXBpbGVTdHJlYW1pbmciLCJEZWJ1ZyIsIndhcm4iLCJmYWxsYmFja1VybCIsIkJhc2lzUXVldWUiLCJjb25zdHJ1Y3RvciIsImNhbGxiYWNrcyIsInF1ZXVlIiwiY2xpZW50cyIsImVucXVldWVKb2IiLCJ1cmwiLCJkYXRhIiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwiam9iIiwibGVuZ3RoIiwic2hpZnQiLCJydW4iLCJlbnF1ZXVlQ2xpZW50IiwiY2xpZW50IiwiaGFuZGxlUmVzcG9uc2UiLCJpIiwiZm9ybWF0IiwiUElYRUxGT1JNQVRfUjVfRzZfQjUiLCJQSVhFTEZPUk1BVF9SNF9HNF9CNF9BNCIsImxldmVscyIsIm1hcCIsInYiLCJVaW50MTZBcnJheSIsIkJhc2lzQ2xpZW50IiwiZWFnZXIiLCJ3b3JrZXIiLCJXb3JrZXIiLCJhZGRFdmVudExpc3RlbmVyIiwibWVzc2FnZSIsInBvc3RNZXNzYWdlIiwidHJhbnNmZXIiLCJBcnJheUJ1ZmZlciIsImRlZmF1bHROdW1Xb3JrZXJzIiwiZGVmYXVsdFJnYlByaW9yaXR5IiwiZGVmYXVsdFJnYmFQcmlvcml0eSIsImRlZmF1bHRNYXhSZXRyaWVzIiwibGF6eUNvbmZpZyIsImluaXRpYWxpemluZyIsImJhc2lzSW5pdGlhbGl6ZSIsImxhenlJbml0IiwibW9kdWxlcyIsIndpbmRvdyIsIndhc21Nb2R1bGVzIiwiUFJFTE9BRF9NT0RVTEVTIiwid2FzbU1vZHVsZSIsImZpbmQiLCJtIiwibW9kdWxlTmFtZSIsInVybEJhc2UiLCJBU1NFVF9QUkVGSVgiLCJudW1Xb3JrZXJzIiwiTWF0aCIsIm1heCIsIm1pbiIsImVhZ2VyV29ya2VycyIsImNsaWVudENvbmZpZyIsImNvbnNvbGUiLCJlcnJvciIsImRldmljZURldGFpbHMiLCJiYXNpc1RyYW5zY29kZSIsIndlYmdsMiIsImZvcm1hdHMiLCJpc0dHR1IiLCJpc0tUWDIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFRQSxNQUFNQSxxQkFBcUIsR0FBSUMsTUFBRCxJQUFZO0VBQ3RDLE9BQU87QUFDSEMsSUFBQUEsSUFBSSxFQUFFLENBQUMsQ0FBQ0QsTUFBTSxDQUFDRSx3QkFEWjtBQUVIQyxJQUFBQSxHQUFHLEVBQUUsQ0FBQyxDQUFDSCxNQUFNLENBQUNJLHVCQUZYO0FBR0hDLElBQUFBLEdBQUcsRUFBRSxDQUFDLENBQUNMLE1BQU0sQ0FBQ00sd0JBSFg7QUFJSEMsSUFBQUEsSUFBSSxFQUFFLENBQUMsQ0FBQ1AsTUFBTSxDQUFDUSx3QkFKWjtBQUtIQyxJQUFBQSxJQUFJLEVBQUUsQ0FBQyxDQUFDVCxNQUFNLENBQUNVLHVCQUxaO0FBTUhDLElBQUFBLEdBQUcsRUFBRSxDQUFDLENBQUNYLE1BQU0sQ0FBQ1kseUJBQUFBO0dBTmxCLENBQUE7QUFRSCxDQVRELENBQUE7O0FBWUEsTUFBTUMsb0JBQW9CLEdBQUcsQ0FBQ0MsTUFBRCxFQUFTQyxRQUFULEtBQXNCO0VBQy9DLE1BQU1DLGFBQWEsR0FBRyxNQUFNO0lBQ3hCLE1BQU1DLElBQUksR0FBRyxHQUFNQyxHQUFBQSxXQUFXLENBQUNDLFFBQVosRUFBTixHQUErQixTQUE1QyxDQUFBO0FBQ0EsSUFBQSxPQUFPLElBQUlDLElBQUosQ0FBUyxDQUFDSCxJQUFELENBQVQsRUFBaUI7QUFBRUksTUFBQUEsSUFBSSxFQUFFLHdC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
