/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { DEVICETYPE_WEBGPU, SEMANTIC_POSITION, SEMANTIC_NORMAL, SEMANTIC_TANGENT, SEMANTIC_TEXCOORD0, SEMANTIC_TEXCOORD1, SEMANTIC_TEXCOORD2, SEMANTIC_TEXCOORD3, SEMANTIC_TEXCOORD4, SEMANTIC_TEXCOORD5, SEMANTIC_TEXCOORD6, SEMANTIC_TEXCOORD7, SEMANTIC_COLOR, SEMANTIC_BLENDINDICES, SEMANTIC_BLENDWEIGHT } from '../constants.js';
import { Shader } from '../shader.js';
import { shaderChunks } from './chunks/chunks.js';
import { precisionCode, versionCode, dummyFragmentCode } from './programs/common.js';

const attrib2Semantic = {
  vertex_position: SEMANTIC_POSITION,
  vertex_normal: SEMANTIC_NORMAL,
  vertex_tangent: SEMANTIC_TANGENT,
  vertex_texCoord0: SEMANTIC_TEXCOORD0,
  vertex_texCoord1: SEMANTIC_TEXCOORD1,
  vertex_texCoord2: SEMANTIC_TEXCOORD2,
  vertex_texCoord3: SEMANTIC_TEXCOORD3,
  vertex_texCoord4: SEMANTIC_TEXCOORD4,
  vertex_texCoord5: SEMANTIC_TEXCOORD5,
  vertex_texCoord6: SEMANTIC_TEXCOORD6,
  vertex_texCoord7: SEMANTIC_TEXCOORD7,
  vertex_color: SEMANTIC_COLOR,
  vertex_boneIndices: SEMANTIC_BLENDINDICES,
  vertex_boneWeights: SEMANTIC_BLENDWEIGHT
};

function collectAttribs(vsCode) {
  const attribs = {};
  let attrs = 0;
  let found = vsCode.indexOf("attribute");

  while (found >= 0) {
    if (found > 0 && vsCode[found - 1] === "/") break;
    const endOfLine = vsCode.indexOf(';', found);
    const startOfAttribName = vsCode.lastIndexOf(' ', endOfLine);
    const attribName = vsCode.substring(startOfAttribName + 1, endOfLine);
    const semantic = attrib2Semantic[attribName];

    if (semantic !== undefined) {
      attribs[attribName] = semantic;
    } else {
      attribs[attribName] = "ATTR" + attrs;
      attrs++;
    }

    found = vsCode.indexOf("attribute", found + 1);
  }

  return attribs;
}

function createShader(device, vsName, psName, useTransformFeedback = false) {
  let vsCode = shaderChunks[vsName];
  let psCode = precisionCode(device) + "\n" + shaderChunks[psName];
  const attribs = collectAttribs(vsCode);

  if (device.deviceType === DEVICETYPE_WEBGPU) {
    vsCode = versionCode(device) + shaderChunks.webgpuVS + vsCode;
    psCode = versionCode(device) + shaderChunks.webgpuPS + psCode;
  } else if (device.webgl2) {
    vsCode = versionCode(device) + shaderChunks.gles3VS + vsCode;
    psCode = versionCode(device) + shaderChunks.gles3PS + psCode;
  }

  return new Shader(device, {
    attributes: attribs,
    vshader: vsCode,
    fshader: psCode,
    useTransformFeedback: useTransformFeedback,
    name: `${vsName}_${psName}`
  });
}

function createShaderFromCode(device, vsCode, psCode, uName, useTransformFeedback = false, psPreamble = "") {
  const shaderCache = device.programLib._cache;
  const cached = shaderCache[uName];
  if (cached !== undefined) return cached;
  psCode = precisionCode(device) + "\n" + (psCode || dummyFragmentCode());
  const attribs = collectAttribs(vsCode);

  if (device.deviceType === DEVICETYPE_WEBGPU) {
    vsCode = versionCode(device) + shaderChunks.webgpuVS + vsCode;
    psCode = versionCode(device) + shaderChunks.webgpuPS + psCode;
  } else if (device.webgl2) {
    vsCode = versionCode(device) + shaderChunks.gles3VS + vsCode;
    psCode = versionCode(device) + shaderChunks.gles3PS + psCode;
  }

  shaderCache[uName] = new Shader(device, {
    name: uName,
    attributes: attribs,
    vshader: vsCode,
    fshader: psPreamble + psCode,
    useTransformFeedback: useTransformFeedback
  });
  return shaderCache[uName];
}

shaderChunks.collectAttribs = collectAttribs;
shaderChunks.createShader = createShader;
shaderChunks.createShaderFromCode = createShaderFromCode;

export { collectAttribs, createShader, createShaderFromCode };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9ncmFwaGljcy9wcm9ncmFtLWxpYi91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIERFVklDRVRZUEVfV0VCR1BVLFxuICAgIFNFTUFOVElDX1BPU0lUSU9OLCBTRU1BTlRJQ19OT1JNQUwsIFNFTUFOVElDX1RBTkdFTlQsIFNFTUFOVElDX1RFWENPT1JEMCwgU0VNQU5USUNfVEVYQ09PUkQxLCBTRU1BTlRJQ19URVhDT09SRDIsXG4gICAgU0VNQU5USUNfVEVYQ09PUkQzLCBTRU1BTlRJQ19URVhDT09SRDQsIFNFTUFOVElDX1RFWENPT1JENSwgU0VNQU5USUNfVEVYQ09PUkQ2LCBTRU1BTlRJQ19URVhDT09SRDcsXG4gICAgU0VNQU5USUNfQ09MT1IsIFNFTUFOVElDX0JMRU5ESU5ESUNFUywgU0VNQU5USUNfQkxFTkRXRUlHSFRcbn0gZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci5qcyc7XG5cbmltcG9ydCB7IHNoYWRlckNodW5rcyB9IGZyb20gJy4vY2h1bmtzL2NodW5rcy5qcyc7XG5cbmltcG9ydCB7IGR1bW15RnJhZ21lbnRDb2RlLCBwcmVjaXNpb25Db2RlLCB2ZXJzaW9uQ29kZSB9IGZyb20gJy4vcHJvZ3JhbXMvY29tbW9uLmpzJztcblxuY29uc3QgYXR0cmliMlNlbWFudGljID0ge1xuICAgIHZlcnRleF9wb3NpdGlvbjogU0VNQU5USUNfUE9TSVRJT04sXG4gICAgdmVydGV4X25vcm1hbDogU0VNQU5USUNfTk9STUFMLFxuICAgIHZlcnRleF90YW5nZW50OiBTRU1BTlRJQ19UQU5HRU5ULFxuICAgIHZlcnRleF90ZXhDb29yZDA6IFNFTUFOVElDX1RFWENPT1JEMCxcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQxOiBTRU1BTlRJQ19URVhDT09SRDEsXG4gICAgdmVydGV4X3RleENvb3JkMjogU0VNQU5USUNfVEVYQ09PUkQyLFxuICAgIHZlcnRleF90ZXhDb29yZDM6IFNFTUFOVElDX1RFWENPT1JEMyxcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQ0OiBTRU1BTlRJQ19URVhDT09SRDQsXG4gICAgdmVydGV4X3RleENvb3JkNTogU0VNQU5USUNfVEVYQ09PUkQ1LFxuICAgIHZlcnRleF90ZXhDb29yZDY6IFNFTUFOVElDX1RFWENPT1JENixcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQ3OiBTRU1BTlRJQ19URVhDT09SRDcsXG4gICAgdmVydGV4X2NvbG9yOiBTRU1BTlRJQ19DT0xPUixcbiAgICB2ZXJ0ZXhfYm9uZUluZGljZXM6IFNFTUFOVElDX0JMRU5ESU5ESUNFUyxcbiAgICB2ZXJ0ZXhfYm9uZVdlaWdodHM6IFNFTUFOVElDX0JMRU5EV0VJR0hUXG59O1xuXG4vKipcbiAqIEV4dHJhY3QgdGhlIGF0dHJpYnV0ZXMgc3BlY2lmaWVkIGluIGEgdmVydGV4IHNoYWRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdnNDb2RlIC0gVGhlIHZlcnRleCBzaGFkZXIgY29kZS5cbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gc2VtYW50aWMgbWFwLlxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBjb2xsZWN0QXR0cmlicyh2c0NvZGUpIHtcbiAgICBjb25zdCBhdHRyaWJzID0ge307XG4gICAgbGV0IGF0dHJzID0gMDtcblxuICAgIGxldCBmb3VuZCA9IHZzQ29kZS5pbmRleE9mKFwiYXR0cmlidXRlXCIpO1xuICAgIHdoaWxlIChmb3VuZCA+PSAwKSB7XG4gICAgICAgIGlmIChmb3VuZCA+IDAgJiYgdnNDb2RlW2ZvdW5kIC0gMV0gPT09IFwiL1wiKSBicmVhaztcbiAgICAgICAgY29uc3QgZW5kT2ZMaW5lID0gdnNDb2RlLmluZGV4T2YoJzsnLCBmb3VuZCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0T2ZBdHRyaWJOYW1lID0gdnNDb2RlLmxhc3RJbmRleE9mKCcgJywgZW5kT2ZMaW5lKTtcbiAgICAgICAgY29uc3QgYXR0cmliTmFtZSA9IHZzQ29kZS5zdWJzdHJpbmcoc3RhcnRPZkF0dHJpYk5hbWUgKyAxLCBlbmRPZkxpbmUpO1xuXG4gICAgICAgIGNvbnN0IHNlbWFudGljID0gYXR0cmliMlNlbWFudGljW2F0dHJpYk5hbWVdO1xuICAgICAgICBpZiAoc2VtYW50aWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXR0cmlic1thdHRyaWJOYW1lXSA9IHNlbWFudGljO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXR0cmlic1thdHRyaWJOYW1lXSA9IFwiQVRUUlwiICsgYXR0cnM7XG4gICAgICAgICAgICBhdHRycysrO1xuICAgICAgICB9XG5cbiAgICAgICAgZm91bmQgPSB2c0NvZGUuaW5kZXhPZihcImF0dHJpYnV0ZVwiLCBmb3VuZCArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlicztcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzaGFkZXIgZnJvbSBuYW1lZCBzaGFkZXIgY2h1bmtzLlxuICpcbiAqIEBwYXJhbSB7R3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZSBncmFwaGljcyBkZXZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdnNOYW1lIC0gVGhlIHZlcnRleCBzaGFkZXIgY2h1bmsgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwc05hbWUgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIGNodW5rIG5hbWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1c2VUcmFuc2Zvcm1GZWVkYmFja10gLSBXaGV0aGVyIHRvIHVzZSB0cmFuc2Zvcm0gZmVlZGJhY2suIERlZmF1bHRzIHRvIGZhbHNlLlxuICogQHJldHVybnMge1NoYWRlcn0gVGhlIG5ld2x5IGNyZWF0ZWQgc2hhZGVyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTaGFkZXIoZGV2aWNlLCB2c05hbWUsIHBzTmFtZSwgdXNlVHJhbnNmb3JtRmVlZGJhY2sgPSBmYWxzZSkge1xuICAgIGxldCB2c0NvZGUgPSBzaGFkZXJDaHVua3NbdnNOYW1lXTtcbiAgICBsZXQgcHNDb2RlID0gcHJlY2lzaW9uQ29kZShkZXZpY2UpICsgXCJcXG5cIiArIHNoYWRlckNodW5rc1twc05hbWVdO1xuICAgIGNvbnN0IGF0dHJpYnMgPSBjb2xsZWN0QXR0cmlicyh2c0NvZGUpO1xuXG4gICAgaWYgKGRldmljZS5kZXZpY2VUeXBlID09PSBERVZJQ0VUWVBFX1dFQkdQVSkge1xuICAgICAgICB2c0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLndlYmdwdVZTICsgdnNDb2RlO1xuICAgICAgICBwc0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLndlYmdwdVBTICsgcHNDb2RlO1xuICAgIH0gZWxzZSBpZiAoZGV2aWNlLndlYmdsMikge1xuICAgICAgICB2c0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLmdsZXMzVlMgKyB2c0NvZGU7XG4gICAgICAgIHBzQ29kZSA9IHZlcnNpb25Db2RlKGRldmljZSkgKyBzaGFkZXJDaHVua3MuZ2xlczNQUyArIHBzQ29kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFNoYWRlcihkZXZpY2UsIHtcbiAgICAgICAgYXR0cmlidXRlczogYXR0cmlicyxcbiAgICAgICAgdnNoYWRlcjogdnNDb2RlLFxuICAgICAgICBmc2hhZGVyOiBwc0NvZGUsXG4gICAgICAgIHVzZVRyYW5zZm9ybUZlZWRiYWNrOiB1c2VUcmFuc2Zvcm1GZWVkYmFjayxcbiAgICAgICAgbmFtZTogYCR7dnNOYW1lfV8ke3BzTmFtZX1gXG4gICAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgc2hhZGVyIGZyb20gdGhlIHN1cHBsaWVkIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwYXJhbSB7R3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZSBncmFwaGljcyBkZXZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdnNDb2RlIC0gVGhlIHZlcnRleCBzaGFkZXIgY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwc0NvZGUgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdU5hbWUgLSBVbmlxdWUgbmFtZSBmb3IgdGhlIHNoYWRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZVRyYW5zZm9ybUZlZWRiYWNrXSAtIFdoZXRoZXIgdG8gdXNlIHRyYW5zZm9ybSBmZWVkYmFjay4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BzUHJlYW1ibGVdIC0gQW4gb3B0aW9uYWwgJ3ByZWFtYmxlJyBzdHJpbmcgZm9yIHRoZSBmcmFnbWVudCBzaGFkZXIuIERlZmF1bHRzXG4gKiB0byAnJy5cbiAqIEByZXR1cm5zIHtTaGFkZXJ9IFRoZSBuZXdseSBjcmVhdGVkIHNoYWRlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2hhZGVyRnJvbUNvZGUoZGV2aWNlLCB2c0NvZGUsIHBzQ29kZSwgdU5hbWUsIHVzZVRyYW5zZm9ybUZlZWRiYWNrID0gZmFsc2UsIHBzUHJlYW1ibGUgPSBcIlwiKSB7XG4gICAgY29uc3Qgc2hhZGVyQ2FjaGUgPSBkZXZpY2UucHJvZ3JhbUxpYi5fY2FjaGU7XG4gICAgY29uc3QgY2FjaGVkID0gc2hhZGVyQ2FjaGVbdU5hbWVdO1xuICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGNhY2hlZDtcblxuICAgIHBzQ29kZSA9IHByZWNpc2lvbkNvZGUoZGV2aWNlKSArIFwiXFxuXCIgKyAocHNDb2RlIHx8IGR1bW15RnJhZ21lbnRDb2RlKCkpO1xuICAgIGNvbnN0IGF0dHJpYnMgPSBjb2xsZWN0QXR0cmlicyh2c0NvZGUpO1xuXG4gICAgaWYgKGRldmljZS5kZXZpY2VUeXBlID09PSBERVZJQ0VUWVBFX1dFQkdQVSkge1xuICAgICAgICB2c0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLndlYmdwdVZTICsgdnNDb2RlO1xuICAgICAgICBwc0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLndlYmdwdVBTICsgcHNDb2RlO1xuICAgIH0gZWxzZSBpZiAoZGV2aWNlLndlYmdsMikge1xuICAgICAgICB2c0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLmdsZXMzVlMgKyB2c0NvZGU7XG4gICAgICAgIHBzQ29kZSA9IHZlcnNpb25Db2RlKGRldmljZSkgKyBzaGFkZXJDaHVua3MuZ2xlczNQUyArIHBzQ29kZTtcbiAgICB9XG5cbiAgICBzaGFkZXJDYWNoZVt1TmFtZV0gPSBuZXcgU2hhZGVyKGRldmljZSwge1xuICAgICAgICBuYW1lOiB1TmFtZSxcbiAgICAgICAgYXR0cmlidXRlczogYXR0cmlicyxcbiAgICAgICAgdnNoYWRlcjogdnNDb2RlLFxuICAgICAgICBmc2hhZGVyOiBwc1ByZWFtYmxlICsgcHNDb2RlLFxuICAgICAgICB1c2VUcmFuc2Zvcm1GZWVkYmFjazogdXNlVHJhbnNmb3JtRmVlZGJhY2tcbiAgICB9KTtcbiAgICByZXR1cm4gc2hhZGVyQ2FjaGVbdU5hbWVdO1xufVxuXG5zaGFkZXJDaHVua3MuY29sbGVjdEF0dHJpYnMgPSBjb2xsZWN0QXR0cmlicztcbnNoYWRlckNodW5rcy5jcmVhdGVTaGFkZXIgPSBjcmVhdGVTaGFkZXI7XG5zaGFkZXJDaHVua3MuY3JlYXRlU2hhZGVyRnJvbUNvZGUgPSBjcmVhdGVTaGFkZXJGcm9tQ29kZTtcblxuZXhwb3J0IHsgY29sbGVjdEF0dHJpYnMsIGNyZWF0ZVNoYWRlciwgY3JlYXRlU2hhZGVyRnJvbUNvZGUgfTtcbiJdLCJuYW1lcyI6WyJhdHRyaWIyU2VtYW50aWMiLCJ2ZXJ0ZXhfcG9zaXRpb24iLCJTRU1BTlRJQ19QT1NJVElPTiIsInZlcnRleF9ub3JtYWwiLCJTRU1BTlRJQ19OT1JNQUwiLCJ2ZXJ0ZXhfdGFuZ2VudCIsIlNFTUFOVElDX1RBTkdFTlQiLCJ2ZXJ0ZXhfdGV4Q29vcmQwIiwiU0VNQU5USUNfVEVYQ09PUkQwIiwidmVydGV4X3RleENvb3JkMSIsIlNFTUFOVElDX1RFWENPT1JEMSIsInZlcnRleF90ZXhDb29yZDIiLCJTRU1BTlRJQ19URVhDT09SRDIiLCJ2ZXJ0ZXhfdGV4Q29vcmQzIiwiU0VNQU5USUNfVEVYQ09PUkQzIiwidmVydGV4X3RleENvb3JkNCIsIlNFTUFOVElDX1RFWENPT1JENCIsInZlcnRleF90ZXhDb29yZDUiLCJTRU1BTlRJQ19URVhDT09SRDUiLCJ2ZXJ0ZXhfdGV4Q29vcmQ2IiwiU0VNQU5USUNfVEVYQ09PUkQ2IiwidmVydGV4X3RleENvb3JkNyIsIlNFTUFOVElDX1RFWENPT1JENyIsInZlcnRleF9jb2xvciIsIlNFTUFOVElDX0NPTE9SIiwidmVydGV4X2JvbmVJbmRpY2VzIiwiU0VNQU5USUNfQkxFTkRJTkRJQ0VTIiwidmVydGV4X2JvbmVXZWlnaHRzIiwiU0VNQU5USUNfQkxFTkRXRUlHSFQiLCJjb2xsZWN0QXR0cmlicyIsInZzQ29kZSIsImF0dHJpYnMiLCJhdHRycyIsImZvdW5kIiwiaW5kZXhPZiIsImVuZE9mTGluZSIsInN0YXJ0T2ZBdHRyaWJOYW1lIiwibGFzdEluZGV4T2YiLCJhdHRyaWJOYW1lIiwic3Vic3RyaW5nIiwic2VtYW50aWMiLCJ1bmRlZmluZWQiLCJjcmVhdGVTaGFkZXIiLCJkZXZpY2UiLCJ2c05hbWUiLCJwc05hbWUiLCJ1c2VUcmFuc2Zvcm1GZWVkYmFjayIsInNoYWRlckNodW5rcyIsInBzQ29kZSIsInByZWNpc2lvbkNvZGUiLCJkZXZpY2VUeXBlIiwiREVWSUNFVFlQRV9XRUJHUFUiLCJ2ZXJzaW9uQ29kZSIsIndlYmdwdVZTIiwid2ViZ3B1UFMiLCJ3ZWJnbDIiLCJnbGVzM1ZTIiwiZ2xlczNQUyIsIlNoYWRlciIsImF0dHJpYnV0ZXMiLCJ2c2hhZGVyIiwiZnNoYWRlciIsIm5hbWUiLCJjcmVhdGVTaGFkZXJGcm9tQ29kZSIsInVOYW1lIiwicHNQcmVhbWJsZSIsInNoYWRlckNhY2hlIiwicHJvZ3Jh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
