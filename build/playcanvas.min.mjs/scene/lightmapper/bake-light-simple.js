import{Vec2 as t}from"../../math/vec2.js";import{random as o}from"../../math/random.js";import{LIGHTTYPE_DIRECTIONAL as i}from"../constants.js";import{BakeLight as e}from"./bake-light.js";const r=new t;class s extends e{get numVirtualLights(){return this.light.type===i?this.light.bakeNumSamples:1}prepareVirtualLight(t,i){const e=this.light;if(e._node.setLocalRotation(this.rotation),t>0){const s=e.bakeArea;o.circlePointDeterministic(r,t,i),r.mulScalar(.5*s),e._node.rotateLocal(r.x,0,r.y)}e._node.getWorldTransform();const s=this.scene.gammaCorrection?2.2:1,a=Math.pow(this.intensity,s);e.intensity=Math.pow(a/i,1/s)}}export{s as BakeLightSimple};
