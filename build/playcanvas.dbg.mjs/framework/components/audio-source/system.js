/**
 * @license
 * PlayCanvas Engine v1.62.0 revision 818511d2b (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { Channel3d } from '../../../platform/audio/channel3d.js';
import { Debug } from '../../../core/debug.js';
import { Entity } from '../../entity.js';
import { Component } from '../component.js';
import { ComponentSystem } from '../system.js';
import { AudioSourceComponent } from './component.js';
import { AudioSourceComponentData } from './data.js';

const _schema = ['enabled', 'assets', 'volume', 'pitch', 'loop', 'activate', '3d', 'minDistance', 'maxDistance', 'rollOffFactor', 'distanceModel', 'sources', 'currentSource', 'channel'];

/**
 * Controls playback of an audio sample. This class will be deprecated in favor of
 * {@link SoundComponentSystem}.
 *
 * @augments ComponentSystem
 * @ignore
 */
class AudioSourceComponentSystem extends ComponentSystem {
  /**
   * Create a new AudioSourceComponentSystem instance.
   *
   * @param {import('../../app-base.js').AppBase} app - The application managing this system.
   * @hideconstructor
   */
  constructor(app) {
    super(app);
    this.id = 'audiosource';
    this.ComponentType = AudioSourceComponent;
    this.DataType = AudioSourceComponentData;
    this.schema = _schema;
    this.manager = app.soundManager;
    Debug.assert(this.manager, "AudioSourceComponentSystem cannot be created witout sound manager");
    this.initialized = false;
    this.app.systems.on('initialize', this.onInitialize, this);
    this.app.systems.on('update', this.onUpdate, this);
    this.on('remove', this.onRemove, this);
  }
  initializeComponentData(component, data, properties) {
    properties = ['activate', 'volume', 'pitch', 'loop', '3d', 'minDistance', 'maxDistance', 'rollOffFactor', 'distanceModel', 'enabled', 'assets'];
    super.initializeComponentData(component, data, properties);
    component.paused = !(component.enabled && component.activate);
  }
  onInitialize(root) {
    if (root.audiosource && root.enabled && root.audiosource.enabled && root.audiosource.activate) {
      root.audiosource.play(root.audiosource.currentSource);
    }
    const children = root._children;
    for (let i = 0, len = children.length; i < len; i++) {
      if (children[i] instanceof Entity) {
        this.onInitialize(children[i]);
      }
    }
    this.initialized = true;
  }
  onUpdate(dt) {
    const components = this.store;
    for (const id in components) {
      if (components.hasOwnProperty(id)) {
        const component = components[id];
        const entity = component.entity;
        const componentData = component.data;

        // Update channel position if this is a 3d sound
        if (componentData.enabled && entity.enabled && componentData.channel instanceof Channel3d) {
          const pos = entity.getPosition();
          componentData.channel.setPosition(pos);
        }
      }
    }
  }
  onRemove(entity, data) {
    if (data.channel) {
      data.channel.stop();
      data.channel = null;
    }
  }

  /**
   * Set the volume for the entire AudioSource system. All sources will have their volume
   * multiplied by this value.
   *
   * @param {number} volume - The value to set the volume to. Valid from 0 to 1.
   */
  setVolume(volume) {
    this.manager.setVolume(volume);
  }
  destroy() {
    super.destroy();
    this.app.systems.off('initialize', this.onInitialize, this);
    this.app.systems.off('update', this.onUpdate, this);
  }
}
Component._buildAccessors(AudioSourceComponent.prototype, _schema);

export { AudioSourceComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvYXVkaW8tc291cmNlL3N5c3RlbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFubmVsM2QgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9hdWRpby9jaGFubmVsM2QuanMnO1xuaW1wb3J0IHsgRGVidWcgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2RlYnVnLmpzJztcblxuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi4vLi4vZW50aXR5LmpzJztcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50LmpzJztcbmltcG9ydCB7IENvbXBvbmVudFN5c3RlbSB9IGZyb20gJy4uL3N5c3RlbS5qcyc7XG5cbmltcG9ydCB7IEF1ZGlvU291cmNlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgQXVkaW9Tb3VyY2VDb21wb25lbnREYXRhIH0gZnJvbSAnLi9kYXRhLmpzJztcblxuY29uc3QgX3NjaGVtYSA9IFtcbiAgICAnZW5hYmxlZCcsXG4gICAgJ2Fzc2V0cycsXG4gICAgJ3ZvbHVtZScsXG4gICAgJ3BpdGNoJyxcbiAgICAnbG9vcCcsXG4gICAgJ2FjdGl2YXRlJyxcbiAgICAnM2QnLFxuICAgICdtaW5EaXN0YW5jZScsXG4gICAgJ21heERpc3RhbmNlJyxcbiAgICAncm9sbE9mZkZhY3RvcicsXG4gICAgJ2Rpc3RhbmNlTW9kZWwnLFxuICAgICdzb3VyY2VzJyxcbiAgICAnY3VycmVudFNvdXJjZScsXG4gICAgJ2NoYW5uZWwnXG5dO1xuXG4vKipcbiAqIENvbnRyb2xzIHBsYXliYWNrIG9mIGFuIGF1ZGlvIHNhbXBsZS4gVGhpcyBjbGFzcyB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2ZcbiAqIHtAbGluayBTb3VuZENvbXBvbmVudFN5c3RlbX0uXG4gKlxuICogQGF1Z21lbnRzIENvbXBvbmVudFN5c3RlbVxuICogQGlnbm9yZVxuICovXG5jbGFzcyBBdWRpb1NvdXJjZUNvbXBvbmVudFN5c3RlbSBleHRlbmRzIENvbXBvbmVudFN5c3RlbSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEF1ZGlvU291cmNlQ29tcG9uZW50U3lzdGVtIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL2FwcC1iYXNlLmpzJykuQXBwQmFzZX0gYXBwIC0gVGhlIGFwcGxpY2F0aW9uIG1hbmFnaW5nIHRoaXMgc3lzdGVtLlxuICAgICAqIEBoaWRlY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcblxuICAgICAgICB0aGlzLmlkID0gJ2F1ZGlvc291cmNlJztcblxuICAgICAgICB0aGlzLkNvbXBvbmVudFR5cGUgPSBBdWRpb1NvdXJjZUNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5EYXRhVHlwZSA9IEF1ZGlvU291cmNlQ29tcG9uZW50RGF0YTtcblxuICAgICAgICB0aGlzLnNjaGVtYSA9IF9zY2hlbWE7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VyID0gYXBwLnNvdW5kTWFuYWdlcjtcbiAgICAgICAgRGVidWcuYXNzZXJ0KHRoaXMubWFuYWdlciwgXCJBdWRpb1NvdXJjZUNvbXBvbmVudFN5c3RlbSBjYW5ub3QgYmUgY3JlYXRlZCB3aXRvdXQgc291bmQgbWFuYWdlclwiKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5hcHAuc3lzdGVtcy5vbignaW5pdGlhbGl6ZScsIHRoaXMub25Jbml0aWFsaXplLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hcHAuc3lzdGVtcy5vbigndXBkYXRlJywgdGhpcy5vblVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5vbigncmVtb3ZlJywgdGhpcy5vblJlbW92ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEoY29tcG9uZW50LCBkYXRhLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHByb3BlcnRpZXMgPSBbJ2FjdGl2YXRlJywgJ3ZvbHVtZScsICdwaXRjaCcsICdsb29wJywgJzNkJywgJ21pbkRpc3RhbmNlJywgJ21heERpc3RhbmNlJywgJ3JvbGxPZmZGYWN0b3InLCAnZGlzdGFuY2VNb2RlbCcsICdlbmFibGVkJywgJ2Fzc2V0cyddO1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ29tcG9uZW50RGF0YShjb21wb25lbnQsIGRhdGEsIHByb3BlcnRpZXMpO1xuXG4gICAgICAgIGNvbXBvbmVudC5wYXVzZWQgPSAhKGNvbXBvbmVudC5lbmFibGVkICYmIGNvbXBvbmVudC5hY3RpdmF0ZSk7XG4gICAgfVxuXG4gICAgb25Jbml0aWFsaXplKHJvb3QpIHtcbiAgICAgICAgaWYgKHJvb3QuYXVkaW9zb3VyY2UgJiZcbiAgICAgICAgICAgIHJvb3QuZW5hYmxlZCAmJlxuICAgICAgICAgICAgcm9vdC5hdWRpb3NvdXJjZS5lbmFibGVkICYmXG4gICAgICAgICAgICByb290LmF1ZGlvc291cmNlLmFjdGl2YXRlKSB7XG5cbiAgICAgICAgICAgIHJvb3QuYXVkaW9zb3VyY2UucGxheShyb290LmF1ZGlvc291cmNlLmN1cnJlbnRTb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSByb290Ll9jaGlsZHJlbjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSW5pdGlhbGl6ZShjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBvblVwZGF0ZShkdCkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdGhpcy5zdG9yZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIGNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRzLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNbaWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGNvbXBvbmVudC5lbnRpdHk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50RGF0YSA9IGNvbXBvbmVudC5kYXRhO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNoYW5uZWwgcG9zaXRpb24gaWYgdGhpcyBpcyBhIDNkIHNvdW5kXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudERhdGEuZW5hYmxlZCAmJiBlbnRpdHkuZW5hYmxlZCAmJiBjb21wb25lbnREYXRhLmNoYW5uZWwgaW5zdGFuY2VvZiBDaGFubmVsM2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zID0gZW50aXR5LmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudERhdGEuY2hhbm5lbC5zZXRQb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVtb3ZlKGVudGl0eSwgZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5jaGFubmVsKSB7XG4gICAgICAgICAgICBkYXRhLmNoYW5uZWwuc3RvcCgpO1xuICAgICAgICAgICAgZGF0YS5jaGFubmVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdm9sdW1lIGZvciB0aGUgZW50aXJlIEF1ZGlvU291cmNlIHN5c3RlbS4gQWxsIHNvdXJjZXMgd2lsbCBoYXZlIHRoZWlyIHZvbHVtZVxuICAgICAqIG11bHRpcGxpZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2b2x1bWUgLSBUaGUgdmFsdWUgdG8gc2V0IHRoZSB2b2x1bWUgdG8uIFZhbGlkIGZyb20gMCB0byAxLlxuICAgICAqL1xuICAgIHNldFZvbHVtZSh2b2x1bWUpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNldFZvbHVtZSh2b2x1bWUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLmFwcC5zeXN0ZW1zLm9mZignaW5pdGlhbGl6ZScsIHRoaXMub25Jbml0aWFsaXplLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hcHAuc3lzdGVtcy5vZmYoJ3VwZGF0ZScsIHRoaXMub25VcGRhdGUsIHRoaXMpO1xuICAgIH1cbn1cblxuQ29tcG9uZW50Ll9idWlsZEFjY2Vzc29ycyhBdWRpb1NvdXJjZUNvbXBvbmVudC5wcm90b3R5cGUsIF9zY2hlbWEpO1xuXG5leHBvcnQgeyBBdWRpb1NvdXJjZUNvbXBvbmVudFN5c3RlbSB9O1xuIl0sIm5hbWVzIjpbIl9zY2hlbWEiLCJBdWRpb1NvdXJjZUNvbXBvbmVudFN5c3RlbSIsIkNvbXBvbmVudFN5c3RlbSIsImNvbnN0cnVjdG9yIiwiYXBwIiwiaWQiLCJDb21wb25lbnRUeXBlIiwiQXVkaW9Tb3VyY2VDb21wb25lbnQiLCJEYXRhVHlwZSIsIkF1ZGlvU291cmNlQ29tcG9uZW50RGF0YSIsInNjaGVtYSIsIm1hbmFnZXIiLCJzb3VuZE1hbmFnZXIiLCJEZWJ1ZyIsImFzc2VydCIsImluaXRpYWxpemVkIiwic3lzdGVtcyIsIm9uIiwib25Jbml0aWFsaXplIiwib25VcGRhdGUiLCJvblJlbW92ZSIsImluaXRpYWxpemVDb21wb25lbnREYXRhIiwiY29tcG9uZW50IiwiZGF0YSIsInByb3BlcnRpZXMiLCJwYXVzZWQiLCJlbmFibGVkIiwiYWN0aXZhdGUiLCJyb290IiwiYXVkaW9zb3VyY2UiLCJwbGF5IiwiY3VycmVudFNvdXJjZSIsImNoaWxkcmVuIiwiX2NoaWxkcmVuIiwiaSIsImxlbiIsImxlbmd0aCIsIkVudGl0eSIsImR0IiwiY29tcG9uZW50cyIsInN0b3JlIiwiaGFzT3duUHJvcGVydHkiLCJlbnRpdHkiLCJjb21wb25lbnREYXRhIiwiY2hhbm5lbCIsIkNoYW5uZWwzZCIsInBvcyIsImdldFBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJzdG9wIiwic2V0Vm9sdW1lIiwidm9sdW1lIiwiZGVzdHJveSIsIm9mZiIsIkNvbXBvbmVudCIsIl9idWlsZEFjY2Vzc29ycyIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVdBLE1BQU1BLE9BQU8sR0FBRyxDQUNaLFNBQVMsRUFDVCxRQUFRLEVBQ1IsUUFBUSxFQUNSLE9BQU8sRUFDUCxNQUFNLEVBQ04sVUFBVSxFQUNWLElBQUksRUFDSixhQUFhLEVBQ2IsYUFBYSxFQUNiLGVBQWUsRUFDZixlQUFlLEVBQ2YsU0FBUyxFQUNULGVBQWUsRUFDZixTQUFTLENBQ1osQ0FBQTs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1DLDBCQUEwQixTQUFTQyxlQUFlLENBQUM7QUFDckQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lDLFdBQVcsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2IsS0FBSyxDQUFDQSxHQUFHLENBQUMsQ0FBQTtJQUVWLElBQUksQ0FBQ0MsRUFBRSxHQUFHLGFBQWEsQ0FBQTtJQUV2QixJQUFJLENBQUNDLGFBQWEsR0FBR0Msb0JBQW9CLENBQUE7SUFDekMsSUFBSSxDQUFDQyxRQUFRLEdBQUdDLHdCQUF3QixDQUFBO0lBRXhDLElBQUksQ0FBQ0MsTUFBTSxHQUFHVixPQUFPLENBQUE7QUFFckIsSUFBQSxJQUFJLENBQUNXLE9BQU8sR0FBR1AsR0FBRyxDQUFDUSxZQUFZLENBQUE7SUFDL0JDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ0gs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
