/**
 * @license
 * PlayCanvas Engine v1.58.0-dev revision e102f2b2a (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { http } from '../net/http.js';
import { Template } from '../templates/template.js';

class TemplateHandler {
  constructor(app) {
    this.handlerType = "template";
    this._app = app;
    this.maxRetries = 0;
  }

  load(url, callback) {
    if (typeof url === 'string') {
      url = {
        load: url,
        original: url
      };
    }

    const options = {
      retry: this.maxRetries > 0,
      maxRetries: this.maxRetries
    };
    http.get(url.load, options, function (err, response) {
      if (err) {
        callback('Error requesting template: ' + url.original);
      } else {
        callback(err, response);
      }
    });
  }

  open(url, data) {
    return new Template(this._app, data);
  }

}

export { TemplateHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZXNvdXJjZXMvdGVtcGxhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaHR0cCB9IGZyb20gJy4uL25ldC9odHRwLmpzJztcblxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICcuLi90ZW1wbGF0ZXMvdGVtcGxhdGUuanMnO1xuXG5jbGFzcyBUZW1wbGF0ZUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdGhlIHJlc291cmNlIHRoZSBoYW5kbGVyIGhhbmRsZXMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGhhbmRsZXJUeXBlID0gXCJ0ZW1wbGF0ZVwiO1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuX2FwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBsb2FkKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB1cmwgPSB7XG4gICAgICAgICAgICAgICAgbG9hZDogdXJsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiB1cmxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHNwZWNpZnkgSlNPTiBmb3IgYmxvYiBVUkxzXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXRyeTogdGhpcy5tYXhSZXRyaWVzID4gMCxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IHRoaXMubWF4UmV0cmllc1xuICAgICAgICB9O1xuXG4gICAgICAgIGh0dHAuZ2V0KHVybC5sb2FkLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCdFcnJvciByZXF1ZXN0aW5nIHRlbXBsYXRlOiAnICsgdXJsLm9yaWdpbmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9wZW4odXJsLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGUodGhpcy5fYXBwLCBkYXRhKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFRlbXBsYXRlSGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbIlRlbXBsYXRlSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwiaGFuZGxlclR5cGUiLCJfYXBwIiwibWF4UmV0cmllcyIsImxvYWQiLCJ1cmwiLCJjYWxsYmFjayIsIm9yaWdpbmFsIiwib3B0aW9ucyIsInJldHJ5IiwiaHR0cCIsImdldCIsImVyciIsInJlc3BvbnNlIiwib3BlbiIsImRhdGEiLCJUZW1wbGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFJQSxNQUFNQSxlQUFOLENBQXNCO0VBUWxCQyxXQUFXLENBQUNDLEdBQUQsRUFBTTtJQUFBLElBRmpCQyxDQUFBQSxXQUVpQixHQUZILFVBRUcsQ0FBQTtJQUNiLElBQUtDLENBQUFBLElBQUwsR0FBWUYsR0FBWixDQUFBO0lBQ0EsSUFBS0csQ0FBQUEsVUFBTCxHQUFrQixDQUFsQixDQUFBO0FBQ0gsR0FBQTs7QUFFREMsRUFBQUEsSUFBSSxDQUFDQyxHQUFELEVBQU1DLFFBQU4sRUFBZ0I7QUFDaEIsSUFBQSxJQUFJLE9BQU9ELEdBQVAsS0FBZSxRQUFuQixFQUE2QjtBQUN6QkEsTUFBQUEsR0FBRyxHQUFHO0FBQ0ZELFFBQUFBLElBQUksRUFBRUMsR0FESjtBQUVGRSxRQUFBQSxRQUFRLEVBQUVGLEdBQUFBO09BRmQsQ0FBQTtBQUlILEtBQUE7O0FBR0QsSUFBQSxNQUFNRyxPQUFPLEdBQUc7QUFDWkMsTUFBQUEsS0FBSyxFQUFFLElBQUEsQ0FBS04sVUFBTCxHQUFrQixDQURiO0FBRVpBLE1BQUFBLFVBQVUsRUFBRSxJQUFLQSxDQUFBQSxVQUFBQTtLQUZyQixDQUFBO0FBS0FPLElBQUFBLElBQUksQ0FBQ0MsR0FBTCxDQUFTTixHQUFHLENBQUNELElBQWIsRUFBbUJJLE9BQW5CLEVBQTRCLFVBQVVJLEdBQVYsRUFBZUMsUUFBZixFQUF5QjtBQUNqRCxNQUFBLElBQUlELEdBQUosRUFBUztBQUNMTixRQUFBQSxRQUFRLENBQUMsNkJBQUEsR0FBZ0NELEdBQUcsQ0FBQ0UsUUFBckMsQ0FBUixDQUFBO0FBQ0gsT0FGRCxNQUVPO0FBQ0hELFFBQUFBLFFBQVEsQ0FBQ00sR0FBRCxFQUFNQyxRQUFOLENBQVIsQ0FBQTtBQUNILE9BQUE7S0FMTCxDQUFBLENBQUE7QUFPSCxHQUFBOztBQUVEQyxFQUFBQSxJQUFJLENBQUNULEdBQUQsRUFBTVUsSUFBTixFQUFZO0FBQ1osSUFBQSxPQUFPLElBQUlDLFFBQUosQ0FBYSxLQUFLZCxJQUFsQixFQUF3QmEsSUFBeEIsQ0FBUCxDQUFBO0FBQ0gsR0FBQTs7QUF0Q2lCOzs7OyJ9
