/**
 * @license
 * PlayCanvas Engine v1.57.0-dev revision 5c6738c12 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { GlbContainerResource } from './glb-container-resource.js';
import { GlbParser } from './glb-parser.js';

class GlbModelParser {
  constructor(device, defaultMaterial) {
    this._device = device;
    this._defaultMaterial = defaultMaterial;
  }

  parse(data) {
    const glbResources = GlbParser.parse('filename.glb', data, this._device);

    if (glbResources) {
      const model = GlbContainerResource.createModel(glbResources, this._defaultMaterial);
      glbResources.destroy();
      return model;
    }

    return null;
  }

}

export { GlbModelParser };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xiLW1vZGVsLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvcmVzb3VyY2VzL3BhcnNlci9nbGIvZ2xiLW1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdsYkNvbnRhaW5lclJlc291cmNlIH0gZnJvbSAnLi9nbGItY29udGFpbmVyLXJlc291cmNlLmpzJztcbmltcG9ydCB7IEdsYlBhcnNlciB9IGZyb20gJy4vZ2xiLXBhcnNlci5qcyc7XG5cbmNsYXNzIEdsYk1vZGVsUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGRlZmF1bHRNYXRlcmlhbCkge1xuICAgICAgICB0aGlzLl9kZXZpY2UgPSBkZXZpY2U7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRNYXRlcmlhbCA9IGRlZmF1bHRNYXRlcmlhbDtcbiAgICB9XG5cbiAgICBwYXJzZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGdsYlJlc291cmNlcyA9IEdsYlBhcnNlci5wYXJzZSgnZmlsZW5hbWUuZ2xiJywgZGF0YSwgdGhpcy5fZGV2aWNlKTtcbiAgICAgICAgaWYgKGdsYlJlc291cmNlcykge1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSBHbGJDb250YWluZXJSZXNvdXJjZS5jcmVhdGVNb2RlbChnbGJSZXNvdXJjZXMsIHRoaXMuX2RlZmF1bHRNYXRlcmlhbCk7XG4gICAgICAgICAgICBnbGJSZXNvdXJjZXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgR2xiTW9kZWxQYXJzZXIgfTtcbiJdLCJuYW1lcyI6WyJHbGJNb2RlbFBhcnNlciIsImNvbnN0cnVjdG9yIiwiZGV2aWNlIiwiZGVmYXVsdE1hdGVyaWFsIiwiX2RldmljZSIsIl9kZWZhdWx0TWF0ZXJpYWwiLCJwYXJzZSIsImRhdGEiLCJnbGJSZXNvdXJjZXMiLCJHbGJQYXJzZXIiLCJtb2RlbCIsIkdsYkNvbnRhaW5lclJlc291cmNlIiwiY3JlYXRlTW9kZWwiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBLE1BQU1BLGNBQU4sQ0FBcUI7QUFDakJDLEVBQUFBLFdBQVcsQ0FBQ0MsTUFBRCxFQUFTQyxlQUFULEVBQTBCO0lBQ2pDLElBQUtDLENBQUFBLE9BQUwsR0FBZUYsTUFBZixDQUFBO0lBQ0EsSUFBS0csQ0FBQUEsZ0JBQUwsR0FBd0JGLGVBQXhCLENBQUE7QUFDSCxHQUFBOztFQUVERyxLQUFLLENBQUNDLElBQUQsRUFBTztBQUNSLElBQUEsTUFBTUMsWUFBWSxHQUFHQyxTQUFTLENBQUNILEtBQVYsQ0FBZ0IsY0FBaEIsRUFBZ0NDLElBQWhDLEVBQXNDLElBQUtILENBQUFBLE9BQTNDLENBQXJCLENBQUE7O0FBQ0EsSUFBQSxJQUFJSSxZQUFKLEVBQWtCO01BQ2QsTUFBTUUsS0FBSyxHQUFHQyxvQkFBb0IsQ0FBQ0MsV0FBckIsQ0FBaUNKLFlBQWpDLEVBQStDLElBQUtILENBQUFBLGdCQUFwRCxDQUFkLENBQUE7QUFDQUcsTUFBQUEsWUFBWSxDQUFDSyxPQUFiLEVBQUEsQ0FBQTtBQUNBLE1BQUEsT0FBT0gsS0FBUCxDQUFBO0FBQ0gsS0FBQTs7QUFDRCxJQUFBLE9BQU8sSUFBUCxDQUFBO0FBQ0gsR0FBQTs7QUFkZ0I7Ozs7In0=
