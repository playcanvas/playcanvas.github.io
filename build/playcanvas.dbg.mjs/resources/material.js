/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { http } from '../net/http.js';
import { PIXELFORMAT_R8_G8_B8_A8 } from '../graphics/constants.js';
import { Texture } from '../graphics/texture.js';
import { SPECULAR_PHONG } from '../scene/constants.js';
import { standardMaterialTextureParameters, standardMaterialCubemapParameters } from '../scene/materials/standard-material-parameters.js';
import { AssetReference } from '../asset/asset-reference.js';
import { JsonStandardMaterialParser } from './parser/material/json-standard-material.js';

const PLACEHOLDER_MAP = {
  aoMap: 'white',
  diffuseMap: 'gray',
  specularMap: 'gray',
  specularityFactorMap: 'white',
  metalnessMap: 'black',
  glossMap: 'gray',
  sheenMap: 'black',
  sheenGlossinessMap: 'gray',
  clearCoatMap: 'black',
  clearCoatGlossMap: 'gray',
  clearCoatNormalMap: 'normal',
  refractionMap: 'white',
  emissiveMap: 'gray',
  normalMap: 'normal',
  heightMap: 'gray',
  opacityMap: 'gray',
  sphereMap: 'gray',
  lightMap: 'white'
};

class MaterialHandler {
  constructor(app) {
    this.handlerType = "material";
    this._assets = app.assets;
    this._device = app.graphicsDevice;
    this._placeholderTextures = null;
    this._parser = new JsonStandardMaterialParser();
    this.maxRetries = 0;
  }

  load(url, callback) {
    if (typeof url === 'string') {
      url = {
        load: url,
        original: url
      };
    }

    http.get(url.load, {
      retry: this.maxRetries > 0,
      maxRetries: this.maxRetries
    }, function (err, response) {
      if (!err) {
        if (callback) {
          response._engine = true;
          callback(null, response);
        }
      } else {
        if (callback) {
          callback(`Error loading material: ${url.original} [${err}]`);
        }
      }
    });
  }

  open(url, data) {
    const material = this._parser.parse(data);

    if (data._engine) {
      material._data = data;
      delete data._engine;
    }

    return material;
  }

  _createPlaceholders() {
    this._placeholderTextures = {};
    const textures = {
      white: [255, 255, 255, 255],
      gray: [128, 128, 128, 255],
      black: [0, 0, 0, 255],
      normal: [128, 128, 255, 255]
    };

    for (const key in textures) {
      if (!textures.hasOwnProperty(key)) continue;
      this._placeholderTextures[key] = new Texture(this._device, {
        width: 2,
        height: 2,
        format: PIXELFORMAT_R8_G8_B8_A8,
        name: 'material_placeholder'
      });

      const pixels = this._placeholderTextures[key].lock();

      for (let i = 0; i < 4; i++) {
        for (let c = 0; c < 4; c++) {
          pixels[i * 4 + c] = textures[key][c];
        }
      }

      this._placeholderTextures[key].unlock();
    }
  }

  patch(asset, assets) {
    if (asset.resource._data) {
      asset._data = asset.resource._data;
      delete asset.resource._data;
    }

    asset.data.name = asset.name;
    asset.resource.name = asset.name;

    this._bindAndAssignAssets(asset, assets);

    asset.off('unload', this._onAssetUnload, this);
    asset.on('unload', this._onAssetUnload, this);
  }

  _onAssetUnload(asset) {
    delete asset.data.parameters;
    delete asset.data.chunks;
    delete asset.data.name;
  }

  _assignTexture(parameterName, materialAsset, texture) {
    materialAsset.resource[parameterName] = texture;
  }

  _getPlaceholderTexture(parameterName) {
    if (!this._placeholderTextures) {
      this._createPlaceholders();
    }

    const placeholder = PLACEHOLDER_MAP[parameterName];
    const texture = this._placeholderTextures[placeholder];
    return texture;
  }

  _assignPlaceholderTexture(parameterName, materialAsset) {
    materialAsset.resource[parameterName] = this._getPlaceholderTexture(parameterName);
  }

  _onTextureLoad(parameterName, materialAsset, textureAsset) {
    this._assignTexture(parameterName, materialAsset, textureAsset.resource);

    materialAsset.resource.update();
  }

  _onTextureAdd(parameterName, materialAsset, textureAsset) {
    this._assets.load(textureAsset);
  }

  _onTextureRemoveOrUnload(parameterName, materialAsset, textureAsset) {
    const material = materialAsset.resource;

    if (material) {
      if (materialAsset.resource[parameterName] === textureAsset.resource) {
        this._assignPlaceholderTexture(parameterName, materialAsset);

        material.update();
      }
    }
  }

  _assignCubemap(parameterName, materialAsset, textures) {
    materialAsset.resource[parameterName] = textures[0];

    if (parameterName === 'cubeMap') {
      materialAsset.resource.prefilteredCubemaps = textures.slice(1);
    }
  }

  _onCubemapLoad(parameterName, materialAsset, cubemapAsset) {
    this._assignCubemap(parameterName, materialAsset, cubemapAsset.resources);

    this._parser.initialize(materialAsset.resource, materialAsset.data);
  }

  _onCubemapAdd(parameterName, materialAsset, cubemapAsset) {
    if (materialAsset.data.shadingModel === SPECULAR_PHONG) {
      materialAsset.loadFaces = true;
    }

    this._assets.load(cubemapAsset);
  }

  _onCubemapRemoveOrUnload(parameterName, materialAsset, cubemapAsset) {
    const material = materialAsset.resource;

    if (materialAsset.data.prefilteredCubeMap128 === cubemapAsset.resources[1]) {
      this._assignCubemap(parameterName, materialAsset, [null, null, null, null, null, null, null]);

      material.update();
    }
  }

  _bindAndAssignAssets(materialAsset, assets) {
    const data = this._parser.migrate(materialAsset.data);

    const material = materialAsset.resource;
    const pathMapping = data.mappingFormat === 'path';
    const TEXTURES = standardMaterialTextureParameters;
    let i, name, assetReference;

    for (i = 0; i < TEXTURES.length; i++) {
      name = TEXTURES[i];
      assetReference = material._assetReferences[name];
      const dataAssetId = data[name];
      const materialTexture = material[name];

      const isPlaceHolderTexture = materialTexture === this._getPlaceholderTexture(name);

      const dataValidated = data.validated;

      if (dataAssetId && (!materialTexture || !dataValidated || isPlaceHolderTexture)) {
        if (!assetReference) {
          assetReference = new AssetReference(name, materialAsset, assets, {
            load: this._onTextureLoad,
            add: this._onTextureAdd,
            remove: this._onTextureRemoveOrUnload,
            unload: this._onTextureRemoveOrUnload
          }, this);
          material._assetReferences[name] = assetReference;
        }

        if (pathMapping) {
          assetReference.url = materialAsset.getAbsoluteUrl(dataAssetId);
        } else {
          assetReference.id = dataAssetId;
        }

        if (assetReference.asset) {
          if (assetReference.asset.resource) {
            this._assignTexture(name, materialAsset, assetReference.asset.resource);
          } else {
            this._assignPlaceholderTexture(name, materialAsset);
          }

          assets.load(assetReference.asset);
        }
      } else {
        if (assetReference) {
          if (pathMapping) {
            assetReference.url = null;
          } else {
            assetReference.id = null;
          }
        }
      }
    }

    const CUBEMAPS = standardMaterialCubemapParameters;

    for (i = 0; i < CUBEMAPS.length; i++) {
      name = CUBEMAPS[i];
      assetReference = material._assetReferences[name];

      if (data[name] && !materialAsset.data.prefilteredCubeMap128) {
        if (!assetReference) {
          assetReference = new AssetReference(name, materialAsset, assets, {
            load: this._onCubemapLoad,
            add: this._onCubemapAdd,
            remove: this._onCubemapRemoveOrUnload,
            unload: this._onCubemapRemoveOrUnload
          }, this);
          material._assetReferences[name] = assetReference;
        }

        if (pathMapping) {
          assetReference.url = data[name];
        } else {
          assetReference.id = data[name];
        }

        if (assetReference.asset) {
          if (assetReference.asset.loaded) {
            this._assignCubemap(name, materialAsset, assetReference.asset.resources);
          }

          assets.load(assetReference.asset);
        }
      }
    }

    this._parser.initialize(material, data);
  }

}

export { MaterialHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0ZXJpYWwuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZXNvdXJjZXMvbWF0ZXJpYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaHR0cCB9IGZyb20gJy4uL25ldC9odHRwLmpzJztcblxuaW1wb3J0IHsgUElYRUxGT1JNQVRfUjhfRzhfQjhfQTggfSBmcm9tICcuLi9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL2dyYXBoaWNzL3RleHR1cmUuanMnO1xuXG5pbXBvcnQgeyBTUEVDVUxBUl9QSE9ORyB9IGZyb20gJy4uL3NjZW5lL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBzdGFuZGFyZE1hdGVyaWFsQ3ViZW1hcFBhcmFtZXRlcnMsIHN0YW5kYXJkTWF0ZXJpYWxUZXh0dXJlUGFyYW1ldGVycyB9IGZyb20gJy4uL3NjZW5lL21hdGVyaWFscy9zdGFuZGFyZC1tYXRlcmlhbC1wYXJhbWV0ZXJzLmpzJztcblxuaW1wb3J0IHsgQXNzZXRSZWZlcmVuY2UgfSBmcm9tICcuLi9hc3NldC9hc3NldC1yZWZlcmVuY2UuanMnO1xuXG5pbXBvcnQgeyBKc29uU3RhbmRhcmRNYXRlcmlhbFBhcnNlciB9IGZyb20gJy4vcGFyc2VyL21hdGVyaWFsL2pzb24tc3RhbmRhcmQtbWF0ZXJpYWwuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vZnJhbWV3b3JrL2FwcC1iYXNlLmpzJykuQXBwQmFzZX0gQXBwQmFzZSAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vaGFuZGxlci5qcycpLlJlc291cmNlSGFuZGxlcn0gUmVzb3VyY2VIYW5kbGVyICovXG5cbmNvbnN0IFBMQUNFSE9MREVSX01BUCA9IHtcbiAgICBhb01hcDogJ3doaXRlJyxcbiAgICBkaWZmdXNlTWFwOiAnZ3JheScsXG4gICAgc3BlY3VsYXJNYXA6ICdncmF5JyxcbiAgICBzcGVjdWxhcml0eUZhY3Rvck1hcDogJ3doaXRlJyxcbiAgICBtZXRhbG5lc3NNYXA6ICdibGFjaycsXG4gICAgZ2xvc3NNYXA6ICdncmF5JyxcbiAgICBzaGVlbk1hcDogJ2JsYWNrJyxcbiAgICBzaGVlbkdsb3NzaW5lc3NNYXA6ICdncmF5JyxcbiAgICBjbGVhckNvYXRNYXA6ICdibGFjaycsXG4gICAgY2xlYXJDb2F0R2xvc3NNYXA6ICdncmF5JyxcbiAgICBjbGVhckNvYXROb3JtYWxNYXA6ICdub3JtYWwnLFxuICAgIHJlZnJhY3Rpb25NYXA6ICd3aGl0ZScsXG4gICAgZW1pc3NpdmVNYXA6ICdncmF5JyxcbiAgICBub3JtYWxNYXA6ICdub3JtYWwnLFxuICAgIGhlaWdodE1hcDogJ2dyYXknLFxuICAgIG9wYWNpdHlNYXA6ICdncmF5JyxcbiAgICBzcGhlcmVNYXA6ICdncmF5JyxcbiAgICBsaWdodE1hcDogJ3doaXRlJ1xufTtcblxuLyoqXG4gKiBSZXNvdXJjZSBoYW5kbGVyIHVzZWQgZm9yIGxvYWRpbmcge0BsaW5rIE1hdGVyaWFsfSByZXNvdXJjZXMuXG4gKlxuICogQGltcGxlbWVudHMge1Jlc291cmNlSGFuZGxlcn1cbiAqL1xuY2xhc3MgTWF0ZXJpYWxIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHRoZSByZXNvdXJjZSB0aGUgaGFuZGxlciBoYW5kbGVzLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBoYW5kbGVyVHlwZSA9IFwibWF0ZXJpYWxcIjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNYXRlcmlhbEhhbmRsZXIgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FwcEJhc2V9IGFwcCAtIFRoZSBydW5uaW5nIHtAbGluayBBcHBCYXNlfS5cbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuX2Fzc2V0cyA9IGFwcC5hc3NldHM7XG4gICAgICAgIHRoaXMuX2RldmljZSA9IGFwcC5ncmFwaGljc0RldmljZTtcblxuICAgICAgICB0aGlzLl9wbGFjZWhvbGRlclRleHR1cmVzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9wYXJzZXIgPSBuZXcgSnNvblN0YW5kYXJkTWF0ZXJpYWxQYXJzZXIoKTtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBsb2FkKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB1cmwgPSB7XG4gICAgICAgICAgICAgICAgbG9hZDogdXJsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiB1cmxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb2FkaW5nIGZyb20gVVJMIChlbmdpbmUtb25seSlcbiAgICAgICAgaHR0cC5nZXQodXJsLmxvYWQsIHtcbiAgICAgICAgICAgIHJldHJ5OiB0aGlzLm1heFJldHJpZXMgPiAwLFxuICAgICAgICAgICAgbWF4UmV0cmllczogdGhpcy5tYXhSZXRyaWVzXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5fZW5naW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGBFcnJvciBsb2FkaW5nIG1hdGVyaWFsOiAke3VybC5vcmlnaW5hbH0gWyR7ZXJyfV1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9wZW4odXJsLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpcy5fcGFyc2VyLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgIC8vIHRlbXAgc3RvcmFnZSBmb3IgZW5naW5lLW9ubHkgYXMgd2UgbmVlZCB0aGlzIGR1cmluZyBwYXRjaGluZ1xuICAgICAgICBpZiAoZGF0YS5fZW5naW5lKSB7XG4gICAgICAgICAgICBtYXRlcmlhbC5fZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS5fZW5naW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZXMgcGxhY2Vob2xkZXJzIGZvciB0ZXh0dXJlc1xuICAgIC8vIHRoYXQgYXJlIHVzZWQgd2hpbGUgdGV4dHVyZSBpcyBsb2FkaW5nXG4gICAgX2NyZWF0ZVBsYWNlaG9sZGVycygpIHtcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXJUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0ge1xuICAgICAgICAgICAgd2hpdGU6IFsyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgZ3JheTogWzEyOCwgMTI4LCAxMjgsIDI1NV0sXG4gICAgICAgICAgICBibGFjazogWzAsIDAsIDAsIDI1NV0sXG4gICAgICAgICAgICBub3JtYWw6IFsxMjgsIDEyOCwgMjU1LCAyNTVdXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGlmICghdGV4dHVyZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHRleHR1cmVcbiAgICAgICAgICAgIHRoaXMuX3BsYWNlaG9sZGVyVGV4dHVyZXNba2V5XSA9IG5ldyBUZXh0dXJlKHRoaXMuX2RldmljZSwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFBJWEVMRk9STUFUX1I4X0c4X0I4X0E4LFxuICAgICAgICAgICAgICAgIG5hbWU6ICdtYXRlcmlhbF9wbGFjZWhvbGRlcidcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBmaWxsIHBpeGVscyB3aXRoIGNvbG9yXG4gICAgICAgICAgICBjb25zdCBwaXhlbHMgPSB0aGlzLl9wbGFjZWhvbGRlclRleHR1cmVzW2tleV0ubG9jaygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDQ7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBwaXhlbHNbaSAqIDQgKyBjXSA9IHRleHR1cmVzW2tleV1bY107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXJUZXh0dXJlc1trZXldLnVubG9jaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF0Y2goYXNzZXQsIGFzc2V0cykge1xuICAgICAgICAvLyBpbiBhbiBlbmdpbmUtb25seSBlbnZpcm9ubWVudCB3ZSBtYW51YWxseSBjb3B5IHRoZSBzb3VyY2UgZGF0YSBpbnRvIHRoZSBhc3NldFxuICAgICAgICBpZiAoYXNzZXQucmVzb3VyY2UuX2RhdGEpIHtcbiAgICAgICAgICAgIGFzc2V0Ll9kYXRhID0gYXNzZXQucmVzb3VyY2UuX2RhdGE7IC8vIHVzZSBfZGF0YSB0byBhdm9pZCBmaXJpbmcgZXZlbnRzXG4gICAgICAgICAgICBkZWxldGUgYXNzZXQucmVzb3VyY2UuX2RhdGE7IC8vIHJlbW92ZSBmcm9tIHRlbXAgc3RvcmFnZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGF0Y2ggdGhlIG5hbWUgb2YgdGhlIGFzc2V0IG92ZXIgdGhlIG1hdGVyaWFsIG5hbWUgcHJvcGVydHlcbiAgICAgICAgYXNzZXQuZGF0YS5uYW1lID0gYXNzZXQubmFtZTtcbiAgICAgICAgYXNzZXQucmVzb3VyY2UubmFtZSA9IGFzc2V0Lm5hbWU7XG5cbiAgICAgICAgdGhpcy5fYmluZEFuZEFzc2lnbkFzc2V0cyhhc3NldCwgYXNzZXRzKTtcblxuICAgICAgICBhc3NldC5vZmYoJ3VubG9hZCcsIHRoaXMuX29uQXNzZXRVbmxvYWQsIHRoaXMpO1xuICAgICAgICBhc3NldC5vbigndW5sb2FkJywgdGhpcy5fb25Bc3NldFVubG9hZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgX29uQXNzZXRVbmxvYWQoYXNzZXQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBwYXJhbWV0ZXIgYmxvY2sgd2UgY3JlYXRlZCB3aGljaCBpbmNsdWRlcyB0ZXh0dXJlIHJlZmVyZW5jZXNcbiAgICAgICAgZGVsZXRlIGFzc2V0LmRhdGEucGFyYW1ldGVycztcbiAgICAgICAgZGVsZXRlIGFzc2V0LmRhdGEuY2h1bmtzO1xuICAgICAgICBkZWxldGUgYXNzZXQuZGF0YS5uYW1lO1xuICAgIH1cblxuICAgIF9hc3NpZ25UZXh0dXJlKHBhcmFtZXRlck5hbWUsIG1hdGVyaWFsQXNzZXQsIHRleHR1cmUpIHtcbiAgICAgICAgLy8gTkIgcmVtb3ZlZCBzd2FwcGluZyBvdXQgYXNzZXQgaWQgZm9yIHJlc291cmNlIGhlcmVcbiAgICAgICAgbWF0ZXJpYWxBc3NldC5yZXNvdXJjZVtwYXJhbWV0ZXJOYW1lXSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJucyB0aGUgY29ycmVjdCBwbGFjZWhvbGRlciB0ZXh0dXJlIGZvciB0aGUgdGV4dHVyZSBwYXJhbWV0ZXJcbiAgICBfZ2V0UGxhY2Vob2xkZXJUZXh0dXJlKHBhcmFtZXRlck5hbWUpIHtcbiAgICAgICAgLy8gY3JlYXRlIHBsYWNlaG9sZGVyIHRleHR1cmVzIG9uLWRlbWFuZFxuICAgICAgICBpZiAoIXRoaXMuX3BsYWNlaG9sZGVyVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBQTEFDRUhPTERFUl9NQVBbcGFyYW1ldGVyTmFtZV07XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl9wbGFjZWhvbGRlclRleHR1cmVzW3BsYWNlaG9sZGVyXTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gYSBwbGFjZWhvbGRlciB0ZXh0dXJlIHdoaWxlIHdhaXRpbmcgZm9yIG9uZSB0byBsb2FkXG4gICAgX2Fzc2lnblBsYWNlaG9sZGVyVGV4dHVyZShwYXJhbWV0ZXJOYW1lLCBtYXRlcmlhbEFzc2V0KSB7XG5cbiAgICAgICAgbWF0ZXJpYWxBc3NldC5yZXNvdXJjZVtwYXJhbWV0ZXJOYW1lXSA9IHRoaXMuX2dldFBsYWNlaG9sZGVyVGV4dHVyZShwYXJhbWV0ZXJOYW1lKTtcbiAgICB9XG5cbiAgICBfb25UZXh0dXJlTG9hZChwYXJhbWV0ZXJOYW1lLCBtYXRlcmlhbEFzc2V0LCB0ZXh0dXJlQXNzZXQpIHtcbiAgICAgICAgdGhpcy5fYXNzaWduVGV4dHVyZShwYXJhbWV0ZXJOYW1lLCBtYXRlcmlhbEFzc2V0LCB0ZXh0dXJlQXNzZXQucmVzb3VyY2UpO1xuICAgICAgICBtYXRlcmlhbEFzc2V0LnJlc291cmNlLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIF9vblRleHR1cmVBZGQocGFyYW1ldGVyTmFtZSwgbWF0ZXJpYWxBc3NldCwgdGV4dHVyZUFzc2V0KSB7XG4gICAgICAgIHRoaXMuX2Fzc2V0cy5sb2FkKHRleHR1cmVBc3NldCk7XG4gICAgfVxuXG4gICAgX29uVGV4dHVyZVJlbW92ZU9yVW5sb2FkKHBhcmFtZXRlck5hbWUsIG1hdGVyaWFsQXNzZXQsIHRleHR1cmVBc3NldCkge1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG1hdGVyaWFsQXNzZXQucmVzb3VyY2U7XG4gICAgICAgIGlmIChtYXRlcmlhbCkge1xuICAgICAgICAgICAgaWYgKG1hdGVyaWFsQXNzZXQucmVzb3VyY2VbcGFyYW1ldGVyTmFtZV0gPT09IHRleHR1cmVBc3NldC5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fzc2lnblBsYWNlaG9sZGVyVGV4dHVyZShwYXJhbWV0ZXJOYW1lLCBtYXRlcmlhbEFzc2V0KTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hc3NpZ25DdWJlbWFwKHBhcmFtZXRlck5hbWUsIG1hdGVyaWFsQXNzZXQsIHRleHR1cmVzKSB7XG4gICAgICAgIC8vIHRoZSBwcmltYXJ5IGN1YmVtYXAgdGV4dHVyZVxuICAgICAgICBtYXRlcmlhbEFzc2V0LnJlc291cmNlW3BhcmFtZXRlck5hbWVdID0gdGV4dHVyZXNbMF07XG5cbiAgICAgICAgLy8gc2V0IHByZWZpbHRlcmVkIHRleHR1cmVzXG4gICAgICAgIGlmIChwYXJhbWV0ZXJOYW1lID09PSAnY3ViZU1hcCcpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsQXNzZXQucmVzb3VyY2UucHJlZmlsdGVyZWRDdWJlbWFwcyA9IHRleHR1cmVzLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQ3ViZW1hcExvYWQocGFyYW1ldGVyTmFtZSwgbWF0ZXJpYWxBc3NldCwgY3ViZW1hcEFzc2V0KSB7XG4gICAgICAgIHRoaXMuX2Fzc2lnbkN1YmVtYXAocGFyYW1ldGVyTmFtZSwgbWF0ZXJpYWxBc3NldCwgY3ViZW1hcEFzc2V0LnJlc291cmNlcyk7XG4gICAgICAgIHRoaXMuX3BhcnNlci5pbml0aWFsaXplKG1hdGVyaWFsQXNzZXQucmVzb3VyY2UsIG1hdGVyaWFsQXNzZXQuZGF0YSk7XG4gICAgfVxuXG4gICAgX29uQ3ViZW1hcEFkZChwYXJhbWV0ZXJOYW1lLCBtYXRlcmlhbEFzc2V0LCBjdWJlbWFwQXNzZXQpIHtcbiAgICAgICAgLy8gcGhvbmcgYmFzZWQgLSBzbyBlbnN1cmUgd2UgbG9hZCBpbmRpdmlkdWFsIGZhY2VzXG4gICAgICAgIGlmIChtYXRlcmlhbEFzc2V0LmRhdGEuc2hhZGluZ01vZGVsID09PSBTUEVDVUxBUl9QSE9ORykge1xuICAgICAgICAgICAgbWF0ZXJpYWxBc3NldC5sb2FkRmFjZXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXNzZXRzLmxvYWQoY3ViZW1hcEFzc2V0KTtcbiAgICB9XG5cbiAgICBfb25DdWJlbWFwUmVtb3ZlT3JVbmxvYWQocGFyYW1ldGVyTmFtZSwgbWF0ZXJpYWxBc3NldCwgY3ViZW1hcEFzc2V0KSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbWF0ZXJpYWxBc3NldC5yZXNvdXJjZTtcblxuICAgICAgICBpZiAobWF0ZXJpYWxBc3NldC5kYXRhLnByZWZpbHRlcmVkQ3ViZU1hcDEyOCA9PT0gY3ViZW1hcEFzc2V0LnJlc291cmNlc1sxXSkge1xuICAgICAgICAgICAgdGhpcy5fYXNzaWduQ3ViZW1hcChwYXJhbWV0ZXJOYW1lLCBtYXRlcmlhbEFzc2V0LCBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF0pO1xuICAgICAgICAgICAgbWF0ZXJpYWwudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYmluZEFuZEFzc2lnbkFzc2V0cyhtYXRlcmlhbEFzc2V0LCBhc3NldHMpIHtcbiAgICAgICAgLy8gYWx3YXlzIG1pZ3JhdGUgYmVmb3JlIHVwZGF0aW5nIG1hdGVyaWFsIGZyb20gYXNzZXQgZGF0YVxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fcGFyc2VyLm1pZ3JhdGUobWF0ZXJpYWxBc3NldC5kYXRhKTtcblxuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG1hdGVyaWFsQXNzZXQucmVzb3VyY2U7XG5cbiAgICAgICAgY29uc3QgcGF0aE1hcHBpbmcgPSAoZGF0YS5tYXBwaW5nRm9ybWF0ID09PSAncGF0aCcpO1xuXG4gICAgICAgIGNvbnN0IFRFWFRVUkVTID0gc3RhbmRhcmRNYXRlcmlhbFRleHR1cmVQYXJhbWV0ZXJzO1xuXG4gICAgICAgIGxldCBpLCBuYW1lLCBhc3NldFJlZmVyZW5jZTtcbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCB0ZXh0dXJlIHBhcmFtZXRlcnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IFRFWFRVUkVTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuYW1lID0gVEVYVFVSRVNbaV07XG5cbiAgICAgICAgICAgIGFzc2V0UmVmZXJlbmNlID0gbWF0ZXJpYWwuX2Fzc2V0UmVmZXJlbmNlc1tuYW1lXTtcblxuICAgICAgICAgICAgLy8gZGF0YVtuYW1lXSBjb250YWlucyBhbiBhc3NldCBpZCBmb3IgYSB0ZXh0dXJlXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGFzc2V0IGlkIGFuZCBub3RoaW5nIGlzIGFzc2lnbmVkIHRvIHRoZSB0ZXh0dXJlIHJlc291cmNlIG9yIHRoZSBwbGFjZWhvbGRlciB0ZXh0dXJlIGlzIGFzc2lnbmVkXG4gICAgICAgICAgICAvLyBvciB0aGUgZGF0YSBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgY29uc3QgZGF0YUFzc2V0SWQgPSBkYXRhW25hbWVdO1xuXG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbFRleHR1cmUgPSBtYXRlcmlhbFtuYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IGlzUGxhY2VIb2xkZXJUZXh0dXJlID0gbWF0ZXJpYWxUZXh0dXJlID09PSB0aGlzLl9nZXRQbGFjZWhvbGRlclRleHR1cmUobmFtZSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhVmFsaWRhdGVkID0gZGF0YS52YWxpZGF0ZWQ7XG5cbiAgICAgICAgICAgIGlmIChkYXRhQXNzZXRJZCAmJiAoIW1hdGVyaWFsVGV4dHVyZSB8fCAhZGF0YVZhbGlkYXRlZCB8fCBpc1BsYWNlSG9sZGVyVGV4dHVyZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFzc2V0UmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0UmVmZXJlbmNlID0gbmV3IEFzc2V0UmVmZXJlbmNlKG5hbWUsIG1hdGVyaWFsQXNzZXQsIGFzc2V0cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogdGhpcy5fb25UZXh0dXJlTG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZDogdGhpcy5fb25UZXh0dXJlQWRkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiB0aGlzLl9vblRleHR1cmVSZW1vdmVPclVubG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVubG9hZDogdGhpcy5fb25UZXh0dXJlUmVtb3ZlT3JVbmxvYWRcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuX2Fzc2V0UmVmZXJlbmNlc1tuYW1lXSA9IGFzc2V0UmVmZXJlbmNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYXRoTWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0ZXh0dXJlIHBhdGhzIGFyZSBtZWFzdXJlZCBmcm9tIHRoZSBtYXRlcmlhbCBkaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRSZWZlcmVuY2UudXJsID0gbWF0ZXJpYWxBc3NldC5nZXRBYnNvbHV0ZVVybChkYXRhQXNzZXRJZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRSZWZlcmVuY2UuaWQgPSBkYXRhQXNzZXRJZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRSZWZlcmVuY2UuYXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0UmVmZXJlbmNlLmFzc2V0LnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhc3NldCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXNzaWduVGV4dHVyZShuYW1lLCBtYXRlcmlhbEFzc2V0LCBhc3NldFJlZmVyZW5jZS5hc3NldC5yZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hc3NpZ25QbGFjZWhvbGRlclRleHR1cmUobmFtZSwgbWF0ZXJpYWxBc3NldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhc3NldHMubG9hZChhc3NldFJlZmVyZW5jZS5hc3NldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoTWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRSZWZlcmVuY2UudXJsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0UmVmZXJlbmNlLmlkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGFzc2V0IHJlZmVyZW5jZSBhbmQgbm8gZGF0YSBmaWVsZFxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgQ1VCRU1BUFMgPSBzdGFuZGFyZE1hdGVyaWFsQ3ViZW1hcFBhcmFtZXRlcnM7XG5cbiAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCBjdWJlbWFwIHBhcmFtZXRlcnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IENVQkVNQVBTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuYW1lID0gQ1VCRU1BUFNbaV07XG5cbiAgICAgICAgICAgIGFzc2V0UmVmZXJlbmNlID0gbWF0ZXJpYWwuX2Fzc2V0UmVmZXJlbmNlc1tuYW1lXTtcblxuICAgICAgICAgICAgLy8gZGF0YVtuYW1lXSBjb250YWlucyBhbiBhc3NldCBpZCBmb3IgYSBjdWJlbWFwXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgYXNzZXQgaWQgYW5kIHRoZSBwcmVmaWx0ZXJlZCBjdWJlbWFwIGRhdGEgaXMgbm90IHNldFxuICAgICAgICAgICAgaWYgKGRhdGFbbmFtZV0gJiYgIW1hdGVyaWFsQXNzZXQuZGF0YS5wcmVmaWx0ZXJlZEN1YmVNYXAxMjgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFzc2V0UmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0UmVmZXJlbmNlID0gbmV3IEFzc2V0UmVmZXJlbmNlKG5hbWUsIG1hdGVyaWFsQXNzZXQsIGFzc2V0cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogdGhpcy5fb25DdWJlbWFwTG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZDogdGhpcy5fb25DdWJlbWFwQWRkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiB0aGlzLl9vbkN1YmVtYXBSZW1vdmVPclVubG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVubG9hZDogdGhpcy5fb25DdWJlbWFwUmVtb3ZlT3JVbmxvYWRcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuX2Fzc2V0UmVmZXJlbmNlc1tuYW1lXSA9IGFzc2V0UmVmZXJlbmNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYXRoTWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICBhc3NldFJlZmVyZW5jZS51cmwgPSBkYXRhW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0UmVmZXJlbmNlLmlkID0gZGF0YVtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRSZWZlcmVuY2UuYXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0UmVmZXJlbmNlLmFzc2V0LmxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXNzZXQgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hc3NpZ25DdWJlbWFwKG5hbWUsIG1hdGVyaWFsQXNzZXQsIGFzc2V0UmVmZXJlbmNlLmFzc2V0LnJlc291cmNlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhc3NldHMubG9hZChhc3NldFJlZmVyZW5jZS5hc3NldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGwgdG8gcmUtaW5pdGlhbGl6ZSBtYXRlcmlhbCBhZnRlciBhbGwgdGV4dHVyZXMgYXNzaWduZWRcbiAgICAgICAgdGhpcy5fcGFyc2VyLmluaXRpYWxpemUobWF0ZXJpYWwsIGRhdGEpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgTWF0ZXJpYWxIYW5kbGVyIH07XG4iXSwibmFtZXMiOlsiUExBQ0VIT0xERVJfTUFQIiwiYW9NYXAiLCJkaWZmdXNlTWFwIiwic3BlY3VsYXJNYXAiLCJzcGVjdWxhcml0eUZhY3Rvck1hcCIsIm1ldGFsbmVzc01hcCIsImdsb3NzTWFwIiwic2hlZW5NYXAiLCJzaGVlbkdsb3NzaW5lc3NNYXAiLCJjbGVhckNvYXRNYXAiLCJjbGVhckNvYXRHbG9zc01hcCIsImNsZWFyQ29hdE5vcm1hbE1hcCIsInJlZnJhY3Rpb25NYXAiLCJlbWlzc2l2ZU1hcCIsIm5vcm1hbE1hcCIsImhlaWdodE1hcCIsIm9wYWNpdHlNYXAiLCJzcGhlcmVNYXAiLCJsaWdodE1hcCIsIk1hdGVyaWFsSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwiaGFuZGxlclR5cGUiLCJfYXNzZXRzIiwiYXNzZXRzIiwiX2RldmljZSIsImdyYXBoaWNzRGV2aWNlIiwiX3BsYWNlaG9sZGVyVGV4dHVyZXMiLCJfcGFyc2VyIiwiSnNvblN0YW5kYXJkTWF0ZXJpYWxQYXJzZXIiLCJtYXhSZXRyaWVzIiwibG9hZCIsInVybCIsImNhbGxiYWNrIiwib3JpZ2luYWwiLCJodHRwIiwiZ2V0IiwicmV0cnkiLCJlcnIiLCJyZXNwb25zZSIsIl9lbmdpbmUiLCJvcGVuIiwiZGF0YSIsIm1hdGVyaWFsIiwicGFyc2UiLCJfZGF0YSIsIl9jcmVhdGVQbGFjZWhvbGRlcnMiLCJ0ZXh0dXJlcyIsIndoaXRlIiwiZ3JheSIsImJsYWNrIiwibm9ybWFsIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJUZXh0dXJlIiwid2lkdGgiLCJoZWlnaHQiLCJmb3JtYXQiLCJQSVhFTEZPUk1BVF9SOF9HOF9COF9BOCIsIm5hbWUiLCJwaXhlbHMiLCJsb2NrIiwiaSIsImMiLCJ1bmxvY2siLCJwYXRjaCIsImFzc2V0IiwicmVzb3VyY2UiLCJfYmluZEFuZEFzc2lnbkFzc2V0cyIsIm9mZiIsIl9vbkFzc2V0VW5sb2FkIiwib24iLCJwYXJhbWV0ZXJzIiwiY2h1bmtzIiwiX2Fzc2lnblRleHR1cmUiLCJwYXJhbWV0ZXJOYW1lIiwibWF0ZXJpYWxBc3NldCIsInRleHR1cmUiLCJfZ2V0UGxhY2Vob2xkZXJUZXh0dXJlIiwicGxhY2Vob2xkZXIiLCJfYXNzaWduUGxhY2Vob2xkZXJUZXh0dXJlIiwiX29uVGV4dHVyZUxvYWQiLCJ0ZXh0dXJlQXNzZXQiLCJ1cGRhdGUiLCJfb25UZXh0dXJlQWRkIiwiX29uVGV4dHVyZVJlbW92ZU9yVW5sb2FkIiwiX2Fzc2lnbkN1YmVtYXAiLCJwcmVmaWx0ZXJlZEN1YmVtYXBzIiwic2xpY2UiLCJfb25DdWJlbWFwTG9hZCIsImN1YmVtYXBBc3NldCIsInJlc291cmNlcyIsImluaXRpYWxpemUiLCJfb25DdWJlbWFwQWRkIiwic2hhZGluZ01vZGVsIiwiU1BFQ1VMQVJfUEhPTkciLCJsb2FkRmFjZXMiLCJfb25DdWJlbWFwUmVtb3ZlT3JVbmxvYWQiLCJwcmVmaWx0ZXJlZEN1YmVNYXAxMjgiLCJtaWdyYXRlIiwicGF0aE1hcHBpbmciLCJtYXBwaW5nRm9ybWF0IiwiVEVYVFVSRVMiLCJzdGFuZGFyZE1hdGVyaWFsVGV4dHVyZVBhcmFtZXRlcnMiLCJhc3NldFJlZmVyZW5jZSIsImxlbmd0aCIsIl9hc3NldFJlZmVyZW5jZXMiLCJkYXRhQXNzZXRJZCIsIm1hdGVyaWFsVGV4dHVyZSIsImlzUGxhY2VIb2xkZXJUZXh0dXJlIiwiZGF0YVZhbGlkYXRlZCIsInZhbGlkYXRlZCIsIkFzc2V0UmVmZXJlbmNlIiwiYWRkIiwicmVtb3ZlIiwidW5sb2FkIiwiZ2V0QWJzb2x1dGVVcmwiLCJpZCIsIkNVQkVNQVBTIiwic3RhbmRhcmRNYXRlcmlhbEN1YmVtYXBQYXJhbWV0ZXJzIiwibG9hZGVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBZUEsTUFBTUEsZUFBZSxHQUFHO0FBQ3BCQyxFQUFBQSxLQUFLLEVBQUUsT0FEYTtBQUVwQkMsRUFBQUEsVUFBVSxFQUFFLE1BRlE7QUFHcEJDLEVBQUFBLFdBQVcsRUFBRSxNQUhPO0FBSXBCQyxFQUFBQSxvQkFBb0IsRUFBRSxPQUpGO0FBS3BCQyxFQUFBQSxZQUFZLEVBQUUsT0FMTTtBQU1wQkMsRUFBQUEsUUFBUSxFQUFFLE1BTlU7QUFPcEJDLEVBQUFBLFFBQVEsRUFBRSxPQVBVO0FBUXBCQyxFQUFBQSxrQkFBa0IsRUFBRSxNQVJBO0FBU3BCQyxFQUFBQSxZQUFZLEVBQUUsT0FUTTtBQVVwQkMsRUFBQUEsaUJBQWlCLEVBQUUsTUFWQztBQVdwQkMsRUFBQUEsa0JBQWtCLEVBQUUsUUFYQTtB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
