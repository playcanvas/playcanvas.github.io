/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../core/debug.js';
import { Vec3 } from '../math/vec3.js';

const tmpVecA = new Vec3();
const tmpVecB = new Vec3();
const tmpVecC = new Vec3();
const tmpVecD = new Vec3();
const tmpVecE = new Vec3();

class BoundingBox {
  constructor(center = new Vec3(), halfExtents = new Vec3(0.5, 0.5, 0.5)) {
    Debug.assert(!Object.isFrozen(center), 'The constructor of \'BoundingBox\' does not accept a constant (frozen) object as a \'center\' parameter');
    Debug.assert(!Object.isFrozen(halfExtents), 'The constructor of \'BoundingBox\' does not accept a constant (frozen) object as a \'halfExtents\' parameter');
    this.center = center;
    this.halfExtents = halfExtents;
    this._min = new Vec3();
    this._max = new Vec3();
  }

  add(other) {
    const tc = this.center;
    const tcx = tc.x;
    const tcy = tc.y;
    const tcz = tc.z;
    const th = this.halfExtents;
    const thx = th.x;
    const thy = th.y;
    const thz = th.z;
    let tminx = tcx - thx;
    let tmaxx = tcx + thx;
    let tminy = tcy - thy;
    let tmaxy = tcy + thy;
    let tminz = tcz - thz;
    let tmaxz = tcz + thz;
    const oc = other.center;
    const ocx = oc.x;
    const ocy = oc.y;
    const ocz = oc.z;
    const oh = other.halfExtents;
    const ohx = oh.x;
    const ohy = oh.y;
    const ohz = oh.z;
    const ominx = ocx - ohx;
    const omaxx = ocx + ohx;
    const ominy = ocy - ohy;
    const omaxy = ocy + ohy;
    const ominz = ocz - ohz;
    const omaxz = ocz + ohz;
    if (ominx < tminx) tminx = ominx;
    if (omaxx > tmaxx) tmaxx = omaxx;
    if (ominy < tminy) tminy = ominy;
    if (omaxy > tmaxy) tmaxy = omaxy;
    if (ominz < tminz) tminz = ominz;
    if (omaxz > tmaxz) tmaxz = omaxz;
    tc.x = (tminx + tmaxx) * 0.5;
    tc.y = (tminy + tmaxy) * 0.5;
    tc.z = (tminz + tmaxz) * 0.5;
    th.x = (tmaxx - tminx) * 0.5;
    th.y = (tmaxy - tminy) * 0.5;
    th.z = (tmaxz - tminz) * 0.5;
  }

  copy(src) {
    this.center.copy(src.center);
    this.halfExtents.copy(src.halfExtents);
  }

  clone() {
    return new BoundingBox(this.center.clone(), this.halfExtents.clone());
  }

  intersects(other) {
    const aMax = this.getMax();
    const aMin = this.getMin();
    const bMax = other.getMax();
    const bMin = other.getMin();
    return aMin.x <= bMax.x && aMax.x >= bMin.x && aMin.y <= bMax.y && aMax.y >= bMin.y && aMin.z <= bMax.z && aMax.z >= bMin.z;
  }

  _intersectsRay(ray, point) {
    const tMin = tmpVecA.copy(this.getMin()).sub(ray.origin);
    const tMax = tmpVecB.copy(this.getMax()).sub(ray.origin);
    const dir = ray.direction;

    if (dir.x === 0) {
      tMin.x = tMin.x < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;
      tMax.x = tMax.x < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;
    } else {
      tMin.x /= dir.x;
      tMax.x /= dir.x;
    }

    if (dir.y === 0) {
      tMin.y = tMin.y < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;
      tMax.y = tMax.y < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;
    } else {
      tMin.y /= dir.y;
      tMax.y /= dir.y;
    }

    if (dir.z === 0) {
      tMin.z = tMin.z < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;
      tMax.z = tMax.z < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE;
    } else {
      tMin.z /= dir.z;
      tMax.z /= dir.z;
    }

    const realMin = tmpVecC.set(Math.min(tMin.x, tMax.x), Math.min(tMin.y, tMax.y), Math.min(tMin.z, tMax.z));
    const realMax = tmpVecD.set(Math.max(tMin.x, tMax.x), Math.max(tMin.y, tMax.y), Math.max(tMin.z, tMax.z));
    const minMax = Math.min(Math.min(realMax.x, realMax.y), realMax.z);
    const maxMin = Math.max(Math.max(realMin.x, realMin.y), realMin.z);
    const intersects = minMax >= maxMin && maxMin >= 0;
    if (intersects) point.copy(ray.direction).mulScalar(maxMin).add(ray.origin);
    return intersects;
  }

  _fastIntersectsRay(ray) {
    const diff = tmpVecA;
    const cross = tmpVecB;
    const prod = tmpVecC;
    const absDiff = tmpVecD;
    const absDir = tmpVecE;
    const rayDir = ray.direction;
    diff.sub2(ray.origin, this.center);
    absDiff.set(Math.abs(diff.x), Math.abs(diff.y), Math.abs(diff.z));
    prod.mul2(diff, rayDir);
    if (absDiff.x > this.halfExtents.x && prod.x >= 0) return false;
    if (absDiff.y > this.halfExtents.y && prod.y >= 0) return false;
    if (absDiff.z > this.halfExtents.z && prod.z >= 0) return false;
    absDir.set(Math.abs(rayDir.x), Math.abs(rayDir.y), Math.abs(rayDir.z));
    cross.cross(rayDir, diff);
    cross.set(Math.abs(cross.x), Math.abs(cross.y), Math.abs(cross.z));
    if (cross.x > this.halfExtents.y * absDir.z + this.halfExtents.z * absDir.y) return false;
    if (cross.y > this.halfExtents.x * absDir.z + this.halfExtents.z * absDir.x) return false;
    if (cross.z > this.halfExtents.x * absDir.y + this.halfExtents.y * absDir.x) return false;
    return true;
  }

  intersectsRay(ray, point) {
    if (point) {
      return this._intersectsRay(ray, point);
    }

    return this._fastIntersectsRay(ray);
  }

  setMinMax(min, max) {
    this.center.add2(max, min).mulScalar(0.5);
    this.halfExtents.sub2(max, min).mulScalar(0.5);
  }

  getMin() {
    return this._min.copy(this.center).sub(this.halfExtents);
  }

  getMax() {
    return this._max.copy(this.center).add(this.halfExtents);
  }

  containsPoint(point) {
    const min = this.getMin();
    const max = this.getMax();

    if (point.x < min.x || point.x > max.x || point.y < min.y || point.y > max.y || point.z < min.z || point.z > max.z) {
      return false;
    }

    return true;
  }

  setFromTransformedAabb(aabb, m, ignoreScale = false) {
    const ac = aabb.center;
    const ar = aabb.halfExtents;
    const d = m.data;
    let mx0 = d[0];
    let mx1 = d[4];
    let mx2 = d[8];
    let my0 = d[1];
    let my1 = d[5];
    let my2 = d[9];
    let mz0 = d[2];
    let mz1 = d[6];
    let mz2 = d[10];

    if (ignoreScale) {
      let lengthSq = mx0 * mx0 + mx1 * mx1 + mx2 * mx2;

      if (lengthSq > 0) {
        const invLength = 1 / Math.sqrt(lengthSq);
        mx0 *= invLength;
        mx1 *= invLength;
        mx2 *= invLength;
      }

      lengthSq = my0 * my0 + my1 * my1 + my2 * my2;

      if (lengthSq > 0) {
        const invLength = 1 / Math.sqrt(lengthSq);
        my0 *= invLength;
        my1 *= invLength;
        my2 *= invLength;
      }

      lengthSq = mz0 * mz0 + mz1 * mz1 + mz2 * mz2;

      if (lengthSq > 0) {
        const invLength = 1 / Math.sqrt(lengthSq);
        mz0 *= invLength;
        mz1 *= invLength;
        mz2 *= invLength;
      }
    }

    this.center.set(d[12] + mx0 * ac.x + mx1 * ac.y + mx2 * ac.z, d[13] + my0 * ac.x + my1 * ac.y + my2 * ac.z, d[14] + mz0 * ac.x + mz1 * ac.y + mz2 * ac.z);
    this.halfExtents.set(Math.abs(mx0) * ar.x + Math.abs(mx1) * ar.y + Math.abs(mx2) * ar.z, Math.abs(my0) * ar.x + Math.abs(my1) * ar.y + Math.abs(my2) * ar.z, Math.abs(mz0) * ar.x + Math.abs(mz1) * ar.y + Math.abs(mz2) * ar.z);
  }

  static computeMinMax(vertices, min, max, numVerts = vertices.length / 3) {
    if (numVerts > 0) {
      min.set(vertices[0], vertices[1], vertices[2]);
      max.set(vertices[0], vertices[1], vertices[2]);

      for (let i = 1; i < numVerts; i++) {
        const x = vertices[i * 3 + 0];
        const y = vertices[i * 3 + 1];
        const z = vertices[i * 3 + 2];
        if (x < min.x) min.x = x;
        if (y < min.y) min.y = y;
        if (z < min.z) min.z = z;
        if (x > max.x) max.x = x;
        if (y > max.y) max.y = y;
        if (z > max.z) max.z = z;
      }
    }
  }

  compute(vertices, numVerts) {
    BoundingBox.computeMinMax(vertices, tmpVecA, tmpVecB, numVerts);
    this.setMinMax(tmpVecA, tmpVecB);
  }

  intersectsBoundingSphere(sphere) {
    const sq = this._distanceToBoundingSphereSq(sphere);

    if (sq <= sphere.radius * sphere.radius) {
      return true;
    }

    return false;
  }

  _distanceToBoundingSphereSq(sphere) {
    const boxMin = this.getMin();
    const boxMax = this.getMax();
    let sq = 0;
    const axis = ['x', 'y', 'z'];

    for (let i = 0; i < 3; ++i) {
      let out = 0;
      const pn = sphere.center[axis[i]];
      const bMin = boxMin[axis[i]];
      const bMax = boxMax[axis[i]];
      let val = 0;

      if (pn < bMin) {
        val = bMin - pn;
        out += val * val;
      }

      if (pn > bMax) {
        val = pn - bMax;
        out += val * val;
      }

      sq += out;
    }

    return sq;
  }

  _expand(expandMin, expandMax) {
    tmpVecA.add2(this.getMin(), expandMin);
    tmpVecB.add2(this.getMax(), expandMax);
    this.setMinMax(tmpVecA, tmpVecB);
  }

}

export { BoundingBox };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm91bmRpbmctYm94LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2hhcGUvYm91bmRpbmctYm94LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVnIH0gZnJvbSAnLi4vY29yZS9kZWJ1Zy5qcyc7XG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vbWF0aC92ZWMzLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21hdGgvbWF0NC5qcycpLk1hdDR9IE1hdDQgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2JvdW5kaW5nLXNwaGVyZS5qcycpLkJvdW5kaW5nU3BoZXJlfSBCb3VuZGluZ1NwaGVyZSAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vcmF5LmpzJykuUmF5fSBSYXkgKi9cblxuY29uc3QgdG1wVmVjQSA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWNCID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlY0MgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjRCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWNFID0gbmV3IFZlYzMoKTtcblxuLyoqXG4gKiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICovXG5jbGFzcyBCb3VuZGluZ0JveCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJvdW5kaW5nQm94IGluc3RhbmNlLiBUaGUgYm91bmRpbmcgYm94IGlzIGF4aXMtYWxpZ25lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VmVjM30gW2NlbnRlcl0gLSBDZW50ZXIgb2YgYm94LiBUaGUgY29uc3RydWN0b3IgdGFrZXMgYSByZWZlcmVuY2Ugb2YgdGhpcyBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtWZWMzfSBbaGFsZkV4dGVudHNdIC0gSGFsZiB0aGUgZGlzdGFuY2UgYWNyb3NzIHRoZSBib3ggaW4gZWFjaCBheGlzLiBUaGUgY29uc3RydWN0b3JcbiAgICAgKiB0YWtlcyBhIHJlZmVyZW5jZSBvZiB0aGlzIHBhcmFtZXRlci4gRGVmYXVsdHMgdG8gMC41IG9uIGVhY2ggYXhpcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjZW50ZXIgPSBuZXcgVmVjMygpLCBoYWxmRXh0ZW50cyA9IG5ldyBWZWMzKDAuNSwgMC41LCAwLjUpKSB7XG4gICAgICAgIERlYnVnLmFzc2VydCghT2JqZWN0LmlzRnJvemVuKGNlbnRlciksICdUaGUgY29uc3RydWN0b3Igb2YgXFwnQm91bmRpbmdCb3hcXCcgZG9lcyBub3QgYWNjZXB0IGEgY29uc3RhbnQgKGZyb3plbikgb2JqZWN0IGFzIGEgXFwnY2VudGVyXFwnIHBhcmFtZXRlcicpO1xuICAgICAgICBEZWJ1Zy5hc3NlcnQoIU9iamVjdC5pc0Zyb3plbihoYWxmRXh0ZW50cyksICdUaGUgY29uc3RydWN0b3Igb2YgXFwnQm91bmRpbmdCb3hcXCcgZG9lcyBub3QgYWNjZXB0IGEgY29uc3RhbnQgKGZyb3plbikgb2JqZWN0IGFzIGEgXFwnaGFsZkV4dGVudHNcXCcgcGFyYW1ldGVyJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENlbnRlciBvZiBib3guXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtWZWMzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYWxmIHRoZSBkaXN0YW5jZSBhY3Jvc3MgdGhlIGJveCBpbiBlYWNoIGF4aXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtWZWMzfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYWxmRXh0ZW50cyA9IGhhbGZFeHRlbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7VmVjM31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbiA9IG5ldyBWZWMzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7VmVjM31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heCA9IG5ldyBWZWMzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tYmluZXMgdHdvIGJvdW5kaW5nIGJveGVzIGludG8gb25lLCBlbmNsb3NpbmcgYm90aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm91bmRpbmdCb3h9IG90aGVyIC0gQm91bmRpbmcgYm94IHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGQob3RoZXIpIHtcbiAgICAgICAgY29uc3QgdGMgPSB0aGlzLmNlbnRlcjtcbiAgICAgICAgY29uc3QgdGN4ID0gdGMueDtcbiAgICAgICAgY29uc3QgdGN5ID0gdGMueTtcbiAgICAgICAgY29uc3QgdGN6ID0gdGMuejtcbiAgICAgICAgY29uc3QgdGggPSB0aGlzLmhhbGZFeHRlbnRzO1xuICAgICAgICBjb25zdCB0aHggPSB0aC54O1xuICAgICAgICBjb25zdCB0aHkgPSB0aC55O1xuICAgICAgICBjb25zdCB0aHogPSB0aC56O1xuICAgICAgICBsZXQgdG1pbnggPSB0Y3ggLSB0aHg7XG4gICAgICAgIGxldCB0bWF4eCA9IHRjeCArIHRoeDtcbiAgICAgICAgbGV0IHRtaW55ID0gdGN5IC0gdGh5O1xuICAgICAgICBsZXQgdG1heHkgPSB0Y3kgKyB0aHk7XG4gICAgICAgIGxldCB0bWlueiA9IHRjeiAtIHRoejtcbiAgICAgICAgbGV0IHRtYXh6ID0gdGN6ICsgdGh6O1xuXG4gICAgICAgIGNvbnN0IG9jID0gb3RoZXIuY2VudGVyO1xuICAgICAgICBjb25zdCBvY3ggPSBvYy54O1xuICAgICAgICBjb25zdCBvY3kgPSBvYy55O1xuICAgICAgICBjb25zdCBvY3ogPSBvYy56O1xuICAgICAgICBjb25zdCBvaCA9IG90aGVyLmhhbGZFeHRlbnRzO1xuICAgICAgICBjb25zdCBvaHggPSBvaC54O1xuICAgICAgICBjb25zdCBvaHkgPSBvaC55O1xuICAgICAgICBjb25zdCBvaHogPSBvaC56O1xuICAgICAgICBjb25zdCBvbWlueCA9IG9jeCAtIG9oeDtcbiAgICAgICAgY29uc3Qgb21heHggPSBvY3ggKyBvaHg7XG4gICAgICAgIGNvbnN0IG9taW55ID0gb2N5IC0gb2h5O1xuICAgICAgICBjb25zdCBvbWF4eSA9IG9jeSArIG9oeTtcbiAgICAgICAgY29uc3Qgb21pbnogPSBvY3ogLSBvaHo7XG4gICAgICAgIGNvbnN0IG9tYXh6ID0gb2N6ICsgb2h6O1xuXG4gICAgICAgIGlmIChvbWlueCA8IHRtaW54KSB0bWlueCA9IG9taW54O1xuICAgICAgICBpZiAob21heHggPiB0bWF4eCkgdG1heHggPSBvbWF4eDtcbiAgICAgICAgaWYgKG9taW55IDwgdG1pbnkpIHRtaW55ID0gb21pbnk7XG4gICAgICAgIGlmIChvbWF4eSA+IHRtYXh5KSB0bWF4eSA9IG9tYXh5O1xuICAgICAgICBpZiAob21pbnogPCB0bWlueikgdG1pbnogPSBvbWluejtcbiAgICAgICAgaWYgKG9tYXh6ID4gdG1heHopIHRtYXh6ID0gb21heHo7XG5cbiAgICAgICAgdGMueCA9ICh0bWlueCArIHRtYXh4KSAqIDAuNTtcbiAgICAgICAgdGMueSA9ICh0bWlueSArIHRtYXh5KSAqIDAuNTtcbiAgICAgICAgdGMueiA9ICh0bWlueiArIHRtYXh6KSAqIDAuNTtcbiAgICAgICAgdGgueCA9ICh0bWF4eCAtIHRtaW54KSAqIDAuNTtcbiAgICAgICAgdGgueSA9ICh0bWF4eSAtIHRtaW55KSAqIDAuNTtcbiAgICAgICAgdGgueiA9ICh0bWF4eiAtIHRtaW56KSAqIDAuNTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGNvbnRlbnRzIG9mIGEgc291cmNlIEFBQkIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0JvdW5kaW5nQm94fSBzcmMgLSBUaGUgQUFCQiB0byBjb3B5IGZyb20uXG4gICAgICovXG4gICAgY29weShzcmMpIHtcbiAgICAgICAgdGhpcy5jZW50ZXIuY29weShzcmMuY2VudGVyKTtcbiAgICAgICAgdGhpcy5oYWxmRXh0ZW50cy5jb3B5KHNyYy5oYWxmRXh0ZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNsb25lIG9mIHRoZSBBQUJCLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0JvdW5kaW5nQm94fSBBIGR1cGxpY2F0ZSBBQUJCLlxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IEJvdW5kaW5nQm94KHRoaXMuY2VudGVyLmNsb25lKCksIHRoaXMuaGFsZkV4dGVudHMuY2xvbmUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94ZXMgaW50ZXJzZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb3VuZGluZ0JveH0gb3RoZXIgLSBCb3VuZGluZyBib3ggdG8gdGVzdCBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZXJlIGlzIGFuIGludGVyc2VjdGlvbi5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3RzKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IGFNYXggPSB0aGlzLmdldE1heCgpO1xuICAgICAgICBjb25zdCBhTWluID0gdGhpcy5nZXRNaW4oKTtcbiAgICAgICAgY29uc3QgYk1heCA9IG90aGVyLmdldE1heCgpO1xuICAgICAgICBjb25zdCBiTWluID0gb3RoZXIuZ2V0TWluKCk7XG5cbiAgICAgICAgcmV0dXJuIChhTWluLnggPD0gYk1heC54KSAmJiAoYU1heC54ID49IGJNaW4ueCkgJiZcbiAgICAgICAgICAgICAgIChhTWluLnkgPD0gYk1heC55KSAmJiAoYU1heC55ID49IGJNaW4ueSkgJiZcbiAgICAgICAgICAgICAgIChhTWluLnogPD0gYk1heC56KSAmJiAoYU1heC56ID49IGJNaW4ueik7XG4gICAgfVxuXG4gICAgX2ludGVyc2VjdHNSYXkocmF5LCBwb2ludCkge1xuICAgICAgICBjb25zdCB0TWluID0gdG1wVmVjQS5jb3B5KHRoaXMuZ2V0TWluKCkpLnN1YihyYXkub3JpZ2luKTtcbiAgICAgICAgY29uc3QgdE1heCA9IHRtcFZlY0IuY29weSh0aGlzLmdldE1heCgpKS5zdWIocmF5Lm9yaWdpbik7XG4gICAgICAgIGNvbnN0IGRpciA9IHJheS5kaXJlY3Rpb247XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgYXJlIG5vdCBkaXZpZGluZyBpdCBieSB6ZXJvXG4gICAgICAgIGlmIChkaXIueCA9PT0gMCkge1xuICAgICAgICAgICAgdE1pbi54ID0gdE1pbi54IDwgMCA/IC1OdW1iZXIuTUFYX1ZBTFVFIDogTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgIHRNYXgueCA9IHRNYXgueCA8IDAgPyAtTnVtYmVyLk1BWF9WQUxVRSA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0TWluLnggLz0gZGlyLng7XG4gICAgICAgICAgICB0TWF4LnggLz0gZGlyLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpci55ID09PSAwKSB7XG4gICAgICAgICAgICB0TWluLnkgPSB0TWluLnkgPCAwID8gLU51bWJlci5NQVhfVkFMVUUgOiBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgdE1heC55ID0gdE1heC55IDwgMCA/IC1OdW1iZXIuTUFYX1ZBTFVFIDogTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRNaW4ueSAvPSBkaXIueTtcbiAgICAgICAgICAgIHRNYXgueSAvPSBkaXIueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyLnogPT09IDApIHtcbiAgICAgICAgICAgIHRNaW4ueiA9IHRNaW4ueiA8IDAgPyAtTnVtYmVyLk1BWF9WQUxVRSA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICB0TWF4LnogPSB0TWF4LnogPCAwID8gLU51bWJlci5NQVhfVkFMVUUgOiBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdE1pbi56IC89IGRpci56O1xuICAgICAgICAgICAgdE1heC56IC89IGRpci56O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVhbE1pbiA9IHRtcFZlY0Muc2V0KE1hdGgubWluKHRNaW4ueCwgdE1heC54KSwgTWF0aC5taW4odE1pbi55LCB0TWF4LnkpLCBNYXRoLm1pbih0TWluLnosIHRNYXgueikpO1xuICAgICAgICBjb25zdCByZWFsTWF4ID0gdG1wVmVjRC5zZXQoTWF0aC5tYXgodE1pbi54LCB0TWF4LngpLCBNYXRoLm1heCh0TWluLnksIHRNYXgueSksIE1hdGgubWF4KHRNaW4ueiwgdE1heC56KSk7XG5cbiAgICAgICAgY29uc3QgbWluTWF4ID0gTWF0aC5taW4oTWF0aC5taW4ocmVhbE1heC54LCByZWFsTWF4LnkpLCByZWFsTWF4LnopO1xuICAgICAgICBjb25zdCBtYXhNaW4gPSBNYXRoLm1heChNYXRoLm1heChyZWFsTWluLngsIHJlYWxNaW4ueSksIHJlYWxNaW4ueik7XG5cbiAgICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IG1pbk1heCA+PSBtYXhNaW4gJiYgbWF4TWluID49IDA7XG5cbiAgICAgICAgaWYgKGludGVyc2VjdHMpXG4gICAgICAgICAgICBwb2ludC5jb3B5KHJheS5kaXJlY3Rpb24pLm11bFNjYWxhcihtYXhNaW4pLmFkZChyYXkub3JpZ2luKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0cztcbiAgICB9XG5cbiAgICBfZmFzdEludGVyc2VjdHNSYXkocmF5KSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB0bXBWZWNBO1xuICAgICAgICBjb25zdCBjcm9zcyA9IHRtcFZlY0I7XG4gICAgICAgIGNvbnN0IHByb2QgPSB0bXBWZWNDO1xuICAgICAgICBjb25zdCBhYnNEaWZmID0gdG1wVmVjRDtcbiAgICAgICAgY29uc3QgYWJzRGlyID0gdG1wVmVjRTtcbiAgICAgICAgY29uc3QgcmF5RGlyID0gcmF5LmRpcmVjdGlvbjtcblxuICAgICAgICBkaWZmLnN1YjIocmF5Lm9yaWdpbiwgdGhpcy5jZW50ZXIpO1xuICAgICAgICBhYnNEaWZmLnNldChNYXRoLmFicyhkaWZmLngpLCBNYXRoLmFicyhkaWZmLnkpLCBNYXRoLmFicyhkaWZmLnopKTtcblxuICAgICAgICBwcm9kLm11bDIoZGlmZiwgcmF5RGlyKTtcblxuICAgICAgICBpZiAoYWJzRGlmZi54ID4gdGhpcy5oYWxmRXh0ZW50cy54ICYmIHByb2QueCA+PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChhYnNEaWZmLnkgPiB0aGlzLmhhbGZFeHRlbnRzLnkgJiYgcHJvZC55ID49IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKGFic0RpZmYueiA+IHRoaXMuaGFsZkV4dGVudHMueiAmJiBwcm9kLnogPj0gMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBhYnNEaXIuc2V0KE1hdGguYWJzKHJheURpci54KSwgTWF0aC5hYnMocmF5RGlyLnkpLCBNYXRoLmFicyhyYXlEaXIueikpO1xuICAgICAgICBjcm9zcy5jcm9zcyhyYXlEaXIsIGRpZmYpO1xuICAgICAgICBjcm9zcy5zZXQoTWF0aC5hYnMoY3Jvc3MueCksIE1hdGguYWJzKGNyb3NzLnkpLCBNYXRoLmFicyhjcm9zcy56KSk7XG5cbiAgICAgICAgaWYgKGNyb3NzLnggPiB0aGlzLmhhbGZFeHRlbnRzLnkgKiBhYnNEaXIueiArIHRoaXMuaGFsZkV4dGVudHMueiAqIGFic0Rpci55KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChjcm9zcy55ID4gdGhpcy5oYWxmRXh0ZW50cy54ICogYWJzRGlyLnogKyB0aGlzLmhhbGZFeHRlbnRzLnogKiBhYnNEaXIueClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoY3Jvc3MueiA+IHRoaXMuaGFsZkV4dGVudHMueCAqIGFic0Rpci55ICsgdGhpcy5oYWxmRXh0ZW50cy55ICogYWJzRGlyLngpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBhIHJheSBpbnRlcnNlY3RzIHdpdGggdGhlIEFBQkIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JheX0gcmF5IC0gUmF5IHRvIHRlc3QgYWdhaW5zdCAoZGlyZWN0aW9uIG11c3QgYmUgbm9ybWFsaXplZCkuXG4gICAgICogQHBhcmFtIHtWZWMzfSBbcG9pbnRdIC0gSWYgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uLCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IHdpbGwgYmUgY29waWVkIGludG8gaGVyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGVyZSBpcyBhbiBpbnRlcnNlY3Rpb24uXG4gICAgICovXG4gICAgaW50ZXJzZWN0c1JheShyYXksIHBvaW50KSB7XG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdHNSYXkocmF5LCBwb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fZmFzdEludGVyc2VjdHNSYXkocmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGNvcm5lciBvZiB0aGUgQUFCQi4gVXNpbmcgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhblxuICAgICAqIGFzc2lnbmluZyBtaW4gYW5kIG1heCBzZXBhcmF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtWZWMzfSBtaW4gLSBUaGUgbWluaW11bSBjb3JuZXIgb2YgdGhlIEFBQkIuXG4gICAgICogQHBhcmFtIHtWZWMzfSBtYXggLSBUaGUgbWF4aW11bSBjb3JuZXIgb2YgdGhlIEFBQkIuXG4gICAgICovXG4gICAgc2V0TWluTWF4KG1pbiwgbWF4KSB7XG4gICAgICAgIHRoaXMuY2VudGVyLmFkZDIobWF4LCBtaW4pLm11bFNjYWxhcigwLjUpO1xuICAgICAgICB0aGlzLmhhbGZFeHRlbnRzLnN1YjIobWF4LCBtaW4pLm11bFNjYWxhcigwLjUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWluaW11bSBjb3JuZXIgb2YgdGhlIEFBQkIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7VmVjM30gTWluaW11bSBjb3JuZXIuXG4gICAgICovXG4gICAgZ2V0TWluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWluLmNvcHkodGhpcy5jZW50ZXIpLnN1Yih0aGlzLmhhbGZFeHRlbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1heGltdW0gY29ybmVyIG9mIHRoZSBBQUJCLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1ZlYzN9IE1heGltdW0gY29ybmVyLlxuICAgICAqL1xuICAgIGdldE1heCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heC5jb3B5KHRoaXMuY2VudGVyKS5hZGQodGhpcy5oYWxmRXh0ZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBhIHBvaW50IGlzIGluc2lkZSBhIEFBQkIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1ZlYzN9IHBvaW50IC0gUG9pbnQgdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoZSBBQUJCIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLmdldE1pbigpO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLmdldE1heCgpO1xuXG4gICAgICAgIGlmIChwb2ludC54IDwgbWluLnggfHwgcG9pbnQueCA+IG1heC54IHx8XG4gICAgICAgICAgICBwb2ludC55IDwgbWluLnkgfHwgcG9pbnQueSA+IG1heC55IHx8XG4gICAgICAgICAgICBwb2ludC56IDwgbWluLnogfHwgcG9pbnQueiA+IG1heC56KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYW4gQUFCQiB0byBlbmNsb3NlIHRoZSBzcGVjaWZpZWQgQUFCQiBpZiBpdCB3ZXJlIHRvIGJlIHRyYW5zZm9ybWVkIGJ5IHRoZSBzcGVjaWZpZWQgNHg0XG4gICAgICogbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb3VuZGluZ0JveH0gYWFiYiAtIEJveCB0byB0cmFuc2Zvcm0gYW5kIGVuY2xvc2UuXG4gICAgICogQHBhcmFtIHtNYXQ0fSBtIC0gVHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGFwcGx5IHRvIHNvdXJjZSBBQUJCLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaWdub3JlU2NhbGUgLSBJZiB0cnVlIGlzIHNwZWNpZmllZCwgYSBzY2FsZSBmcm9tIHRoZSBtYXRyaXggaXMgaWdub3JlZC4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAgICovXG4gICAgc2V0RnJvbVRyYW5zZm9ybWVkQWFiYihhYWJiLCBtLCBpZ25vcmVTY2FsZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGFjID0gYWFiYi5jZW50ZXI7XG4gICAgICAgIGNvbnN0IGFyID0gYWFiYi5oYWxmRXh0ZW50cztcblxuICAgICAgICBjb25zdCBkID0gbS5kYXRhO1xuICAgICAgICBsZXQgbXgwID0gZFswXTtcbiAgICAgICAgbGV0IG14MSA9IGRbNF07XG4gICAgICAgIGxldCBteDIgPSBkWzhdO1xuICAgICAgICBsZXQgbXkwID0gZFsxXTtcbiAgICAgICAgbGV0IG15MSA9IGRbNV07XG4gICAgICAgIGxldCBteTIgPSBkWzldO1xuICAgICAgICBsZXQgbXowID0gZFsyXTtcbiAgICAgICAgbGV0IG16MSA9IGRbNl07XG4gICAgICAgIGxldCBtejIgPSBkWzEwXTtcblxuICAgICAgICAvLyByZW5vcm1hbGl6ZSBheGlzIGlmIHNjYWxlIGlzIHRvIGJlIGlnbm9yZWRcbiAgICAgICAgaWYgKGlnbm9yZVNjYWxlKSB7XG4gICAgICAgICAgICBsZXQgbGVuZ3RoU3EgPSBteDAgKiBteDAgKyBteDEgKiBteDEgKyBteDIgKiBteDI7XG4gICAgICAgICAgICBpZiAobGVuZ3RoU3EgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW52TGVuZ3RoID0gMSAvIE1hdGguc3FydChsZW5ndGhTcSk7XG4gICAgICAgICAgICAgICAgbXgwICo9IGludkxlbmd0aDtcbiAgICAgICAgICAgICAgICBteDEgKj0gaW52TGVuZ3RoO1xuICAgICAgICAgICAgICAgIG14MiAqPSBpbnZMZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxlbmd0aFNxID0gbXkwICogbXkwICsgbXkxICogbXkxICsgbXkyICogbXkyO1xuICAgICAgICAgICAgaWYgKGxlbmd0aFNxID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludkxlbmd0aCA9IDEgLyBNYXRoLnNxcnQobGVuZ3RoU3EpO1xuICAgICAgICAgICAgICAgIG15MCAqPSBpbnZMZW5ndGg7XG4gICAgICAgICAgICAgICAgbXkxICo9IGludkxlbmd0aDtcbiAgICAgICAgICAgICAgICBteTIgKj0gaW52TGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZW5ndGhTcSA9IG16MCAqIG16MCArIG16MSAqIG16MSArIG16MiAqIG16MjtcbiAgICAgICAgICAgIGlmIChsZW5ndGhTcSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnZMZW5ndGggPSAxIC8gTWF0aC5zcXJ0KGxlbmd0aFNxKTtcbiAgICAgICAgICAgICAgICBtejAgKj0gaW52TGVuZ3RoO1xuICAgICAgICAgICAgICAgIG16MSAqPSBpbnZMZW5ndGg7XG4gICAgICAgICAgICAgICAgbXoyICo9IGludkxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2VudGVyLnNldChcbiAgICAgICAgICAgIGRbMTJdICsgbXgwICogYWMueCArIG14MSAqIGFjLnkgKyBteDIgKiBhYy56LFxuICAgICAgICAgICAgZFsxM10gKyBteTAgKiBhYy54ICsgbXkxICogYWMueSArIG15MiAqIGFjLnosXG4gICAgICAgICAgICBkWzE0XSArIG16MCAqIGFjLnggKyBtejEgKiBhYy55ICsgbXoyICogYWMuelxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaGFsZkV4dGVudHMuc2V0KFxuICAgICAgICAgICAgTWF0aC5hYnMobXgwKSAqIGFyLnggKyBNYXRoLmFicyhteDEpICogYXIueSArIE1hdGguYWJzKG14MikgKiBhci56LFxuICAgICAgICAgICAgTWF0aC5hYnMobXkwKSAqIGFyLnggKyBNYXRoLmFicyhteTEpICogYXIueSArIE1hdGguYWJzKG15MikgKiBhci56LFxuICAgICAgICAgICAgTWF0aC5hYnMobXowKSAqIGFyLnggKyBNYXRoLmFicyhtejEpICogYXIueSArIE1hdGguYWJzKG16MikgKiBhci56XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgbWluIGFuZCBtYXggYm91bmRpbmcgdmFsdWVzIHRvIGVuY2Fwc3VsYXRlIGFsbCBzcGVjaWZpZWQgdmVydGljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfEZsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUaGUgdmVydGljZXMgdXNlZCB0byBjb21wdXRlIHRoZSBuZXcgc2l6ZSBmb3IgdGhlXG4gICAgICogQUFCQi5cbiAgICAgKiBAcGFyYW0ge1ZlYzN9IG1pbiAtIFN0b3JlZCBjb21wdXRlZCBtaW4gdmFsdWUuXG4gICAgICogQHBhcmFtIHtWZWMzfSBtYXggLSBTdG9yZWQgY29tcHV0ZWQgbWF4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbnVtVmVydHNdIC0gTnVtYmVyIG9mIHZlcnRpY2VzIHRvIHVzZSBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdmVydGljZXMgYXJyYXkuXG4gICAgICogQWxsIHZlcnRpY2VzIGFyZSB1c2VkIGlmIG5vdCBzcGVjaWZpZWQuXG4gICAgICovXG4gICAgc3RhdGljIGNvbXB1dGVNaW5NYXgodmVydGljZXMsIG1pbiwgbWF4LCBudW1WZXJ0cyA9IHZlcnRpY2VzLmxlbmd0aCAvIDMpIHtcbiAgICAgICAgaWYgKG51bVZlcnRzID4gMCkge1xuXG4gICAgICAgICAgICBtaW4uc2V0KHZlcnRpY2VzWzBdLCB2ZXJ0aWNlc1sxXSwgdmVydGljZXNbMl0pO1xuICAgICAgICAgICAgbWF4LnNldCh2ZXJ0aWNlc1swXSwgdmVydGljZXNbMV0sIHZlcnRpY2VzWzJdKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBudW1WZXJ0czsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHZlcnRpY2VzW2kgKiAzICsgMF07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHZlcnRpY2VzW2kgKiAzICsgMV07XG4gICAgICAgICAgICAgICAgY29uc3QgeiA9IHZlcnRpY2VzW2kgKiAzICsgMl07XG4gICAgICAgICAgICAgICAgaWYgKHggPCBtaW4ueCkgbWluLnggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh5IDwgbWluLnkpIG1pbi55ID0geTtcbiAgICAgICAgICAgICAgICBpZiAoeiA8IG1pbi56KSBtaW4ueiA9IHo7XG4gICAgICAgICAgICAgICAgaWYgKHggPiBtYXgueCkgbWF4LnggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh5ID4gbWF4LnkpIG1heC55ID0geTtcbiAgICAgICAgICAgICAgICBpZiAoeiA+IG1heC56KSBtYXgueiA9IHo7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBzaXplIG9mIHRoZSBBQUJCIHRvIGVuY2Fwc3VsYXRlIGFsbCBzcGVjaWZpZWQgdmVydGljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfEZsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUaGUgdmVydGljZXMgdXNlZCB0byBjb21wdXRlIHRoZSBuZXcgc2l6ZSBmb3IgdGhlXG4gICAgICogQUFCQi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW251bVZlcnRzXSAtIE51bWJlciBvZiB2ZXJ0aWNlcyB0byB1c2UgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHZlcnRpY2VzIGFycmF5LlxuICAgICAqIEFsbCB2ZXJ0aWNlcyBhcmUgdXNlZCBpZiBub3Qgc3BlY2lmaWVkLlxuICAgICAqL1xuICAgIGNvbXB1dGUodmVydGljZXMsIG51bVZlcnRzKSB7XG4gICAgICAgIEJvdW5kaW5nQm94LmNvbXB1dGVNaW5NYXgodmVydGljZXMsIHRtcFZlY0EsIHRtcFZlY0IsIG51bVZlcnRzKTtcbiAgICAgICAgdGhpcy5zZXRNaW5NYXgodG1wVmVjQSwgdG1wVmVjQik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBhIEJvdW5kaW5nIFNwaGVyZSBpcyBvdmVybGFwcGluZywgZW52ZWxvcGluZywgb3IgaW5zaWRlIHRoaXMgQUFCQi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm91bmRpbmdTcGhlcmV9IHNwaGVyZSAtIEJvdW5kaW5nIFNwaGVyZSB0byB0ZXN0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBCb3VuZGluZyBTcGhlcmUgaXMgb3ZlcmxhcHBpbmcsIGVudmVsb3BpbmcsIG9yIGluc2lkZSB0aGVcbiAgICAgKiBBQUJCIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaW50ZXJzZWN0c0JvdW5kaW5nU3BoZXJlKHNwaGVyZSkge1xuICAgICAgICBjb25zdCBzcSA9IHRoaXMuX2Rpc3RhbmNlVG9Cb3VuZGluZ1NwaGVyZVNxKHNwaGVyZSk7XG4gICAgICAgIGlmIChzcSA8PSBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2Rpc3RhbmNlVG9Cb3VuZGluZ1NwaGVyZVNxKHNwaGVyZSkge1xuICAgICAgICBjb25zdCBib3hNaW4gPSB0aGlzLmdldE1pbigpO1xuICAgICAgICBjb25zdCBib3hNYXggPSB0aGlzLmdldE1heCgpO1xuXG4gICAgICAgIGxldCBzcSA9IDA7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBbJ3gnLCAneScsICd6J107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBvdXQgPSAwO1xuICAgICAgICAgICAgY29uc3QgcG4gPSBzcGhlcmUuY2VudGVyW2F4aXNbaV1dO1xuICAgICAgICAgICAgY29uc3QgYk1pbiA9IGJveE1pbltheGlzW2ldXTtcbiAgICAgICAgICAgIGNvbnN0IGJNYXggPSBib3hNYXhbYXhpc1tpXV07XG4gICAgICAgICAgICBsZXQgdmFsID0gMDtcblxuICAgICAgICAgICAgaWYgKHBuIDwgYk1pbikge1xuICAgICAgICAgICAgICAgIHZhbCA9IChiTWluIC0gcG4pO1xuICAgICAgICAgICAgICAgIG91dCArPSB2YWwgKiB2YWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwbiA+IGJNYXgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAocG4gLSBiTWF4KTtcbiAgICAgICAgICAgICAgICBvdXQgKz0gdmFsICogdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzcSArPSBvdXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3E7XG4gICAgfVxuXG4gICAgX2V4cGFuZChleHBhbmRNaW4sIGV4cGFuZE1heCkge1xuICAgICAgICB0bXBWZWNBLmFkZDIodGhpcy5nZXRNaW4oKSwgZXhwYW5kTWluKTtcbiAgICAgICAgdG1wVmVjQi5hZGQyKHRoaXMuZ2V0TWF4KCksIGV4cGFuZE1heCk7XG4gICAgICAgIHRoaXMuc2V0TWluTWF4KHRtcFZlY0EsIHRtcFZlY0IpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQm91bmRpbmdCb3ggfTtcbiJdLCJuYW1lcyI6WyJ0bXBWZWNBIiwiVmVjMyIsInRtcFZlY0IiLCJ0bXBWZWNDIiwidG1wVmVjRCIsInRtcFZlY0UiLCJCb3VuZGluZ0JveCIsImNvbnN0cnVjdG9yIiwiY2VudGVyIiwiaGFsZkV4dGVudHMiLCJEZWJ1ZyIsImFzc2VydCIsIk9iamVjdCIsImlzRnJvemVuIiwiX21pbiIsIl9tYXgiLCJhZGQiLCJvdGhlciIsInRjIiwidGN4IiwieCIsInRjeSIsInkiLCJ0Y3oiLCJ6IiwidGgiLCJ0aHgiLCJ0aHkiLCJ0aHoiLCJ0bWlueCIsInRtYXh4IiwidG1pbnkiLCJ0bWF4eSIsInRtaW56IiwidG1heHoiLCJvYyIsIm9jeCIsIm9jeSIsIm9jeiIsIm9oIiwib2h4Iiwib2h5Iiwib2h6Iiwib21pbngiLCJvbWF4eCIsIm9taW55Iiwib21heHkiLCJvbWlueiIsIm9tYXh6IiwiY29weSIsInNyYyIsImNsb25lIiwiaW50ZXJzZWN0cyIsImFNYXgiLCJnZXRNYXgiLCJhTWluIiwiZ2V0TWluIiwiYk1heCIsImJNaW4iLCJfaW50ZXJzZWN0c1JheSIsInJheSIsInBvaW50IiwidE1pbiIsInN1YiIsIm9yaWdpbiIsInRNYXgiLCJkaXIiLCJkaXJlY3Rpb24iLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJyZWFsTWluIiwic2V0IiwiTWF0aCIsIm1pbiIsInJlYWxNYXgiLCJtYXgiLCJtaW5NYXgiLCJtYXhNaW4iLCJtdWxTY2FsYXIiLCJfZmFzdEludGVyc2VjdHNSYXkiLCJkaWZmIiwiY3Jvc3MiLCJwcm9kIiwiYWJzRGlmZiIsImFic0RpciIsInJheURpciIsInN1YjIiLCJhYnMiLCJtdWwyIiwiaW50ZXJzZWN0c1JheSIsInNldE1pbk1heCIsImFkZDIiLCJjb250YWluc1BvaW50Iiwic2V0RnJvbVRyYW5zZm9ybWVkQWFiYiIsImFhYmIiLCJtIiwiaWdub3JlU2NhbGUiLCJhYyIsImFyIiwiZCIsImRhdGEiLCJteDAiLCJteDEiLCJteDIiLCJteTAiLCJteTEiLCJteTIiLCJtejAiLCJtejEiLCJtejIiLCJsZW5ndGhTcSIsImludkxlbmd0aCIsInNxcnQiLCJjb21wdXRlTWluTWF4IiwidmVydGljZXMiLCJudW1WZXJ0cyIsImxlbmd0aCIsImkiLCJjb21wdXRlIiwiaW50ZXJzZWN0c0JvdW5kaW5nU3BoZXJlIiwic3BoZXJlIiwic3EiLCJfZGlzdGFuY2VUb0JvdW5kaW5nU3BoZXJlU3EiLCJyYWRpdXMiLCJib3hNaW4iLCJib3hNYXgiLCJheGlzIiwib3V0IiwicG4iLCJ2YWwiLCJfZXhwYW5kIiwiZXhwYW5kTWluIiwiZXhwYW5kTWF4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQU9BLE1BQU1BLE9BQU8sR0FBRyxJQUFJQyxJQUFKLEVBQWhCLENBQUE7QUFDQSxNQUFNQyxPQUFPLEdBQUcsSUFBSUQsSUFBSixFQUFoQixDQUFBO0FBQ0EsTUFBTUUsT0FBTyxHQUFHLElBQUlGLElBQUosRUFBaEIsQ0FBQTtBQUNBLE1BQU1HLE9BQU8sR0FBRyxJQUFJSCxJQUFKLEVBQWhCLENBQUE7QUFDQSxNQUFNSSxPQUFPLEdBQUcsSUFBSUosSUFBSixFQUFoQixDQUFBOztBQUtBLE1BQU1LLFdBQU4sQ0FBa0I7QUFRZEMsRUFBQUEsV0FBVyxDQUFDQyxNQUFNLEdBQUcsSUFBSVAsSUFBSixFQUFWLEVBQXNCUSxXQUFXLEdBQUcsSUFBSVIsSUFBSixDQUFTLEdBQVQsRUFBYyxHQUFkLEVBQW1CLEdBQW5CLENBQXBDLEVBQTZEO0lBQ3BFUyxLQUFLLENBQUNDLE1BQU4sQ0FBYSxDQUFDQyxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JMLE1BQWhCLENBQWQsRUFBdUMseUdBQXZDLENBQUEsQ0FBQTtJQUNBRSxLQUFLLENBQUNDLE1BQU4sQ0FBYSxDQUFDQyxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JKLFdBQWhCLENBQWQsRUFBNEMsOEdBQTVDLENBQUEsQ0FBQTtJQU9BLElBQUtELENBQUFBLE1BQUwsR0FBY0EsTUFBZCxDQUFBO0lBTUEsSUFBS0MsQ0FBQUEsV0FBTCxHQUFtQkEsV0FBbkIsQ0FBQTtBQU1BLElBQUEsSUFBQSxDQUFLSyxJQUFMLEdBQVksSUFBSWIsSUFBSixFQUFaLENBQUE7QUFLQSxJQUFBLElBQUEsQ0FBS2MsSUFBTCxHQUFZLElBQUlkLElBQUosRUFBWixDQUFBO0FBQ0gsR0FBQTs7RUFPRGUsR0FBRyxDQUFDQyxLQUFELEVBQVE7SUFDUCxNQUFNQyxFQUFFLEdBQUcsSUFBQSxDQUFLVixNQUFoQixDQUFBO0FBQ0EsSUFBQSxNQUFNVyxHQUFHLEdBQUdELEVBQUUsQ0FBQ0UsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNQyxHQUFHLEdBQUdILEVBQUUsQ0FBQ0ksQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNQyxHQUFHLEdBQUdMLEVBQUUsQ0FBQ00sQ0FBZixDQUFBO0lBQ0EsTUFBTUMsRUFBRSxHQUFHLElBQUEsQ0FBS2hCLFdBQWhCLENBQUE7QUFDQSxJQUFBLE1BQU1pQixHQUFHLEdBQUdELEVBQUUsQ0FBQ0wsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNTyxHQUFHLEdBQUdGLEVBQUUsQ0FBQ0gsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNTSxHQUFHLEdBQUdILEVBQUUsQ0FBQ0QsQ0FBZixDQUFBO0FBQ0EsSUFBQSxJQUFJSyxLQUFLLEdBQUdWLEdBQUcsR0FBR08sR0FBbEIsQ0FBQTtBQUNBLElBQUEsSUFBSUksS0FBSyxHQUFHWCxHQUFHLEdBQUdPLEdBQWxCLENBQUE7QUFDQSxJQUFBLElBQUlLLEtBQUssR0FBR1YsR0FBRyxHQUFHTSxHQUFsQixDQUFBO0FBQ0EsSUFBQSxJQUFJSyxLQUFLLEdBQUdYLEdBQUcsR0FBR00sR0FBbEIsQ0FBQTtBQUNBLElBQUEsSUFBSU0sS0FBSyxHQUFHVixHQUFHLEdBQUdLLEdBQWxCLENBQUE7QUFDQSxJQUFBLElBQUlNLEtBQUssR0FBR1gsR0FBRyxHQUFHSyxHQUFsQixDQUFBO0FBRUEsSUFBQSxNQUFNTyxFQUFFLEdBQUdsQixLQUFLLENBQUNULE1BQWpCLENBQUE7QUFDQSxJQUFBLE1BQU00QixHQUFHLEdBQUdELEVBQUUsQ0FBQ2YsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNaUIsR0FBRyxHQUFHRixFQUFFLENBQUNiLENBQWYsQ0FBQTtBQUNBLElBQUEsTUFBTWdCLEdBQUcsR0FBR0gsRUFBRSxDQUFDWCxDQUFmLENBQUE7QUFDQSxJQUFBLE1BQU1lLEVBQUUsR0FBR3RCLEtBQUssQ0FBQ1IsV0FBakIsQ0FBQTtBQUNBLElBQUEsTUFBTStCLEdBQUcsR0FBR0QsRUFBRSxDQUFDbkIsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNcUIsR0FBRyxHQUFHRixFQUFFLENBQUNqQixDQUFmLENBQUE7QUFDQSxJQUFBLE1BQU1vQixHQUFHLEdBQUdILEVBQUUsQ0FBQ2YsQ0FBZixDQUFBO0FBQ0EsSUFBQSxNQUFNbUIsS0FBSyxHQUFHUCxHQUFHLEdBQUdJLEdBQXBCLENBQUE7QUFDQSxJQUFBLE1BQU1JLEtBQUssR0FBR1IsR0FBRyxHQUFHSSxHQUFwQixDQUFBO0FBQ0EsSUFBQSxNQUFNSyxLQUFLLEdBQUdSLEdBQUcsR0FBR0ksR0FBcEIsQ0FBQTtBQUNBLElBQUEsTUFBTUssS0FBSyxHQUFHVCxHQUFHLEdBQUdJLEdBQXBCLENBQUE7QUFDQSxJQUFBLE1BQU1NLEtBQUssR0FBR1QsR0FBRyxHQUFHSSxHQUFwQixDQUFBO0FBQ0EsSUFBQSxNQUFNTSxLQUFLLEdBQUdWLEdBQUcsR0FBR0ksR0FBcEIsQ0FBQTtBQUVBLElBQUEsSUFBSUMsS0FBSyxHQUFHZCxLQUFaLEVBQW1CQSxLQUFLLEdBQUdjLEtBQVIsQ0FBQTtBQUNuQixJQUFBLElBQUlDLEtBQUssR0FBR2QsS0FBWixFQUFtQkEsS0FBSyxHQUFHYyxLQUFSLENBQUE7QUFDbkIsSUFBQSxJQUFJQyxLQUFLLEdBQUdkLEtBQVosRUFBbUJBLEtBQUssR0FBR2MsS0FBUixDQUFBO0FBQ25CLElBQUEsSUFBSUMsS0FBSyxHQUFHZCxLQUFaLEVBQW1CQSxLQUFLLEdBQUdjLEtBQVIsQ0FBQTtBQUNuQixJQUFBLElBQUlDLEtBQUssR0FBR2QsS0FBWixFQUFtQkEsS0FBSyxHQUFHYyxLQUFSLENBQUE7QUFDbkIsSUFBQSxJQUFJQyxLQUFLLEdBQUdkLEtBQVosRUFBbUJBLEtBQUssR0FBR2MsS0FBUixDQUFBO0lBRW5COUIsRUFBRSxDQUFDRSxDQUFILEdBQU8sQ0FBQ1MsS0FBSyxHQUFHQyxLQUFULElBQWtCLEdBQXpCLENBQUE7SUFDQVosRUFBRSxDQUFDSSxDQUFILEdBQU8sQ0FBQ1MsS0FBSyxHQUFHQyxLQUFULElBQWtCLEdBQXpCLENBQUE7SUFDQWQsRUFBRSxDQUFDTSxDQUFILEdBQU8sQ0FBQ1MsS0FBSyxHQUFHQyxLQUFULElBQWtCLEdBQXpCLENBQUE7SUFDQVQsRUFBRSxDQUFDTCxDQUFILEdBQU8sQ0FBQ1UsS0FBSyxHQUFHRCxLQUFULElBQWtCLEdBQXpCLENBQUE7SUFDQUosRUFBRSxDQUFDSCxDQUFILEdBQU8sQ0FBQ1UsS0FBSyxHQUFHRCxLQUFULElBQWtCLEdBQXpCLENBQUE7SUFDQU4sRUFBRSxDQUFDRCxDQUFILEdBQU8sQ0FBQ1UsS0FBSyxHQUFHRCxLQUFULElBQWtCLEdBQXpCLENBQUE7QUFDSCxHQUFBOztFQU9EZ0IsSUFBSSxDQUFDQyxHQUFELEVBQU07QUFDTixJQUFBLElBQUEsQ0FBSzFDLE1BQUwsQ0FBWXlDLElBQVosQ0FBaUJDLEdBQUcsQ0FBQzFDLE1BQXJCLENBQUEsQ0FBQTtBQUNBLElBQUEsSUFBQSxDQUFLQyxXQUFMLENBQWlCd0MsSUFBakIsQ0FBc0JDLEdBQUcsQ0FBQ3pDLFdBQTFCLENBQUEsQ0FBQTtBQUNILEdBQUE7O0FBT0QwQyxFQUFBQSxLQUFLLEdBQUc7QUFDSixJQUFBLE9BQU8sSUFBSTdDLFdBQUosQ0FBZ0IsSUFBQSxDQUFLRSxNQUFMLENBQVkyQyxLQUFaLEVBQWhCLEVBQXFDLElBQUsxQyxDQUFBQSxXQUFMLENBQWlCMEMsS0FBakIsRUFBckMsQ0FBUCxDQUFBO0FBQ0gsR0FBQTs7RUFRREMsVUFBVSxDQUFDbkMsS0FBRCxFQUFRO0FBQ2QsSUFBQSxNQUFNb0MsSUFBSSxHQUFHLElBQUtDLENBQUFBLE1BQUwsRUFBYixDQUFBO0FBQ0EsSUFBQSxNQUFNQyxJQUFJLEdBQUcsSUFBS0MsQ0FBQUEsTUFBTCxFQUFiLENBQUE7QUFDQSxJQUFBLE1BQU1DLElBQUksR0FBR3hDLEtBQUssQ0FBQ3FDLE1BQU4sRUFBYixDQUFBO0FBQ0EsSUFBQSxNQUFNSSxJQUFJLEdBQUd6QyxLQUFLLENBQUN1QyxNQUFOLEVBQWIsQ0FBQTtJQUVBLE9BQVFELElBQUksQ0FBQ25DLENBQUwsSUFBVXFDLElBQUksQ0FBQ3JDLENBQWhCLElBQXVCaUMsSUFBSSxDQUFDakMsQ0FBTCxJQUFVc0MsSUFBSSxDQUFDdEMsQ0FBdEMsSUFDQ21DLElBQUksQ0FBQ2pDLENBQUwsSUFBVW1DLElBQUksQ0FBQ25DLENBRGhCLElBQ3VCK0IsSUFBSSxDQUFDL0IsQ0FBTCxJQUFVb0MsSUFBSSxDQUFDcEMsQ0FEdEMsSUFFQ2lDLElBQUksQ0FBQy9CLENBQUwsSUFBVWlDLElBQUksQ0FBQ2pDLENBRmhCLElBRXVCNkIsSUFBSSxDQUFDN0IsQ0FBTCxJQUFVa0MsSUFBSSxDQUFDbEMsQ0FGN0MsQ0FBQTtBQUdILEdBQUE7O0FBRURtQyxFQUFBQSxjQUFjLENBQUNDLEdBQUQsRUFBTUMsS0FBTixFQUFhO0FBQ3ZCLElBQUEsTUFBTUMsSUFBSSxHQUFHOUQsT0FBTyxDQUFDaUQsSUFBUixDQUFhLElBQUEsQ0FBS08sTUFBTCxFQUFiLEVBQTRCTyxHQUE1QixDQUFnQ0gsR0FBRyxDQUFDSSxNQUFwQyxDQUFiLENBQUE7QUFDQSxJQUFBLE1BQU1DLElBQUksR0FBRy9ELE9BQU8sQ0FBQytDLElBQVIsQ0FBYSxJQUFBLENBQUtLLE1BQUwsRUFBYixFQUE0QlMsR0FBNUIsQ0FBZ0NILEdBQUcsQ0FBQ0ksTUFBcEMsQ0FBYixDQUFBO0FBQ0EsSUFBQSxNQUFNRSxHQUFHLEdBQUdOLEdBQUcsQ0FBQ08sU0FBaEIsQ0FBQTs7QUFHQSxJQUFBLElBQUlELEdBQUcsQ0FBQzlDLENBQUosS0FBVSxDQUFkLEVBQWlCO0FBQ2IwQyxNQUFBQSxJQUFJLENBQUMxQyxDQUFMLEdBQVMwQyxJQUFJLENBQUMxQyxDQUFMLEdBQVMsQ0FBVCxHQUFhLENBQUNnRCxNQUFNLENBQUNDLFNBQXJCLEdBQWlDRCxNQUFNLENBQUNDLFNBQWpELENBQUE7QUFDQUosTUFBQUEsSUFBSSxDQUFDN0MsQ0FBTCxHQUFTNkMsSUFBSSxDQUFDN0MsQ0FBTCxHQUFTLENBQVQsR0FBYSxDQUFDZ0QsTUFBTSxDQUFDQyxTQUFyQixHQUFpQ0QsTUFBTSxDQUFDQyxTQUFqRCxDQUFBO0FBQ0gsS0FIRCxNQUdPO0FBQ0hQLE1BQUFBLElBQUksQ0FBQzFDLENBQUwsSUFBVThDLEdBQUcsQ0FBQzlDLENBQWQsQ0FBQTtBQUNBNkMsTUFBQUEsSUFBSSxDQUFDN0MsQ0FBTCxJQUFVOEMsR0FBRyxDQUFDOUMsQ0FBZCxDQUFBO0FBQ0gsS0FBQTs7QUFDRCxJQUFBLElBQUk4QyxHQUFHLENBQUM1QyxDQUFKLEtBQVUsQ0FBZCxFQUFpQjtBQUNid0MsTUFBQUEsSUFBSSxDQUFDeEMsQ0FBTCxHQUFTd0MsSUFBSSxDQUFDeEMsQ0FBTCxHQUFTLENBQVQsR0FBYSxDQUFDOEMsTUFBTSxDQUFDQyxTQUFyQixHQUFpQ0QsTUFBTSxDQUFDQyxTQUFqRCxDQUFBO0FBQ0FKLE1BQUFBLElBQUksQ0FBQzNDLENBQUwsR0FBUzJDLElBQUksQ0FBQzNDLENBQUwsR0FBUyxDQUFULEdBQWEsQ0FBQzhDLE1BQU0sQ0FBQ0MsU0FBckIsR0FBaUNELE1BQU0sQ0FBQ0MsU0FBakQsQ0FBQTtBQUNILEtBSEQsTUFHTztBQUNIUCxNQUFBQSxJQUFJLENBQUN4QyxDQUFMLElBQVU0QyxHQUFHLENBQUM1QyxDQUFkLENBQUE7QUFDQTJDLE1BQUFBLElBQUksQ0FBQzNDLENBQUwsSUFBVTRDLEdBQUcsQ0FBQzVDLENBQWQsQ0FBQTtBQUNILEtBQUE7O0FBQ0QsSUFBQSxJQUFJNEMsR0FBRyxDQUFDMUMsQ0FBSixLQUFVLENBQWQsRUFBaUI7QUFDYnNDLE1BQUFBLElBQUksQ0FBQ3RDLENBQUwsR0FBU3NDLElBQUksQ0FBQ3RDLENBQUwsR0FBUyxDQUFULEdBQWEsQ0FBQzRDLE1BQU0sQ0FBQ0MsU0FBckIsR0FBaUNELE1BQU0sQ0FBQ0MsU0FBakQsQ0FBQTtBQUNBSixNQUFBQSxJQUFJLENBQUN6QyxDQUFMLEdBQVN5QyxJQUFJLENBQUN6QyxDQUFMLEdBQVMsQ0FBVCxHQUFhLENBQUM0QyxNQUFNLENBQUNDLFNBQXJCLEdBQWlDRCxNQUFNLENBQUNDLFNBQWpELENBQUE7QUFDSCxLQUhELE1BR087QUFDSFAsTUFBQUEsSUFBSSxDQUFDdEMsQ0FBTCxJQUFVMEMsR0FBRyxDQUFDMUMsQ0FBZCxDQUFBO0FBQ0F5QyxNQUFBQSxJQUFJLENBQUN6QyxDQUFMLElBQVUwQyxHQUFHLENBQUMxQyxDQUFkLENBQUE7QUFDSCxLQUFBOztJQUVELE1BQU04QyxPQUFPLEdBQUduRSxPQUFPLENBQUNvRSxHQUFSLENBQVlDLElBQUksQ0FBQ0MsR0FBTCxDQUFTWCxJQUFJLENBQUMxQyxDQUFkLEVBQWlCNkMsSUFBSSxDQUFDN0MsQ0FBdEIsQ0FBWixFQUFzQ29ELElBQUksQ0FBQ0MsR0FBTCxDQUFTWCxJQUFJLENBQUN4QyxDQUFkLEVBQWlCMkMsSUFBSSxDQUFDM0MsQ0FBdEIsQ0FBdEMsRUFBZ0VrRCxJQUFJLENBQUNDLEdBQUwsQ0FBU1gsSUFBSSxDQUFDdEMsQ0FBZCxFQUFpQnlDLElBQUksQ0FBQ3pDLENBQXRCLENBQWhFLENBQWhCLENBQUE7SUFDQSxNQUFNa0QsT0FBTyxHQUFHdEUsT0FBTyxDQUFDbUUsR0FBUixDQUFZQyxJQUFJLENBQUNHLEdBQUwsQ0FBU2IsSUFBSSxDQUFDMUMsQ0FBZCxFQUFpQjZDLElBQUksQ0FBQzdDLENBQXRCLENBQVosRUFBc0NvRCxJQUFJLENBQUNHLEdBQUwsQ0FBU2IsSUFBSSxDQUFDeEMsQ0FBZCxFQUFpQjJDLElBQUksQ0FBQzNDLENBQXRCLENBQXRDLEVBQWdFa0QsSUFBSSxDQUFDRyxHQUFMLENBQVNiLElBQUksQ0FBQ3RDLENBQWQsRUFBaUJ5QyxJQUFJLENBQUN6QyxDQUF0QixDQUFoRSxDQUFoQixDQUFBO0lBRUEsTUFBTW9ELE1BQU0sR0FBR0osSUFBSSxDQUFDQyxHQUFMLENBQVNELElBQUksQ0FBQ0MsR0FBTCxDQUFTQyxPQUFPLENBQUN0RCxDQUFqQixFQUFvQnNELE9BQU8sQ0FBQ3BELENBQTVCLENBQVQsRUFBeUNvRCxPQUFPLENBQUNsRCxDQUFqRCxDQUFmLENBQUE7SUFDQSxNQUFNcUQsTUFBTSxHQUFHTCxJQUFJLENBQUNHLEdBQUwsQ0FBU0gsSUFBSSxDQUFDRyxHQUFMLENBQVNMLE9BQU8sQ0FBQ2xELENBQWpCLEVBQW9Ca0QsT0FBTyxDQUFDaEQsQ0FBNUIsQ0FBVCxFQUF5Q2dELE9BQU8sQ0FBQzlDLENBQWpELENBQWYsQ0FBQTtJQUVBLE1BQU00QixVQUFVLEdBQUd3QixNQUFNLElBQUlDLE1BQVYsSUFBb0JBLE1BQU0sSUFBSSxDQUFqRCxDQUFBO0FBRUEsSUFBQSxJQUFJekIsVUFBSixFQUNJUyxLQUFLLENBQUNaLElBQU4sQ0FBV1csR0FBRyxDQUFDTyxTQUFmLENBQTBCVyxDQUFBQSxTQUExQixDQUFvQ0QsTUFBcEMsQ0FBQSxDQUE0QzdELEdBQTVDLENBQWdENEMsR0FBRyxDQUFDSSxNQUFwRCxDQUFBLENBQUE7QUFFSixJQUFBLE9BQU9aLFVBQVAsQ0FBQTtBQUNILEdBQUE7O0VBRUQyQixrQkFBa0IsQ0FBQ25CLEdBQUQsRUFBTTtJQUNwQixNQUFNb0IsSUFBSSxHQUFHaEYsT0FBYixDQUFBO0lBQ0EsTUFBTWlGLEtBQUssR0FBRy9FLE9BQWQsQ0FBQTtJQUNBLE1BQU1nRixJQUFJLEdBQUcvRSxPQUFiLENBQUE7SUFDQSxNQUFNZ0YsT0FBTyxHQUFHL0UsT0FBaEIsQ0FBQTtJQUNBLE1BQU1nRixNQUFNLEdBQUcvRSxPQUFmLENBQUE7QUFDQSxJQUFBLE1BQU1nRixNQUFNLEdBQUd6QixHQUFHLENBQUNPLFNBQW5CLENBQUE7SUFFQWEsSUFBSSxDQUFDTSxJQUFMLENBQVUxQixHQUFHLENBQUNJLE1BQWQsRUFBc0IsS0FBS3hELE1BQTNCLENBQUEsQ0FBQTtBQUNBMkUsSUFBQUEsT0FBTyxDQUFDWixHQUFSLENBQVlDLElBQUksQ0FBQ2UsR0FBTCxDQUFTUCxJQUFJLENBQUM1RCxDQUFkLENBQVosRUFBOEJvRCxJQUFJLENBQUNlLEdBQUwsQ0FBU1AsSUFBSSxDQUFDMUQsQ0FBZCxDQUE5QixFQUFnRGtELElBQUksQ0FBQ2UsR0FBTCxDQUFTUCxJQUFJLENBQUN4RCxDQUFkLENBQWhELENBQUEsQ0FBQTtBQUVBMEQsSUFBQUEsSUFBSSxDQUFDTSxJQUFMLENBQVVSLElBQVYsRUFBZ0JLLE1BQWhCLENBQUEsQ0FBQTtBQUVBLElBQUEsSUFBSUYsT0FBTyxDQUFDL0QsQ0FBUixHQUFZLElBQUEsQ0FBS1gsV0FBTCxDQUFpQlcsQ0FBN0IsSUFBa0M4RCxJQUFJLENBQUM5RCxDQUFMLElBQVUsQ0FBaEQsRUFDSSxPQUFPLEtBQVAsQ0FBQTtBQUVKLElBQUEsSUFBSStELE9BQU8sQ0FBQzdELENBQVIsR0FBWSxJQUFBLENBQUtiLFdBQUwsQ0FBaUJhLENBQTdCLElBQWtDNEQsSUFBSSxDQUFDNUQsQ0FBTCxJQUFVLENBQWhELEVBQ0ksT0FBTyxLQUFQLENBQUE7QUFFSixJQUFBLElBQUk2RCxPQUFPLENBQUMzRCxDQUFSLEdBQVksSUFBQSxDQUFLZixXQUFMLENBQWlCZSxDQUE3QixJQUFrQzBELElBQUksQ0FBQzFELENBQUwsSUFBVSxDQUFoRCxFQUNJLE9BQU8sS0FBUCxDQUFBO0FBRUo0RCxJQUFBQSxNQUFNLENBQUNiLEdBQVAsQ0FBV0MsSUFBSSxDQUFDZSxHQUFMLENBQVNGLE1BQU0sQ0FBQ2pFLENBQWhCLENBQVgsRUFBK0JvRCxJQUFJLENBQUNlLEdBQUwsQ0FBU0YsTUFBTSxDQUFDL0QsQ0FBaEIsQ0FBL0IsRUFBbURrRCxJQUFJLENBQUNlLEdBQUwsQ0FBU0YsTUFBTSxDQUFDN0QsQ0FBaEIsQ0FBbkQsQ0FBQSxDQUFBO0FBQ0F5RCxJQUFBQSxLQUFLLENBQUNBLEtBQU4sQ0FBWUksTUFBWixFQUFvQkwsSUFBcEIsQ0FBQSxDQUFBO0FBQ0FDLElBQUFBLEtBQUssQ0FBQ1YsR0FBTixDQUFVQyxJQUFJLENBQUNlLEdBQUwsQ0FBU04sS0FBSyxDQUFDN0QsQ0FBZixDQUFWLEVBQTZCb0QsSUFBSSxDQUFDZSxHQUFMLENBQVNOLEtBQUssQ0FBQzNELENBQWYsQ0FBN0IsRUFBZ0RrRCxJQUFJLENBQUNlLEdBQUwsQ0FBU04sS0FBSyxDQUFDekQsQ0FBZixDQUFoRCxDQUFBLENBQUE7SUFFQSxJQUFJeUQsS0FBSyxDQUFDN0QsQ0FBTixHQUFVLEtBQUtYLFdBQUwsQ0FBaUJhLENBQWpCLEdBQXFCOEQsTUFBTSxDQUFDNUQsQ0FBNUIsR0FBZ0MsSUFBQSxDQUFLZixXQUFMLENBQWlCZSxDQUFqQixHQUFxQjRELE1BQU0sQ0FBQzlELENBQTFFLEVBQ0ksT0FBTyxLQUFQLENBQUE7SUFFSixJQUFJMkQsS0FBSyxDQUFDM0QsQ0FBTixHQUFVLEtBQUtiLFdBQUwsQ0FBaUJXLENBQWpCLEdBQXFCZ0UsTUFBTSxDQUFDNUQsQ0FBNUIsR0FBZ0MsSUFBQSxDQUFLZixXQUFMLENBQWlCZSxDQUFqQixHQUFxQjRELE1BQU0sQ0FBQ2hFLENBQTFFLEVBQ0ksT0FBTyxLQUFQLENBQUE7SUFFSixJQUFJNkQsS0FBSyxDQUFDekQsQ0FBTixHQUFVLEtBQUtmLFdBQUwsQ0FBaUJXLENBQWpCLEdBQXFCZ0UsTUFBTSxDQUFDOUQsQ0FBNUIsR0FBZ0MsSUFBQSxDQUFLYixXQUFMLENBQWlCYSxDQUFqQixHQUFxQjhELE1BQU0sQ0FBQ2hFLENBQTFFLEVBQ0ksT0FBTyxLQUFQLENBQUE7QUFFSixJQUFBLE9BQU8sSUFBUCxDQUFBO0FBQ0gsR0FBQTs7QUFTRHFFLEVBQUFBLGFBQWEsQ0FBQzdCLEdBQUQsRUFBTUMsS0FBTixFQUFhO0FBQ3RCLElBQUEsSUFBSUEsS0FBSixFQUFXO0FBQ1AsTUFBQSxPQUFPLEtBQUtGLGNBQUwsQ0FBb0JDLEdBQXBCLEVBQXlCQyxLQUF6QixDQUFQLENBQUE7QUFDSCxLQUFBOztBQUVELElBQUEsT0FBTyxJQUFLa0IsQ0FBQUEsa0JBQUwsQ0FBd0JuQixHQUF4QixDQUFQLENBQUE7QUFDSCxHQUFBOztBQVNEOEIsRUFBQUEsU0FBUyxDQUFDakIsR0FBRCxFQUFNRSxHQUFOLEVBQVc7SUFDaEIsSUFBS25FLENBQUFBLE1BQUwsQ0FBWW1GLElBQVosQ0FBaUJoQixHQUFqQixFQUFzQkYsR0FBdEIsQ0FBQSxDQUEyQkssU0FBM0IsQ0FBcUMsR0FBckMsQ0FBQSxDQUFBO0lBQ0EsSUFBS3JFLENBQUFBLFdBQUwsQ0FBaUI2RSxJQUFqQixDQUFzQlgsR0FBdEIsRUFBMkJGLEdBQTNCLENBQUEsQ0FBZ0NLLFNBQWhDLENBQTBDLEdBQTFDLENBQUEsQ0FBQTtBQUNILEdBQUE7O0FBT0R0QixFQUFBQSxNQUFNLEdBQUc7QUFDTCxJQUFBLE9BQU8sSUFBSzFDLENBQUFBLElBQUwsQ0FBVW1DLElBQVYsQ0FBZSxJQUFBLENBQUt6QyxNQUFwQixDQUFBLENBQTRCdUQsR0FBNUIsQ0FBZ0MsSUFBS3RELENBQUFBLFdBQXJDLENBQVAsQ0FBQTtBQUNILEdBQUE7O0FBT0Q2QyxFQUFBQSxNQUFNLEdBQUc7QUFDTCxJQUFBLE9BQU8sSUFBS3ZDLENBQUFBLElBQUwsQ0FBVWtDLElBQVYsQ0FBZSxJQUFBLENBQUt6QyxNQUFwQixDQUFBLENBQTRCUSxHQUE1QixDQUFnQyxJQUFLUCxDQUFBQSxXQUFyQyxDQUFQLENBQUE7QUFDSCxHQUFBOztFQVFEbUYsYUFBYSxDQUFDL0IsS0FBRCxFQUFRO0FBQ2pCLElBQUEsTUFBTVksR0FBRyxHQUFHLElBQUtqQixDQUFBQSxNQUFMLEVBQVosQ0FBQTtBQUNBLElBQUEsTUFBTW1CLEdBQUcsR0FBRyxJQUFLckIsQ0FBQUEsTUFBTCxFQUFaLENBQUE7O0lBRUEsSUFBSU8sS0FBSyxDQUFDekMsQ0FBTixHQUFVcUQsR0FBRyxDQUFDckQsQ0FBZCxJQUFtQnlDLEtBQUssQ0FBQ3pDLENBQU4sR0FBVXVELEdBQUcsQ0FBQ3ZELENBQWpDLElBQ0F5QyxLQUFLLENBQUN2QyxDQUFOLEdBQVVtRCxHQUFHLENBQUNuRCxDQURkLElBQ21CdUMsS0FBSyxDQUFDdkMsQ0FBTixHQUFVcUQsR0FBRyxDQUFDckQsQ0FEakMsSUFFQXVDLEtBQUssQ0FBQ3JDLENBQU4sR0FBVWlELEdBQUcsQ0FBQ2pELENBRmQsSUFFbUJxQyxLQUFLLENBQUNyQyxDQUFOLEdBQVVtRCxHQUFHLENBQUNuRCxDQUZyQyxFQUV3QztBQUNwQyxNQUFBLE9BQU8sS0FBUCxDQUFBO0FBQ0gsS0FBQTs7QUFFRCxJQUFBLE9BQU8sSUFBUCxDQUFBO0FBQ0gsR0FBQTs7RUFVRHFFLHNCQUFzQixDQUFDQyxJQUFELEVBQU9DLENBQVAsRUFBVUMsV0FBVyxHQUFHLEtBQXhCLEVBQStCO0FBQ2pELElBQUEsTUFBTUMsRUFBRSxHQUFHSCxJQUFJLENBQUN0RixNQUFoQixDQUFBO0FBQ0EsSUFBQSxNQUFNMEYsRUFBRSxHQUFHSixJQUFJLENBQUNyRixXQUFoQixDQUFBO0FBRUEsSUFBQSxNQUFNMEYsQ0FBQyxHQUFHSixDQUFDLENBQUNLLElBQVosQ0FBQTtBQUNBLElBQUEsSUFBSUMsR0FBRyxHQUFHRixDQUFDLENBQUMsQ0FBRCxDQUFYLENBQUE7QUFDQSxJQUFBLElBQUlHLEdBQUcsR0FBR0gsQ0FBQyxDQUFDLENBQUQsQ0FBWCxDQUFBO0FBQ0EsSUFBQSxJQUFJSSxHQUFHLEdBQUdKLENBQUMsQ0FBQyxDQUFELENBQVgsQ0FBQTtBQUNBLElBQUEsSUFBSUssR0FBRyxHQUFHTCxDQUFDLENBQUMsQ0FBRCxDQUFYLENBQUE7QUFDQSxJQUFBLElBQUlNLEdBQUcsR0FBR04sQ0FBQyxDQUFDLENBQUQsQ0FBWCxDQUFBO0FBQ0EsSUFBQSxJQUFJTyxHQUFHLEdBQUdQLENBQUMsQ0FBQyxDQUFELENBQVgsQ0FBQTtBQUNBLElBQUEsSUFBSVEsR0FBRyxHQUFHUixDQUFDLENBQUMsQ0FBRCxDQUFYLENBQUE7QUFDQSxJQUFBLElBQUlTLEdBQUcsR0FBR1QsQ0FBQyxDQUFDLENBQUQsQ0FBWCxDQUFBO0FBQ0EsSUFBQSxJQUFJVSxHQUFHLEdBQUdWLENBQUMsQ0FBQyxFQUFELENBQVgsQ0FBQTs7QUFHQSxJQUFBLElBQUlILFdBQUosRUFBaUI7QUFDYixNQUFBLElBQUljLFFBQVEsR0FBR1QsR0FBRyxHQUFHQSxHQUFOLEdBQVlDLEdBQUcsR0FBR0EsR0FBbEIsR0FBd0JDLEdBQUcsR0FBR0EsR0FBN0MsQ0FBQTs7TUFDQSxJQUFJTyxRQUFRLEdBQUcsQ0FBZixFQUFrQjtRQUNkLE1BQU1DLFNBQVMsR0FBRyxDQUFJdkMsR0FBQUEsSUFBSSxDQUFDd0MsSUFBTCxDQUFVRixRQUFWLENBQXRCLENBQUE7QUFDQVQsUUFBQUEsR0FBRyxJQUFJVSxTQUFQLENBQUE7QUFDQVQsUUFBQUEsR0FBRyxJQUFJUyxTQUFQLENBQUE7QUFDQVIsUUFBQUEsR0FBRyxJQUFJUSxTQUFQLENBQUE7QUFDSCxPQUFBOztNQUVERCxRQUFRLEdBQUdOLEdBQUcsR0FBR0EsR0FBTixHQUFZQyxHQUFHLEdBQUdBLEdBQWxCLEdBQXdCQyxHQUFHLEdBQUdBLEdBQXpDLENBQUE7O01BQ0EsSUFBSUksUUFBUSxHQUFHLENBQWYsRUFBa0I7UUFDZCxNQUFNQyxTQUFTLEdBQUcsQ0FBSXZDLEdBQUFBLElBQUksQ0FBQ3dDLElBQUwsQ0FBVUYsUUFBVixDQUF0QixDQUFBO0FBQ0FOLFFBQUFBLEdBQUcsSUFBSU8sU0FBUCxDQUFBO0FBQ0FOLFFBQUFBLEdBQUcsSUFBSU0sU0FBUCxDQUFBO0FBQ0FMLFFBQUFBLEdBQUcsSUFBSUssU0FBUCxDQUFBO0FBQ0gsT0FBQTs7TUFFREQsUUFBUSxHQUFHSCxHQUFHLEdBQUdBLEdBQU4sR0FBWUMsR0FBRyxHQUFHQSxHQUFsQixHQUF3QkMsR0FBRyxHQUFHQSxHQUF6QyxDQUFBOztNQUNBLElBQUlDLFFBQVEsR0FBRyxDQUFmLEVBQWtCO1FBQ2QsTUFBTUMsU0FBUyxHQUFHLENBQUl2QyxHQUFBQSxJQUFJLENBQUN3QyxJQUFMLENBQVVGLFFBQVYsQ0FBdEIsQ0FBQTtBQUNBSCxRQUFBQSxHQUFHLElBQUlJLFNBQVAsQ0FBQTtBQUNBSCxRQUFBQSxHQUFHLElBQUlHLFNBQVAsQ0FBQTtBQUNBRixRQUFBQSxHQUFHLElBQUlFLFNBQVAsQ0FBQTtBQUNILE9BQUE7QUFDSixLQUFBOztBQUVELElBQUEsSUFBQSxDQUFLdkcsTUFBTCxDQUFZK0QsR0FBWixDQUNJNEIsQ0FBQyxDQUFDLEVBQUQsQ0FBRCxHQUFRRSxHQUFHLEdBQUdKLEVBQUUsQ0FBQzdFLENBQWpCLEdBQXFCa0YsR0FBRyxHQUFHTCxFQUFFLENBQUMzRSxDQUE5QixHQUFrQ2lGLEdBQUcsR0FBR04sRUFBRSxDQUFDekUsQ0FEL0MsRUFFSTJFLENBQUMsQ0FBQyxFQUFELENBQUQsR0FBUUssR0FBRyxHQUFHUCxFQUFFLENBQUM3RSxDQUFqQixHQUFxQnFGLEdBQUcsR0FBR1IsRUFBRSxDQUFDM0UsQ0FBOUIsR0FBa0NvRixHQUFHLEdBQUdULEVBQUUsQ0FBQ3pFLENBRi9DLEVBR0kyRSxDQUFDLENBQUMsRUFBRCxDQUFELEdBQVFRLEdBQUcsR0FBR1YsRUFBRSxDQUFDN0UsQ0FBakIsR0FBcUJ3RixHQUFHLEdBQUdYLEVBQUUsQ0FBQzNFLENBQTlCLEdBQWtDdUYsR0FBRyxHQUFHWixFQUFFLENBQUN6RSxDQUgvQyxDQUFBLENBQUE7SUFNQSxJQUFLZixDQUFBQSxXQUFMLENBQWlCOEQsR0FBakIsQ0FDSUMsSUFBSSxDQUFDZSxHQUFMLENBQVNjLEdBQVQsQ0FBQSxHQUFnQkgsRUFBRSxDQUFDOUUsQ0FBbkIsR0FBdUJvRCxJQUFJLENBQUNlLEdBQUwsQ0FBU2UsR0FBVCxJQUFnQkosRUFBRSxDQUFDNUUsQ0FBMUMsR0FBOENrRCxJQUFJLENBQUNlLEdBQUwsQ0FBU2dCLEdBQVQsQ0FBZ0JMLEdBQUFBLEVBQUUsQ0FBQzFFLENBRHJFLEVBRUlnRCxJQUFJLENBQUNlLEdBQUwsQ0FBU2lCLEdBQVQsQ0FBQSxHQUFnQk4sRUFBRSxDQUFDOUUsQ0FBbkIsR0FBdUJvRCxJQUFJLENBQUNlLEdBQUwsQ0FBU2tCLEdBQVQsSUFBZ0JQLEVBQUUsQ0FBQzVFLENBQTFDLEdBQThDa0QsSUFBSSxDQUFDZSxHQUFMLENBQVNtQixHQUFULENBQWdCUixHQUFBQSxFQUFFLENBQUMxRSxDQUZyRSxFQUdJZ0QsSUFBSSxDQUFDZSxHQUFMLENBQVNvQixHQUFULENBQUEsR0FBZ0JULEVBQUUsQ0FBQzlFLENBQW5CLEdBQXVCb0QsSUFBSSxDQUFDZSxHQUFMLENBQVNxQixHQUFULElBQWdCVixFQUFFLENBQUM1RSxDQUExQyxHQUE4Q2tELElBQUksQ0FBQ2UsR0FBTCxDQUFTc0IsR0FBVCxDQUFnQlgsR0FBQUEsRUFBRSxDQUFDMUUsQ0FIckUsQ0FBQSxDQUFBO0FBS0gsR0FBQTs7QUFZbUIsRUFBQSxPQUFieUYsYUFBYSxDQUFDQyxRQUFELEVBQVd6QyxHQUFYLEVBQWdCRSxHQUFoQixFQUFxQndDLFFBQVEsR0FBR0QsUUFBUSxDQUFDRSxNQUFULEdBQWtCLENBQWxELEVBQXFEO0lBQ3JFLElBQUlELFFBQVEsR0FBRyxDQUFmLEVBQWtCO0FBRWQxQyxNQUFBQSxHQUFHLENBQUNGLEdBQUosQ0FBUTJDLFFBQVEsQ0FBQyxDQUFELENBQWhCLEVBQXFCQSxRQUFRLENBQUMsQ0FBRCxDQUE3QixFQUFrQ0EsUUFBUSxDQUFDLENBQUQsQ0FBMUMsQ0FBQSxDQUFBO0FBQ0F2QyxNQUFBQSxHQUFHLENBQUNKLEdBQUosQ0FBUTJDLFFBQVEsQ0FBQyxDQUFELENBQWhCLEVBQXFCQSxRQUFRLENBQUMsQ0FBRCxDQUE3QixFQUFrQ0EsUUFBUSxDQUFDLENBQUQsQ0FBMUMsQ0FBQSxDQUFBOztNQUVBLEtBQUssSUFBSUcsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsUUFBcEIsRUFBOEJFLENBQUMsRUFBL0IsRUFBbUM7UUFDL0IsTUFBTWpHLENBQUMsR0FBRzhGLFFBQVEsQ0FBQ0csQ0FBQyxHQUFHLENBQUosR0FBUSxDQUFULENBQWxCLENBQUE7UUFDQSxNQUFNL0YsQ0FBQyxHQUFHNEYsUUFBUSxDQUFDRyxDQUFDLEdBQUcsQ0FBSixHQUFRLENBQVQsQ0FBbEIsQ0FBQTtRQUNBLE1BQU03RixDQUFDLEdBQUcwRixRQUFRLENBQUNHLENBQUMsR0FBRyxDQUFKLEdBQVEsQ0FBVCxDQUFsQixDQUFBO1FBQ0EsSUFBSWpHLENBQUMsR0FBR3FELEdBQUcsQ0FBQ3JELENBQVosRUFBZXFELEdBQUcsQ0FBQ3JELENBQUosR0FBUUEsQ0FBUixDQUFBO1FBQ2YsSUFBSUUsQ0FBQyxHQUFHbUQsR0FBRyxDQUFDbkQsQ0FBWixFQUFlbUQsR0FBRyxDQUFDbkQsQ0FBSixHQUFRQSxDQUFSLENBQUE7UUFDZixJQUFJRSxDQUFDLEdBQUdpRCxHQUFHLENBQUNqRCxDQUFaLEVBQWVpRCxHQUFHLENBQUNqRCxDQUFKLEdBQVFBLENBQVIsQ0FBQTtRQUNmLElBQUlKLENBQUMsR0FBR3VELEdBQUcsQ0FBQ3ZELENBQVosRUFBZXVELEdBQUcsQ0FBQ3ZELENBQUosR0FBUUEsQ0FBUixDQUFBO1FBQ2YsSUFBSUUsQ0FBQyxHQUFHcUQsR0FBRyxDQUFDckQsQ0FBWixFQUFlcUQsR0FBRyxDQUFDckQsQ0FBSixHQUFRQSxDQUFSLENBQUE7UUFDZixJQUFJRSxDQUFDLEdBQUdtRCxHQUFHLENBQUNuRCxDQUFaLEVBQWVtRCxHQUFHLENBQUNuRCxDQUFKLEdBQVFBLENBQVIsQ0FBQTtBQUNsQixPQUFBO0FBQ0osS0FBQTtBQUNKLEdBQUE7O0FBVUQ4RixFQUFBQSxPQUFPLENBQUNKLFFBQUQsRUFBV0MsUUFBWCxFQUFxQjtJQUN4QjdHLFdBQVcsQ0FBQzJHLGFBQVosQ0FBMEJDLFFBQTFCLEVBQW9DbEgsT0FBcEMsRUFBNkNFLE9BQTdDLEVBQXNEaUgsUUFBdEQsQ0FBQSxDQUFBO0FBQ0EsSUFBQSxJQUFBLENBQUt6QixTQUFMLENBQWUxRixPQUFmLEVBQXdCRSxPQUF4QixDQUFBLENBQUE7QUFDSCxHQUFBOztFQVNEcUgsd0JBQXdCLENBQUNDLE1BQUQsRUFBUztBQUM3QixJQUFBLE1BQU1DLEVBQUUsR0FBRyxJQUFBLENBQUtDLDJCQUFMLENBQWlDRixNQUFqQyxDQUFYLENBQUE7O0lBQ0EsSUFBSUMsRUFBRSxJQUFJRCxNQUFNLENBQUNHLE1BQVAsR0FBZ0JILE1BQU0sQ0FBQ0csTUFBakMsRUFBeUM7QUFDckMsTUFBQSxPQUFPLElBQVAsQ0FBQTtBQUNILEtBQUE7O0FBRUQsSUFBQSxPQUFPLEtBQVAsQ0FBQTtBQUNILEdBQUE7O0VBRURELDJCQUEyQixDQUFDRixNQUFELEVBQVM7QUFDaEMsSUFBQSxNQUFNSSxNQUFNLEdBQUcsSUFBS3BFLENBQUFBLE1BQUwsRUFBZixDQUFBO0FBQ0EsSUFBQSxNQUFNcUUsTUFBTSxHQUFHLElBQUt2RSxDQUFBQSxNQUFMLEVBQWYsQ0FBQTtJQUVBLElBQUltRSxFQUFFLEdBQUcsQ0FBVCxDQUFBO0lBQ0EsTUFBTUssSUFBSSxHQUFHLENBQUMsR0FBRCxFQUFNLEdBQU4sRUFBVyxHQUFYLENBQWIsQ0FBQTs7SUFFQSxLQUFLLElBQUlULENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsQ0FBcEIsRUFBdUIsRUFBRUEsQ0FBekIsRUFBNEI7TUFDeEIsSUFBSVUsR0FBRyxHQUFHLENBQVYsQ0FBQTtNQUNBLE1BQU1DLEVBQUUsR0FBR1IsTUFBTSxDQUFDaEgsTUFBUCxDQUFjc0gsSUFBSSxDQUFDVCxDQUFELENBQWxCLENBQVgsQ0FBQTtNQUNBLE1BQU0zRCxJQUFJLEdBQUdrRSxNQUFNLENBQUNFLElBQUksQ0FBQ1QsQ0FBRCxDQUFMLENBQW5CLENBQUE7TUFDQSxNQUFNNUQsSUFBSSxHQUFHb0UsTUFBTSxDQUFDQyxJQUFJLENBQUNULENBQUQsQ0FBTCxDQUFuQixDQUFBO01BQ0EsSUFBSVksR0FBRyxHQUFHLENBQVYsQ0FBQTs7TUFFQSxJQUFJRCxFQUFFLEdBQUd0RSxJQUFULEVBQWU7UUFDWHVFLEdBQUcsR0FBSXZFLElBQUksR0FBR3NFLEVBQWQsQ0FBQTtRQUNBRCxHQUFHLElBQUlFLEdBQUcsR0FBR0EsR0FBYixDQUFBO0FBQ0gsT0FBQTs7TUFFRCxJQUFJRCxFQUFFLEdBQUd2RSxJQUFULEVBQWU7UUFDWHdFLEdBQUcsR0FBSUQsRUFBRSxHQUFHdkUsSUFBWixDQUFBO1FBQ0FzRSxHQUFHLElBQUlFLEdBQUcsR0FBR0EsR0FBYixDQUFBO0FBQ0gsT0FBQTs7QUFFRFIsTUFBQUEsRUFBRSxJQUFJTSxHQUFOLENBQUE7QUFDSCxLQUFBOztBQUVELElBQUEsT0FBT04sRUFBUCxDQUFBO0FBQ0gsR0FBQTs7QUFFRFMsRUFBQUEsT0FBTyxDQUFDQyxTQUFELEVBQVlDLFNBQVosRUFBdUI7QUFDMUJwSSxJQUFBQSxPQUFPLENBQUMyRixJQUFSLENBQWEsS0FBS25DLE1BQUwsRUFBYixFQUE0QjJFLFNBQTVCLENBQUEsQ0FBQTtBQUNBakksSUFBQUEsT0FBTyxDQUFDeUYsSUFBUixDQUFhLEtBQUtyQyxNQUFMLEVBQWIsRUFBNEI4RSxTQUE1QixDQUFBLENBQUE7QUFDQSxJQUFBLElBQUEsQ0FBSzFDLFNBQUwsQ0FBZTFGLE9BQWYsRUFBd0JFLE9BQXhCLENBQUEsQ0FBQTtBQUNILEdBQUE7O0FBeGFhOzs7OyJ9
