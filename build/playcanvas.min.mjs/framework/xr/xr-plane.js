import{EventHandler as t}from"../../core/event-handler.js";import{Quat as i}from"../../core/math/quat.js";import{Vec3 as e}from"../../core/math/vec3.js";let o=0;class n extends t{constructor(t,n){super(),this._id=void 0,this._planeDetection=void 0,this._xrPlane=void 0,this._lastChangedTime=void 0,this._orientation=void 0,this._position=new e,this._rotation=new i,this._id=++o,this._planeDetection=t,this._xrPlane=n,this._lastChangedTime=n.lastChangedTime,this._orientation=n.orientation}destroy(){this.fire("remove")}update(t){const i=this._planeDetection._manager,e=t.getPose(this._xrPlane.planeSpace,i._referenceSpace);e&&(this._position.copy(e.transform.position),this._rotation.copy(e.transform.orientation)),this._lastChangedTime!==this._xrPlane.lastChangedTime&&(this._lastChangedTime=this._xrPlane.lastChangedTime,this.fire("change"))}getPosition(){return this._position}getRotation(){return this._rotation}get id(){return this._id}get orientation(){return this._orientation}get points(){return this._xrPlane.polygon}}export{n as XrPlane};
