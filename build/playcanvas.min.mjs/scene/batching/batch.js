import{BoundingBox as s}from"../../core/shape/bounding-box.js";class e{constructor(e,t,a){this._aabb=new s,this.origMeshInstances=void 0,this.meshInstance=null,this.dynamic=void 0,this.batchGroupId=void 0,this.origMeshInstances=e,this.dynamic=t,this.batchGroupId=a}destroy(s,e){this.meshInstance&&(this.removeFromLayers(s,e),this.meshInstance.destroy(),this.meshInstance=null)}addToLayers(s,e){for(let t=0;t<e.length;t++){const a=s.layers.getLayerById(e[t]);a&&a.addMeshInstances([this.meshInstance])}}removeFromLayers(s,e){for(let t=0;t<e.length;t++){const a=s.layers.getLayerById(e[t]);a&&a.removeMeshInstances([this.meshInstance])}}updateBoundingBox(){this._aabb.copy(this.origMeshInstances[0].aabb);for(let s=1;s<this.origMeshInstances.length;s++)this._aabb.add(this.origMeshInstances[s].aabb);this.meshInstance.aabb=this._aabb,this.meshInstance._aabbVer=0}}export{e as Batch};
