/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { AnimTargetValue } from './anim-target-value.js';

class AnimEvaluator {
  constructor(binder) {
    this._binder = binder;
    this._clips = [];
    this._inputs = [];
    this._outputs = [];
    this._targets = {};
  }

  get clips() {
    return this._clips;
  }

  static _dot(a, b) {
    const len = a.length;
    let result = 0;

    for (let i = 0; i < len; ++i) {
      result += a[i] * b[i];
    }

    return result;
  }

  static _normalize(a) {
    let l = AnimEvaluator._dot(a, a);

    if (l > 0) {
      l = 1.0 / Math.sqrt(l);
      const len = a.length;

      for (let i = 0; i < len; ++i) {
        a[i] *= l;
      }
    }
  }

  static _set(a, b, type) {
    const len = a.length;

    if (type === 'quaternion') {
      let l = AnimEvaluator._dot(b, b);

      if (l > 0) {
        l = 1.0 / Math.sqrt(l);
      }

      for (let i = 0; i < len; ++i) {
        a[i] = b[i] * l;
      }
    } else {
      for (let i = 0; i < len; ++i) {
        a[i] = b[i];
      }
    }
  }

  static _blendVec(a, b, t, additive) {
    const it = additive ? 1.0 : 1.0 - t;
    const len = a.length;

    for (let i = 0; i < len; ++i) {
      a[i] = a[i] * it + b[i] * t;
    }
  }

  static _blendQuat(a, b, t, additive) {
    const len = a.length;
    const it = additive ? 1.0 : 1.0 - t;

    if (AnimEvaluator._dot(a, b) < 0) {
      t = -t;
    }

    for (let i = 0; i < len; ++i) {
      a[i] = a[i] * it + b[i] * t;
    }

    if (!additive) {
      AnimEvaluator._normalize(a);
    }
  }

  static _blend(a, b, t, type, additive) {
    if (type === 'quaternion') {
      AnimEvaluator._blendQuat(a, b, t, additive);
    } else {
      AnimEvaluator._blendVec(a, b, t, additive);
    }
  }

  static _stableSort(a, lessFunc) {
    const len = a.length;

    for (let i = 0; i < len - 1; ++i) {
      for (let j = i + 1; j < len; ++j) {
        if (lessFunc(a[j], a[i])) {
          const tmp = a[i];
          a[i] = a[j];
          a[j] = tmp;
        }
      }
    }
  }

  addClip(clip) {
    const targets = this._targets;
    const binder = this._binder;
    const curves = clip.track.curves;
    const snapshot = clip.snapshot;
    const inputs = [];
    const outputs = [];

    for (let i = 0; i < curves.length; ++i) {
      const curve = curves[i];
      const paths = curve.paths;

      for (let j = 0; j < paths.length; ++j) {
        const path = paths[j];
        const resolved = binder.resolve(path);
        let target = targets[resolved && resolved.targetPath || null];

        if (!target && resolved) {
          target = {
            target: resolved,
            value: [],
            curves: 0,
            blendCounter: 0
          };

          for (let k = 0; k < target.target.components; ++k) {
            target.value.push(0);
          }

          targets[resolved.targetPath] = target;

          if (binder.animComponent) {
            if (!binder.animComponent.targets[resolved.targetPath]) {
              let type;

              if (resolved.targetPath.substring(resolved.targetPath.length - 13) === 'localRotation') {
                type = AnimTargetValue.TYPE_QUAT;
              } else {
                type = AnimTargetValue.TYPE_VEC3;
              }

              binder.animComponent.targets[resolved.targetPath] = new AnimTargetValue(binder.animComponent, type);
            }

            binder.animComponent.targets[resolved.targetPath].layerCounter++;
            binder.animComponent.targets[resolved.targetPath].setMask(binder.layerIndex, 1);
          }
        }

        if (target) {
          target.curves++;
          inputs.push(snapshot._results[i]);
          outputs.push(target);
        }
      }
    }

    this._clips.push(clip);

    this._inputs.push(inputs);

    this._outputs.push(outputs);
  }

  removeClip(index) {
    const targets = this._targets;
    const binder = this._binder;
    const clips = this._clips;
    const clip = clips[index];
    const curves = clip.track.curves;

    for (let i = 0; i < curves.length; ++i) {
      const curve = curves[i];
      const paths = curve.paths;

      for (let j = 0; j < paths.length; ++j) {
        const path = paths[j];

        const target = this._binder.resolve(path);

        if (target) {
          target.curves--;

          if (target.curves === 0) {
            binder.unresolve(path);
            delete targets[target.targetPath];

            if (binder.animComponent) {
              binder.animComponent.targets[target.targetPath].layerCounter--;
            }
          }
        }
      }
    }

    clips.splice(index, 1);

    this._inputs.splice(index, 1);

    this._outputs.splice(index, 1);
  }

  removeClips() {
    while (this._clips.length > 0) {
      this.removeClip(0);
    }
  }

  findClip(name) {
    const clips = this._clips;

    for (let i = 0; i < clips.length; ++i) {
      const clip = clips[i];

      if (clip.name === name) {
        return clip;
      }
    }

    return null;
  }

  rebind() {
    this._binder.rebind();

    this._targets = {};
    const clips = [...this.clips];
    this.removeClips();
    clips.forEach(clip => {
      this.addClip(clip);
    });
  }

  assignMask(mask) {
    return this._binder.assignMask(mask);
  }

  update(deltaTime) {
    const clips = this._clips;
    const order = clips.map(function (c, i) {
      return i;
    });

    AnimEvaluator._stableSort(order, function (a, b) {
      return clips[a].blendOrder < clips[b].blendOrder;
    });

    for (let i = 0; i < order.length; ++i) {
      const index = order[i];
      const clip = clips[index];
      const inputs = this._inputs[index];
      const outputs = this._outputs[index];
      const blendWeight = clip.blendWeight;

      if (blendWeight > 0.0) {
        clip._update(deltaTime);
      }

      let input;
      let output;
      let value;

      if (blendWeight >= 1.0) {
        for (let j = 0; j < inputs.length; ++j) {
          input = inputs[j];
          output = outputs[j];
          value = output.value;

          AnimEvaluator._set(value, input, output.target.type);

          output.blendCounter++;
        }
      } else if (blendWeight > 0.0) {
        for (let j = 0; j < inputs.length; ++j) {
          input = inputs[j];
          output = outputs[j];
          value = output.value;

          if (output.blendCounter === 0) {
            AnimEvaluator._set(value, input, output.target.type);
          } else {
            AnimEvaluator._blend(value, input, blendWeight, output.target.type);
          }

          output.blendCounter++;
        }
      }
    }

    const targets = this._targets;
    const binder = this._binder;

    for (const path in targets) {
      if (targets.hasOwnProperty(path)) {
        const target = targets[path];

        if (binder.animComponent && target.target.isTransform) {
          const animTarget = binder.animComponent.targets[path];

          if (animTarget.counter === animTarget.layerCounter) {
            animTarget.counter = 0;
          }

          if (!animTarget.path) {
            animTarget.path = path;
            animTarget.baseValue = target.target.get();
            animTarget.setter = target.target.set;
          }

          animTarget.updateValue(binder.layerIndex, target.value);
          animTarget.counter++;
        } else {
          target.target.set(target.value);
        }

        target.blendCounter = 0;
      }
    }

    binder.update(deltaTime);
  }

}

export { AnimEvaluator };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbS1ldmFsdWF0b3IuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hbmltL2V2YWx1YXRvci9hbmltLWV2YWx1YXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltVGFyZ2V0VmFsdWUgfSBmcm9tICcuL2FuaW0tdGFyZ2V0LXZhbHVlLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2JpbmRlci9hbmltLWJpbmRlci5qcycpLkFuaW1CaW5kZXJ9IEFuaW1CaW5kZXIgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2FuaW0tY2xpcC5qcycpLkFuaW1DbGlwfSBBbmltQ2xpcCAqL1xuXG4vKipcbiAqIEFuaW1FdmFsdWF0b3IgYmxlbmRzIG11bHRpcGxlIHNldHMgb2YgYW5pbWF0aW9uIGNsaXBzIHRvZ2V0aGVyLlxuICpcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgQW5pbUV2YWx1YXRvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGFuaW1hdGlvbiBldmFsdWF0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FuaW1CaW5kZXJ9IGJpbmRlciAtIGludGVyZmFjZSByZXNvbHZlcyBjdXJ2ZSBwYXRocyB0byBpbnN0YW5jZXMgb2Yge0BsaW5rIEFuaW1UYXJnZXR9LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJpbmRlcikge1xuICAgICAgICB0aGlzLl9iaW5kZXIgPSBiaW5kZXI7XG4gICAgICAgIHRoaXMuX2NsaXBzID0gW107XG4gICAgICAgIHRoaXMuX2lucHV0cyA9IFtdO1xuICAgICAgICB0aGlzLl9vdXRwdXRzID0gW107XG4gICAgICAgIHRoaXMuX3RhcmdldHMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBhbmltYXRpb24gY2xpcHMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7QW5pbUNsaXBbXX1cbiAgICAgKi9cbiAgICBnZXQgY2xpcHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGlwcztcbiAgICB9XG5cbiAgICBzdGF0aWMgX2RvdChhLCBiKSB7XG4gICAgICAgIGNvbnN0IGxlbiAgPSBhLmxlbmd0aDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBhW2ldICogYltpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHN0YXRpYyBfbm9ybWFsaXplKGEpIHtcbiAgICAgICAgbGV0IGwgPSBBbmltRXZhbHVhdG9yLl9kb3QoYSwgYSk7XG4gICAgICAgIGlmIChsID4gMCkge1xuICAgICAgICAgICAgbCA9IDEuMCAvIE1hdGguc3FydChsKTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IGEubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgIGFbaV0gKj0gbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfc2V0KGEsIGIsIHR5cGUpIHtcbiAgICAgICAgY29uc3QgbGVuICA9IGEubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAncXVhdGVybmlvbicpIHtcbiAgICAgICAgICAgIGxldCBsID0gQW5pbUV2YWx1YXRvci5fZG90KGIsIGIpO1xuICAgICAgICAgICAgaWYgKGwgPiAwKSB7XG4gICAgICAgICAgICAgICAgbCA9IDEuMCAvIE1hdGguc3FydChsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBhW2ldID0gYltpXSAqIGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgX2JsZW5kVmVjKGEsIGIsIHQsIGFkZGl0aXZlKSB7XG4gICAgICAgIGNvbnN0IGl0ID0gYWRkaXRpdmUgPyAxLjAgOiAxLjAgLSB0O1xuICAgICAgICBjb25zdCBsZW4gPSBhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgYVtpXSA9IGFbaV0gKiBpdCArIGJbaV0gKiB0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIF9ibGVuZFF1YXQoYSwgYiwgdCwgYWRkaXRpdmUpIHtcbiAgICAgICAgY29uc3QgbGVuID0gYS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGl0ID0gYWRkaXRpdmUgPyAxLjAgOiAxLjAgLSB0O1xuXG4gICAgICAgIC8vIG5lZ2F0ZSBiIGlmIGEgYW5kIGIgZG9uJ3QgbGllIGluIHRoZSBzYW1lIHdpbmRpbmcgKGR1ZSB0b1xuICAgICAgICAvLyBkb3VibGUgY292ZXIpLiBpZiB3ZSBkb24ndCBkbyB0aGlzIHRoZW4gb2Z0ZW4gcm90YXRpb25zIGZyb21cbiAgICAgICAgLy8gb25lIG9yaWVudGF0aW9uIHRvIGFub3RoZXIgZ28gdGhlIGxvbmcgd2F5IGFyb3VuZC5cbiAgICAgICAgaWYgKEFuaW1FdmFsdWF0b3IuX2RvdChhLCBiKSA8IDApIHtcbiAgICAgICAgICAgIHQgPSAtdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIGFbaV0gPSBhW2ldICogaXQgKyBiW2ldICogdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYWRkaXRpdmUpIHtcbiAgICAgICAgICAgIEFuaW1FdmFsdWF0b3IuX25vcm1hbGl6ZShhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfYmxlbmQoYSwgYiwgdCwgdHlwZSwgYWRkaXRpdmUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdxdWF0ZXJuaW9uJykge1xuICAgICAgICAgICAgQW5pbUV2YWx1YXRvci5fYmxlbmRRdWF0KGEsIGIsIHQsIGFkZGl0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEFuaW1FdmFsdWF0b3IuX2JsZW5kVmVjKGEsIGIsIHQsIGFkZGl0aXZlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfc3RhYmxlU29ydChhLCBsZXNzRnVuYykge1xuICAgICAgICBjb25zdCBsZW4gPSBhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGxlbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxlc3NGdW5jKGFbal0sIGFbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IGFbaV07XG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSBhW2pdO1xuICAgICAgICAgICAgICAgICAgICBhW2pdID0gdG1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNsaXAgdG8gdGhlIGV2YWx1YXRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QW5pbUNsaXB9IGNsaXAgLSBUaGUgY2xpcCB0byBhZGQgdG8gdGhlIGV2YWx1YXRvci5cbiAgICAgKi9cbiAgICBhZGRDbGlwKGNsaXApIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMuX3RhcmdldHM7XG4gICAgICAgIGNvbnN0IGJpbmRlciA9IHRoaXMuX2JpbmRlcjtcblxuICAgICAgICAvLyBzdG9yZSBsaXN0IG9mIGlucHV0L291dHB1dCBhcnJheXNcbiAgICAgICAgY29uc3QgY3VydmVzID0gY2xpcC50cmFjay5jdXJ2ZXM7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gY2xpcC5zbmFwc2hvdDtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gW107XG4gICAgICAgIGNvbnN0IG91dHB1dHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJ2ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnZlID0gY3VydmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBjdXJ2ZS5wYXRocztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGF0aHMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcGF0aHNbal07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBiaW5kZXIucmVzb2x2ZShwYXRoKTtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGFyZ2V0c1tyZXNvbHZlZCAmJiByZXNvbHZlZC50YXJnZXRQYXRoIHx8IG51bGxdO1xuXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIG5ldyB0YXJnZXQgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXRcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldCAmJiByZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlc29sdmVkLCAgICAgICAgICAgLy8gcmVzb2x2ZWQgdGFyZ2V0IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogW10sICAgICAgICAgICAgICAgICAgLy8gc3RvcmFnZSBmb3IgY2FsY3VsYXRlZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VydmVzOiAwLCAgICAgICAgICAgICAgICAgIC8vIG51bWJlciBvZiBjdXJ2ZXMgZHJpdmluZyB0aGlzIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgYmxlbmRDb3VudGVyOiAwICAgICAgICAgICAgIC8vIHBlci1mcmFtZSBudW1iZXIgb2YgYmxlbmRzICh1c2VkIHRvIGlkZW50aWZ5IGZpcnN0IGJsZW5kKVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGFyZ2V0LnRhcmdldC5jb21wb25lbnRzOyArK2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC52YWx1ZS5wdXNoKDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1tyZXNvbHZlZC50YXJnZXRQYXRoXSA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRlci5hbmltQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJpbmRlci5hbmltQ29tcG9uZW50LnRhcmdldHNbcmVzb2x2ZWQudGFyZ2V0UGF0aF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQudGFyZ2V0UGF0aC5zdWJzdHJpbmcocmVzb2x2ZWQudGFyZ2V0UGF0aC5sZW5ndGggLSAxMykgPT09ICdsb2NhbFJvdGF0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gQW5pbVRhcmdldFZhbHVlLlRZUEVfUVVBVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gQW5pbVRhcmdldFZhbHVlLlRZUEVfVkVDMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZGVyLmFuaW1Db21wb25lbnQudGFyZ2V0c1tyZXNvbHZlZC50YXJnZXRQYXRoXSA9IG5ldyBBbmltVGFyZ2V0VmFsdWUoYmluZGVyLmFuaW1Db21wb25lbnQsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYmluZGVyLmFuaW1Db21wb25lbnQudGFyZ2V0c1tyZXNvbHZlZC50YXJnZXRQYXRoXS5sYXllckNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRlci5hbmltQ29tcG9uZW50LnRhcmdldHNbcmVzb2x2ZWQudGFyZ2V0UGF0aF0uc2V0TWFzayhiaW5kZXIubGF5ZXJJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBiaW5kaW5nIG1heSBoYXZlIGZhaWxlZFxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGl0IG1heSBiZSB3b3J0aCBzdG9yaW5nIHF1YXRlcm5pb25zIGFuZCB2ZWN0b3IgdGFyZ2V0cyBpbiBzZXBhcmF0ZVxuICAgICAgICAgICAgICAgIC8vIGxpc3RzLiB0aGlzIHdheSB0aGUgdXBkYXRlIGNvZGUgd29uJ3QgYmUgZm9yY2VkIHRvIGNoZWNrIHRhcmdldCB0eXBlIGJlZm9yZVxuICAgICAgICAgICAgICAgIC8vIHNldHRpbmcvYmxlbmRpbmcgZWFjaCB0YXJnZXQuXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY3VydmVzKys7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0cy5wdXNoKHNuYXBzaG90Ll9yZXN1bHRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0cy5wdXNoKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2xpcHMucHVzaChjbGlwKTtcbiAgICAgICAgdGhpcy5faW5wdXRzLnB1c2goaW5wdXRzKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0cy5wdXNoKG91dHB1dHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNsaXAgZnJvbSB0aGUgZXZhbHVhdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGNsaXAgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHJlbW92ZUNsaXAoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMuX3RhcmdldHM7XG4gICAgICAgIGNvbnN0IGJpbmRlciA9IHRoaXMuX2JpbmRlcjtcblxuICAgICAgICBjb25zdCBjbGlwcyA9IHRoaXMuX2NsaXBzO1xuICAgICAgICBjb25zdCBjbGlwID0gY2xpcHNbaW5kZXhdO1xuICAgICAgICBjb25zdCBjdXJ2ZXMgPSBjbGlwLnRyYWNrLmN1cnZlcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnZlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY3VydmUgPSBjdXJ2ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYXRocyA9IGN1cnZlLnBhdGhzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXRocy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBwYXRoc1tqXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2JpbmRlci5yZXNvbHZlKHBhdGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY3VydmVzLS07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY3VydmVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kZXIudW5yZXNvbHZlKHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldHNbdGFyZ2V0LnRhcmdldFBhdGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRlci5hbmltQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZGVyLmFuaW1Db21wb25lbnQudGFyZ2V0c1t0YXJnZXQudGFyZ2V0UGF0aF0ubGF5ZXJDb3VudGVyLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjbGlwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9pbnB1dHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgY2xpcHMgZnJvbSB0aGUgZXZhbHVhdG9yLlxuICAgICAqL1xuICAgIHJlbW92ZUNsaXBzKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5fY2xpcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDbGlwKDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgY2xpcCB3aGljaCBtYXRjaGVzIHRoZSBnaXZlbiBuYW1lLCBvciBudWxsIGlmIG5vIHN1Y2ggY2xpcCB3YXMgZm91bmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIGNsaXAgdG8gZmluZC5cbiAgICAgKiBAcmV0dXJucyB7QW5pbUNsaXB8bnVsbH0gLSBUaGUgY2xpcCB3aXRoIHRoZSBnaXZlbiBuYW1lIG9yIG51bGwgaWYgbm8gc3VjaCBjbGlwIHdhcyBmb3VuZC5cbiAgICAgKi9cbiAgICBmaW5kQ2xpcChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGNsaXBzID0gdGhpcy5fY2xpcHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaXAgPSBjbGlwc1tpXTtcbiAgICAgICAgICAgIGlmIChjbGlwLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xpcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZWJpbmQoKSB7XG4gICAgICAgIHRoaXMuX2JpbmRlci5yZWJpbmQoKTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0cyA9IHt9O1xuICAgICAgICBjb25zdCBjbGlwcyA9IFsuLi50aGlzLmNsaXBzXTtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGlwcygpO1xuICAgICAgICBjbGlwcy5mb3JFYWNoKChjbGlwKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZENsaXAoY2xpcCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzc2lnbk1hc2sobWFzaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGVyLmFzc2lnbk1hc2sobWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZhbHVhdG9yIGZyYW1lIHVwZGF0ZSBmdW5jdGlvbi4gQWxsIHRoZSBhdHRhY2hlZCB7QGxpbmsgQW5pbUNsaXB9cyBhcmUgZXZhbHVhdGVkLCBibGVuZGVkXG4gICAgICogYW5kIHRoZSByZXN1bHRzIHNldCBvbiB0aGUge0BsaW5rIEFuaW1UYXJnZXR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhcyBwYXNzZWQgc2luY2UgdGhlIGxhc3QgdXBkYXRlLCBpblxuICAgICAqIHNlY29uZHMuXG4gICAgICovXG4gICAgdXBkYXRlKGRlbHRhVGltZSkge1xuICAgICAgICAvLyBjb3B5IGNsaXBzXG4gICAgICAgIGNvbnN0IGNsaXBzID0gdGhpcy5fY2xpcHM7XG5cbiAgICAgICAgLy8gc3RhYmxlIHNvcnQgb3JkZXJcbiAgICAgICAgY29uc3Qgb3JkZXIgPSBjbGlwcy5tYXAoZnVuY3Rpb24gKGMsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9KTtcbiAgICAgICAgQW5pbUV2YWx1YXRvci5fc3RhYmxlU29ydChvcmRlciwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGlwc1thXS5ibGVuZE9yZGVyIDwgY2xpcHNbYl0uYmxlbmRPcmRlcjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBvcmRlcltpXTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXAgPSBjbGlwc1tpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpbnB1dHMgPSB0aGlzLl9pbnB1dHNbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0cyA9IHRoaXMuX291dHB1dHNbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgYmxlbmRXZWlnaHQgPSBjbGlwLmJsZW5kV2VpZ2h0O1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgY2xpcFxuICAgICAgICAgICAgaWYgKGJsZW5kV2VpZ2h0ID4gMC4wKSB7XG4gICAgICAgICAgICAgICAgY2xpcC5fdXBkYXRlKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpbnB1dDtcbiAgICAgICAgICAgIGxldCBvdXRwdXQ7XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChibGVuZFdlaWdodCA+PSAxLjApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGlucHV0cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvdXRwdXQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgQW5pbUV2YWx1YXRvci5fc2V0KHZhbHVlLCBpbnB1dCwgb3V0cHV0LnRhcmdldC50eXBlKTtcblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuYmxlbmRDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChibGVuZFdlaWdodCA+IDAuMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5wdXRzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXRzW2pdO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXRzW2pdO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG91dHB1dC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3V0cHV0LmJsZW5kQ291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQW5pbUV2YWx1YXRvci5fc2V0KHZhbHVlLCBpbnB1dCwgb3V0cHV0LnRhcmdldC50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFuaW1FdmFsdWF0b3IuX2JsZW5kKHZhbHVlLCBpbnB1dCwgYmxlbmRXZWlnaHQsIG91dHB1dC50YXJnZXQudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuYmxlbmRDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwbHkgcmVzdWx0IHRvIGFuaW0gdGFyZ2V0c1xuICAgICAgICBjb25zdCB0YXJnZXRzID0gdGhpcy5fdGFyZ2V0cztcbiAgICAgICAgY29uc3QgYmluZGVyID0gdGhpcy5fYmluZGVyO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGggaW4gdGFyZ2V0cykge1xuICAgICAgICAgICAgaWYgKHRhcmdldHMuaGFzT3duUHJvcGVydHkocGF0aCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRzW3BhdGhdO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgZXZhbHVhdG9yIGlzIGFzc29jaWF0ZWQgd2l0aCBhbiBhbmltIGNvbXBvbmVudCB0aGVuIHdlIHNob3VsZCBibGVuZCB0aGUgcmVzdWx0IG9mIHRoaXMgZXZhbHVhdG9yIHdpdGggYWxsIG90aGVyIGFuaW0gbGF5ZXIncyBldmFsdWF0b3JzXG4gICAgICAgICAgICAgICAgaWYgKGJpbmRlci5hbmltQ29tcG9uZW50ICYmIHRhcmdldC50YXJnZXQuaXNUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbVRhcmdldCA9IGJpbmRlci5hbmltQ29tcG9uZW50LnRhcmdldHNbcGF0aF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltVGFyZ2V0LmNvdW50ZXIgPT09IGFuaW1UYXJnZXQubGF5ZXJDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltVGFyZ2V0LmNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5pbVRhcmdldC5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltVGFyZ2V0LnBhdGggPSBwYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbVRhcmdldC5iYXNlVmFsdWUgPSB0YXJnZXQudGFyZ2V0LmdldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbVRhcmdldC5zZXR0ZXIgPSB0YXJnZXQudGFyZ2V0LnNldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhpcyBsYXllcidzIHZhbHVlIG9udG8gdGhlIHRhcmdldCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBhbmltVGFyZ2V0LnVwZGF0ZVZhbHVlKGJpbmRlci5sYXllckluZGV4LCB0YXJnZXQudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGFuaW1UYXJnZXQuY291bnRlcisrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC50YXJnZXQuc2V0KHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhcmdldC5ibGVuZENvdW50ZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2l2ZSB0aGUgYmluZGVyIGFuIG9wcG9ydHVuaXR5IHRvIHVwZGF0ZSBpdHNlbGZcbiAgICAgICAgLy8gVE9ETzogaXMgdGhpcyBldmVuIG5lY2Vzc2FyeT8gYmluZGVyIGNvdWxkIGtub3cgd2hlbiB0byB1cGRhdGVcbiAgICAgICAgLy8gaXRzZWxmIHdpdGhvdXQgb3VyIGhlbHAuXG4gICAgICAgIGJpbmRlci51cGRhdGUoZGVsdGFUaW1lKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEFuaW1FdmFsdWF0b3IgfTtcbiJdLCJuYW1lcyI6WyJBbmltRXZhbHVhdG9yIiwiY29uc3RydWN0b3IiLCJiaW5kZXIiLCJfYmluZGVyIiwiX2NsaXBzIiwiX2lucHV0cyIsIl9vdXRwdXRzIiwiX3RhcmdldHMiLCJjbGlwcyIsIl9kb3QiLCJhIiwiYiIsImxlbiIsImxlbmd0aCIsInJlc3VsdCIsImkiLCJfbm9ybWFsaXplIiwibCIsIk1hdGgiLCJzcXJ0IiwiX3NldCIsInR5cGUiLCJfYmxlbmRWZWMiLCJ0IiwiYWRkaXRpdmUiLCJpdCIsIl9ibGVuZFF1YXQiLCJfYmxlbmQiLCJfc3RhYmxlU29ydCIsImxlc3NGdW5jIiwiaiIsInRtcCIsImFkZENsaXAiLCJjbGlwIiwidGFyZ2V0cyIsImN1cnZlcyIsInRyYWNrIiwic25hcHNob3QiLCJpbnB1dHMiLCJvdXRwdXRzIiwiY3VydmUiLCJwYXRocyIsInBhdGgiLCJyZXNvbHZlZCIsInJlc29sdmUiLCJ0YXJnZXQiLCJ0YXJnZXRQYXRoIiwidmFsdWUiLCJibGVuZENvdW50ZXIiLCJrIiwiY29tcG9uZW50cyIsInB1c2giLCJhbmltQ29tcG9uZW50Iiwic3Vic3RyaW5nIiwiQW5pbVRhcmdldFZhbHVlIiwiVFlQRV9RVUFUIiwiVFlQRV9WRUMzIiwibGF5ZXJDb3VudGVyIiwic2V0TWFzayIsImxheWVySW5kZXgiLCJfcmVzdWx0cyIsInJlbW92ZUNsaXAiLCJpbmRleCIsInVucmVzb2x2ZSIsInNwbGljZSIsInJlbW92ZUNsaXBzIiwiZmluZENsaXAiLCJuYW1lIiwicmViaW5kIiwiZm9yRWFjaCIsImFzc2lnbk1hc2siLCJtYXNrIiwidXBkYXRlIiwiZGVsdGFUaW1lIiwib3JkZXIiLCJtYXAiLCJjIiwiYmxlbmRPcmRlciIsImJsZW5kV2VpZ2h0IiwiX3VwZGF0ZSIsImlucHV0Iiwib3V0cHV0IiwiaGFzT3duUHJvcGVydHkiLCJpc1RyYW5zZm9ybSIsImFuaW1UYXJnZXQiLCJjb3VudGVyIiwiYmFzZVZhbHVlIiwiZ2V0Iiwic2V0dGVyIiwic2V0IiwidXBkYXRlVmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFVQSxNQUFNQSxhQUFOLENBQW9CO0VBTWhCQyxXQUFXLENBQUNDLE1BQUQsRUFBUztJQUNoQixJQUFLQyxDQUFBQSxPQUFMLEdBQWVELE1BQWYsQ0FBQTtJQUNBLElBQUtFLENBQUFBLE1BQUwsR0FBYyxFQUFkLENBQUE7SUFDQSxJQUFLQyxDQUFBQSxPQUFMLEdBQWUsRUFBZixDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQixFQUFoQixDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQixFQUFoQixDQUFBO0FBQ0gsR0FBQTs7QUFPUSxFQUFBLElBQUxDLEtBQUssR0FBRztBQUNSLElBQUEsT0FBTyxLQUFLSixNQUFaLENBQUE7QUFDSCxHQUFBOztBQUVVLEVBQUEsT0FB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
