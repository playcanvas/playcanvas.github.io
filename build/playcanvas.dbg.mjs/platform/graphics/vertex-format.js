/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../../core/debug.js';
import { hashCode } from '../../core/hash.js';
import { math } from '../../core/math/math.js';
import { typedArrayTypesByteSize, SEMANTIC_TEXCOORD0, SEMANTIC_TEXCOORD1, SEMANTIC_COLOR, SEMANTIC_TANGENT, SEMANTIC_ATTR12, TYPE_FLOAT32, SEMANTIC_ATTR13, SEMANTIC_ATTR14, SEMANTIC_ATTR15 } from './constants.js';

class VertexFormat {
  constructor(graphicsDevice, description, vertexCount) {
    this._elements = [];
    this.hasUv0 = false;
    this.hasUv1 = false;
    this.hasColor = false;
    this.hasTangents = false;
    this.verticesByteSize = 0;
    this.vertexCount = vertexCount;
    this.interleaved = vertexCount === undefined;

    this.size = description.reduce((total, desc) => {
      return total + Math.ceil(desc.components * typedArrayTypesByteSize[desc.type] / 4) * 4;
    }, 0);
    let offset = 0,
      elementSize;
    for (let i = 0, len = description.length; i < len; i++) {
      const elementDesc = description[i];

      elementSize = elementDesc.components * typedArrayTypesByteSize[elementDesc.type];
      if (vertexCount) {
        offset = math.roundUp(offset, elementSize);

        Debug.assert(elementSize % 4 === 0, `Non-interleaved vertex format with element size not multiple of 4 can have performance impact on some platforms. Element size: ${elementSize}`);
      }
      const element = {
        name: elementDesc.semantic,
        offset: vertexCount ? offset : elementDesc.hasOwnProperty('offset') ? elementDesc.offset : offset,
        stride: vertexCount ? elementSize : elementDesc.hasOwnProperty('stride') ? elementDesc.stride : this.size,
        dataType: elementDesc.type,
        numComponents: elementDesc.components,
        normalize: elementDesc.normalize === undefined ? false : elementDesc.normalize,
        size: elementSize
      };
      this._elements.push(element);
      if (vertexCount) {
        offset += elementSize * vertexCount;
      } else {
        offset += Math.ceil(elementSize / 4) * 4;
      }
      if (elementDesc.semantic === SEMANTIC_TEXCOORD0) {
        this.hasUv0 = true;
      } else if (elementDesc.semantic === SEMANTIC_TEXCOORD1) {
        this.hasUv1 = true;
      } else if (elementDesc.semantic === SEMANTIC_COLOR) {
        this.hasColor = true;
      } else if (elementDesc.semantic === SEMANTIC_TANGENT) {
        this.hasTangents = true;
      }
    }
    if (vertexCount) {
      this.verticesByteSize = offset;
    }
    this._evaluateHash();
  }
  get elements() {
    return this._elements;
  }

  static get defaultInstancingFormat() {
    if (!VertexFormat._defaultInstancingFormat) {
      VertexFormat._defaultInstancingFormat = new VertexFormat(null, [{
        semantic: SEMANTIC_ATTR12,
        components: 4,
        type: TYPE_FLOAT32
      }, {
        semantic: SEMANTIC_ATTR13,
        components: 4,
        type: TYPE_FLOAT32
      }, {
        semantic: SEMANTIC_ATTR14,
        components: 4,
        type: TYPE_FLOAT32
      }, {
        semantic: SEMANTIC_ATTR15,
        components: 4,
        type: TYPE_FLOAT32
      }]);
    }
    return VertexFormat._defaultInstancingFormat;
  }

  _evaluateHash() {
    let stringElementBatch;
    const stringElementsBatch = [];
    let stringElementRender;
    const stringElementsRender = [];
    const len = this._elements.length;
    for (let i = 0; i < len; i++) {
      const element = this._elements[i];

      stringElementBatch = element.name;
      stringElementBatch += element.dataType;
      stringElementBatch += element.numComponents;
      stringElementBatch += element.normalize;
      stringElementsBatch.push(stringElementBatch);

      stringElementRender = stringElementBatch;
      stringElementRender += element.offset;
      stringElementRender += element.stride;
      stringElementRender += element.size;
      stringElementsRender.push(stringElementRender);
    }

    stringElementsBatch.sort();
    this.batchingHash = hashCode(stringElementsBatch.join());

    this.renderingingHashString = stringElementsRender.join('_');
    this.renderingingHash = hashCode(this.renderingingHashString);
  }
}
VertexFormat._defaultInstancingFormat = null;

export { VertexFormat };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGV4LWZvcm1hdC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3BsYXRmb3JtL2dyYXBoaWNzL3ZlcnRleC1mb3JtYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVidWcgfSBmcm9tICcuLi8uLi9jb3JlL2RlYnVnLmpzJztcbmltcG9ydCB7IGhhc2hDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9oYXNoLmpzJztcblxuaW1wb3J0IHsgbWF0aCB9IGZyb20gJy4uLy4uL2NvcmUvbWF0aC9tYXRoLmpzJztcblxuaW1wb3J0IHtcbiAgICBTRU1BTlRJQ19URVhDT09SRDAsIFNFTUFOVElDX1RFWENPT1JEMSwgU0VNQU5USUNfQVRUUjEyLCBTRU1BTlRJQ19BVFRSMTMsIFNFTUFOVElDX0FUVFIxNCwgU0VNQU5USUNfQVRUUjE1LFxuICAgIFNFTUFOVElDX0NPTE9SLCBTRU1BTlRJQ19UQU5HRU5ULCBUWVBFX0ZMT0FUMzIsIHR5cGVkQXJyYXlUeXBlc0J5dGVTaXplXG59IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vZ3JhcGhpY3MtZGV2aWNlLmpzJykuR3JhcGhpY3NEZXZpY2V9IEdyYXBoaWNzRGV2aWNlICovXG5cbi8qKlxuICogQSB2ZXJ0ZXggZm9ybWF0IGlzIGEgZGVzY3JpcHRvciB0aGF0IGRlZmluZXMgdGhlIGxheW91dCBvZiB2ZXJ0ZXggZGF0YSBpbnNpZGUgYVxuICoge0BsaW5rIFZlcnRleEJ1ZmZlcn0uXG4gKlxuICogQHByb3BlcnR5IHtvYmplY3RbXX0gZWxlbWVudHMgVGhlIHZlcnRleCBhdHRyaWJ1dGUgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZWxlbWVudHNbXS5uYW1lIFRoZSBtZWFuaW5nIG9mIHRoZSB2ZXJ0ZXggZWxlbWVudC4gVGhpcyBpcyB1c2VkIHRvIGxpbmsgdGhlXG4gKiB2ZXJ0ZXggZGF0YSB0byBhIHNoYWRlciBpbnB1dC4gQ2FuIGJlOlxuICpcbiAqIC0ge0BsaW5rIFNFTUFOVElDX1BPU0lUSU9OfVxuICogLSB7QGxpbmsgU0VNQU5USUNfTk9STUFMfVxuICogLSB7QGxpbmsgU0VNQU5USUNfVEFOR0VOVH1cbiAqIC0ge0BsaW5rIFNFTUFOVElDX0JMRU5EV0VJR0hUfVxuICogLSB7QGxpbmsgU0VNQU5USUNfQkxFTkRJTkRJQ0VTfVxuICogLSB7QGxpbmsgU0VNQU5USUNfQ09MT1J9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDB9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDF9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDJ9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDN9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDR9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDV9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDZ9XG4gKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDd9XG4gKlxuICogSWYgdmVydGV4IGRhdGEgaGFzIGEgbWVhbmluZyBvdGhlciB0aGF0IG9uZSBvZiB0aG9zZSBsaXN0ZWQgYWJvdmUsIHVzZSB0aGUgdXNlci1kZWZpbmVkXG4gKiBzZW1hbnRpY3M6IHtAbGluayBTRU1BTlRJQ19BVFRSMH0gdG8ge0BsaW5rIFNFTUFOVElDX0FUVFIxNX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudHNbXS5udW1Db21wb25lbnRzIFRoZSBudW1iZXIgb2YgY29tcG9uZW50cyBvZiB0aGUgdmVydGV4IGF0dHJpYnV0ZS5cbiAqIENhbiBiZSAxLCAyLCAzIG9yIDQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudHNbXS5kYXRhVHlwZSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBhdHRyaWJ1dGUuIENhbiBiZTpcbiAqXG4gKiAtIHtAbGluayBUWVBFX0lOVDh9XG4gKiAtIHtAbGluayBUWVBFX1VJTlQ4fVxuICogLSB7QGxpbmsgVFlQRV9JTlQxNn1cbiAqIC0ge0BsaW5rIFRZUEVfVUlOVDE2fVxuICogLSB7QGxpbmsgVFlQRV9JTlQzMn1cbiAqIC0ge0BsaW5rIFRZUEVfVUlOVDMyfVxuICogLSB7QGxpbmsgVFlQRV9GTE9BVDMyfVxuICogQHByb3BlcnR5IHtib29sZWFufSBlbGVtZW50c1tdLm5vcm1hbGl6ZSBJZiB0cnVlLCB2ZXJ0ZXggYXR0cmlidXRlIGRhdGEgd2lsbCBiZSBtYXBwZWQgZnJvbSBhIDBcbiAqIHRvIDI1NSByYW5nZSBkb3duIHRvIDAgdG8gMSB3aGVuIGZlZCB0byBhIHNoYWRlci4gSWYgZmFsc2UsIHZlcnRleCBhdHRyaWJ1dGUgZGF0YSBpcyBsZWZ0XG4gKiB1bmNoYW5nZWQuIElmIHRoaXMgcHJvcGVydHkgaXMgdW5zcGVjaWZpZWQsIGZhbHNlIGlzIGFzc3VtZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudHNbXS5vZmZzZXQgVGhlIG51bWJlciBvZiBpbml0aWFsIGJ5dGVzIGF0IHRoZSBzdGFydCBvZiBhIHZlcnRleCB0aGF0XG4gKiBhcmUgbm90IHJlbGV2YW50IHRvIHRoaXMgYXR0cmlidXRlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVsZW1lbnRzW10uc3RyaWRlIFRoZSBudW1iZXIgb2YgdG90YWwgYnl0ZXMgdGhhdCBhcmUgYmV0d2VlbiB0aGUgc3RhcnQgb2Ygb25lXG4gKiB2ZXJ0ZXgsIGFuZCB0aGUgc3RhcnQgb2YgdGhlIG5leHQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZWxlbWVudHNbXS5zaXplIFRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUgaW4gYnl0ZXMuXG4gKi9cbmNsYXNzIFZlcnRleEZvcm1hdCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFZlcnRleEZvcm1hdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JhcGhpY3NEZXZpY2V9IGdyYXBoaWNzRGV2aWNlIC0gVGhlIGdyYXBoaWNzIGRldmljZSB1c2VkIHRvIG1hbmFnZSB0aGlzIHZlcnRleCBmb3JtYXQuXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gZGVzY3JpcHRpb24gLSBBbiBhcnJheSBvZiB2ZXJ0ZXggYXR0cmlidXRlIGRlc2NyaXB0aW9ucy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb25bXS5zZW1hbnRpYyAtIFRoZSBtZWFuaW5nIG9mIHRoZSB2ZXJ0ZXggZWxlbWVudC4gVGhpcyBpcyB1c2VkIHRvIGxpbmtcbiAgICAgKiB0aGUgdmVydGV4IGRhdGEgdG8gYSBzaGFkZXIgaW5wdXQuIENhbiBiZTpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIFNFTUFOVElDX1BPU0lUSU9OfVxuICAgICAqIC0ge0BsaW5rIFNFTUFOVElDX05PUk1BTH1cbiAgICAgKiAtIHtAbGluayBTRU1BTlRJQ19UQU5HRU5UfVxuICAgICAqIC0ge0BsaW5rIFNFTUFOVElDX0JMRU5EV0VJR0hUfVxuICAgICAqIC0ge0BsaW5rIFNFTUFOVElDX0JMRU5ESU5ESUNFU31cbiAgICAgKiAtIHtAbGluayBTRU1BTlRJQ19DT0xPUn1cbiAgICAgKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDB9XG4gICAgICogLSB7QGxpbmsgU0VNQU5USUNfVEVYQ09PUkQxfVxuICAgICAqIC0ge0BsaW5rIFNFTUFOVElDX1RFWENPT1JEMn1cbiAgICAgKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDN9XG4gICAgICogLSB7QGxpbmsgU0VNQU5USUNfVEVYQ09PUkQ0fVxuICAgICAqIC0ge0BsaW5rIFNFTUFOVElDX1RFWENPT1JENX1cbiAgICAgKiAtIHtAbGluayBTRU1BTlRJQ19URVhDT09SRDZ9XG4gICAgICogLSB7QGxpbmsgU0VNQU5USUNfVEVYQ09PUkQ3fVxuICAgICAqXG4gICAgICogSWYgdmVydGV4IGRhdGEgaGFzIGEgbWVhbmluZyBvdGhlciB0aGF0IG9uZSBvZiB0aG9zZSBsaXN0ZWQgYWJvdmUsIHVzZSB0aGUgdXNlci1kZWZpbmVkXG4gICAgICogc2VtYW50aWNzOiB7QGxpbmsgU0VNQU5USUNfQVRUUjB9IHRvIHtAbGluayBTRU1BTlRJQ19BVFRSMTV9LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNjcmlwdGlvbltdLmNvbXBvbmVudHMgLSBUaGUgbnVtYmVyIG9mIGNvbXBvbmVudHMgb2YgdGhlIHZlcnRleCBhdHRyaWJ1dGUuXG4gICAgICogQ2FuIGJlIDEsIDIsIDMgb3IgNC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzY3JpcHRpb25bXS50eXBlIC0gVGhlIGRhdGEgdHlwZSBvZiB0aGUgYXR0cmlidXRlLiBDYW4gYmU6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBUWVBFX0lOVDh9XG4gICAgICogLSB7QGxpbmsgVFlQRV9VSU5UOH1cbiAgICAgKiAtIHtAbGluayBUWVBFX0lOVDE2fVxuICAgICAqIC0ge0BsaW5rIFRZUEVfVUlOVDE2fVxuICAgICAqIC0ge0BsaW5rIFRZUEVfSU5UMzJ9XG4gICAgICogLSB7QGxpbmsgVFlQRV9VSU5UMzJ9XG4gICAgICogLSB7QGxpbmsgVFlQRV9GTE9BVDMyfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzY3JpcHRpb25bXS5ub3JtYWxpemVdIC0gSWYgdHJ1ZSwgdmVydGV4IGF0dHJpYnV0ZSBkYXRhIHdpbGwgYmUgbWFwcGVkXG4gICAgICogZnJvbSBhIDAgdG8gMjU1IHJhbmdlIGRvd24gdG8gMCB0byAxIHdoZW4gZmVkIHRvIGEgc2hhZGVyLiBJZiBmYWxzZSwgdmVydGV4IGF0dHJpYnV0ZSBkYXRhXG4gICAgICogaXMgbGVmdCB1bmNoYW5nZWQuIElmIHRoaXMgcHJvcGVydHkgaXMgdW5zcGVjaWZpZWQsIGZhbHNlIGlzIGFzc3VtZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt2ZXJ0ZXhDb3VudF0gLSBXaGVuIHNwZWNpZmllZCwgdmVydGV4IGZvcm1hdCB3aWxsIGJlIHNldCB1cCBmb3JcbiAgICAgKiBub24taW50ZXJsZWF2ZWQgZm9ybWF0IHdpdGggYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHZlcnRpY2VzLiAoZXhhbXBsZTogUFBQUE5OTk5DQ0NDKSwgd2hlcmVcbiAgICAgKiBhcnJheXMgb2YgaW5kaXZpZHVhbCBhdHRyaWJ1dGVzIHdpbGwgYmUgc3RvcmVkIG9uZSByaWdodCBhZnRlciB0aGUgb3RoZXIgKHN1YmplY3QgdG9cbiAgICAgKiBhbGlnbm1lbnQgcmVxdWlyZW1lbnRzKS4gTm90ZSB0aGF0IGluIHRoaXMgY2FzZSwgdGhlIGZvcm1hdCBkZXBlbmRzIG9uIHRoZSBudW1iZXIgb2ZcbiAgICAgKiB2ZXJ0aWNlcywgYW5kIG5lZWRzIHRvIGNoYW5nZSB3aGVuIHRoZSBudW1iZXIgb2YgdmVydGljZXMgY2hhbmdlcy4gV2hlbiBub3Qgc3BlY2lmaWVkLFxuICAgICAqIHZlcnRleCBmb3JtYXQgd2lsbCBiZSBpbnRlcmxlYXZlZC4gKGV4YW1wbGU6IFBOQ1BOQ1BOQ1BOQykuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTcGVjaWZ5IDMtY29tcG9uZW50IHBvc2l0aW9ucyAoeCwgeSwgeilcbiAgICAgKiB2YXIgdmVydGV4Rm9ybWF0ID0gbmV3IHBjLlZlcnRleEZvcm1hdChncmFwaGljc0RldmljZSwgW1xuICAgICAqICAgICB7IHNlbWFudGljOiBwYy5TRU1BTlRJQ19QT1NJVElPTiwgY29tcG9uZW50czogMywgdHlwZTogcGMuVFlQRV9GTE9BVDMyIH1cbiAgICAgKiBdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNwZWNpZnkgMi1jb21wb25lbnQgcG9zaXRpb25zICh4LCB5KSwgYSB0ZXh0dXJlIGNvb3JkaW5hdGUgKHUsIHYpIGFuZCBhIHZlcnRleCBjb2xvciAociwgZywgYiwgYSlcbiAgICAgKiB2YXIgdmVydGV4Rm9ybWF0ID0gbmV3IHBjLlZlcnRleEZvcm1hdChncmFwaGljc0RldmljZSwgW1xuICAgICAqICAgICB7IHNlbWFudGljOiBwYy5TRU1BTlRJQ19QT1NJVElPTiwgY29tcG9uZW50czogMiwgdHlwZTogcGMuVFlQRV9GTE9BVDMyIH0sXG4gICAgICogICAgIHsgc2VtYW50aWM6IHBjLlNFTUFOVElDX1RFWENPT1JEMCwgY29tcG9uZW50czogMiwgdHlwZTogcGMuVFlQRV9GTE9BVDMyIH0sXG4gICAgICogICAgIHsgc2VtYW50aWM6IHBjLlNFTUFOVElDX0NPTE9SLCBjb21wb25lbnRzOiA0LCB0eXBlOiBwYy5UWVBFX1VJTlQ4LCBub3JtYWxpemU6IHRydWUgfVxuICAgICAqIF0pO1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzRGV2aWNlLCBkZXNjcmlwdGlvbiwgdmVydGV4Q291bnQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5oYXNVdjAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNVdjEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNDb2xvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1RhbmdlbnRzID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmVydGljZXNCeXRlU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMudmVydGV4Q291bnQgPSB2ZXJ0ZXhDb3VudDtcbiAgICAgICAgdGhpcy5pbnRlcmxlYXZlZCA9IHZlcnRleENvdW50ID09PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsIHNpemUgb2YgdGhlIHZlcnRleFxuICAgICAgICB0aGlzLnNpemUgPSBkZXNjcmlwdGlvbi5yZWR1Y2UoKHRvdGFsLCBkZXNjKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG90YWwgKyBNYXRoLmNlaWwoZGVzYy5jb21wb25lbnRzICogdHlwZWRBcnJheVR5cGVzQnl0ZVNpemVbZGVzYy50eXBlXSAvIDQpICogNDtcbiAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDAsIGVsZW1lbnRTaXplO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZGVzY3JpcHRpb24ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnREZXNjID0gZGVzY3JpcHRpb25baV07XG5cbiAgICAgICAgICAgIC8vIGFsaWduIHVwIHRoZSBvZmZzZXQgdG8gZWxlbWVudFNpemUgKHdoZW4gdmVydGV4Q291bnQgaXMgc3BlY2lmaWVkIG9ubHkgLSBjYXNlIG9mIG5vbi1pbnRlcmxlYXZlZCBmb3JtYXQpXG4gICAgICAgICAgICBlbGVtZW50U2l6ZSA9IGVsZW1lbnREZXNjLmNvbXBvbmVudHMgKiB0eXBlZEFycmF5VHlwZXNCeXRlU2l6ZVtlbGVtZW50RGVzYy50eXBlXTtcbiAgICAgICAgICAgIGlmICh2ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IG1hdGgucm91bmRVcChvZmZzZXQsIGVsZW1lbnRTaXplKTtcblxuICAgICAgICAgICAgICAgIC8vIG5vbi1pbnRlcmxlYXZlZCBmb3JtYXQgd2l0aCBlbGVtZW50U2l6ZSBub3QgbXVsdGlwbGUgb2YgNCBtaWdodCBiZSBzbG93ZXIgb24gc29tZSBwbGF0Zm9ybXMgLSBwYWRkaW5nIGlzIHJlY29tbWVuZGVkIHRvIGFsaWduIGl0cyBzaXplXG4gICAgICAgICAgICAgICAgLy8gZXhhbXBsZTogdXNlIDQgeCBUWVBFX1VJTlQ4IGluc3RlYWQgb2YgMyB4IFRZUEVfVUlOVDhcbiAgICAgICAgICAgICAgICBEZWJ1Zy5hc3NlcnQoKGVsZW1lbnRTaXplICUgNCkgPT09IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBOb24taW50ZXJsZWF2ZWQgdmVydGV4IGZvcm1hdCB3aXRoIGVsZW1lbnQgc2l6ZSBub3QgbXVsdGlwbGUgb2YgNCBjYW4gaGF2ZSBwZXJmb3JtYW5jZSBpbXBhY3Qgb24gc29tZSBwbGF0Zm9ybXMuIEVsZW1lbnQgc2l6ZTogJHtlbGVtZW50U2l6ZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBlbGVtZW50RGVzYy5zZW1hbnRpYyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6ICh2ZXJ0ZXhDb3VudCA/IG9mZnNldCA6IChlbGVtZW50RGVzYy5oYXNPd25Qcm9wZXJ0eSgnb2Zmc2V0JykgPyBlbGVtZW50RGVzYy5vZmZzZXQgOiBvZmZzZXQpKSxcbiAgICAgICAgICAgICAgICBzdHJpZGU6ICh2ZXJ0ZXhDb3VudCA/IGVsZW1lbnRTaXplIDogKGVsZW1lbnREZXNjLmhhc093blByb3BlcnR5KCdzdHJpZGUnKSA/IGVsZW1lbnREZXNjLnN0cmlkZSA6IHRoaXMuc2l6ZSkpLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBlbGVtZW50RGVzYy50eXBlLFxuICAgICAgICAgICAgICAgIG51bUNvbXBvbmVudHM6IGVsZW1lbnREZXNjLmNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplOiAoZWxlbWVudERlc2Mubm9ybWFsaXplID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiBlbGVtZW50RGVzYy5ub3JtYWxpemUsXG4gICAgICAgICAgICAgICAgc2l6ZTogZWxlbWVudFNpemVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAodmVydGV4Q291bnQpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZWxlbWVudFNpemUgKiB2ZXJ0ZXhDb3VudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IE1hdGguY2VpbChlbGVtZW50U2l6ZSAvIDQpICogNDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnREZXNjLnNlbWFudGljID09PSBTRU1BTlRJQ19URVhDT09SRDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1V2MCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnREZXNjLnNlbWFudGljID09PSBTRU1BTlRJQ19URVhDT09SRDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1V2MSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnREZXNjLnNlbWFudGljID09PSBTRU1BTlRJQ19DT0xPUikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQ29sb3IgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50RGVzYy5zZW1hbnRpYyA9PT0gU0VNQU5USUNfVEFOR0VOVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzVGFuZ2VudHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZlcnRleENvdW50KSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2VzQnl0ZVNpemUgPSBvZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ldmFsdWF0ZUhhc2goKTtcbiAgICB9XG5cbiAgICBnZXQgZWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVydGV4Rm9ybWF0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIF9kZWZhdWx0SW5zdGFuY2luZ0Zvcm1hdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIFZlcnRleEZvcm1hdH0gdXNlZCB0byBzdG9yZSBtYXRyaWNlcyBvZiB0eXBlIHtAbGluayBNYXQ0fSBmb3IgaGFyZHdhcmUgaW5zdGFuY2luZy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtWZXJ0ZXhGb3JtYXR9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0SW5zdGFuY2luZ0Zvcm1hdCgpIHtcblxuICAgICAgICBpZiAoIVZlcnRleEZvcm1hdC5fZGVmYXVsdEluc3RhbmNpbmdGb3JtYXQpIHtcbiAgICAgICAgICAgIFZlcnRleEZvcm1hdC5fZGVmYXVsdEluc3RhbmNpbmdGb3JtYXQgPSBuZXcgVmVydGV4Rm9ybWF0KG51bGwsIFtcbiAgICAgICAgICAgICAgICB7IHNlbWFudGljOiBTRU1BTlRJQ19BVFRSMTIsIGNvbXBvbmVudHM6IDQsIHR5cGU6IFRZUEVfRkxPQVQzMiB9LFxuICAgICAgICAgICAgICAgIHsgc2VtYW50aWM6IFNFTUFOVElDX0FUVFIxMywgY29tcG9uZW50czogNCwgdHlwZTogVFlQRV9GTE9BVDMyIH0sXG4gICAgICAgICAgICAgICAgeyBzZW1hbnRpYzogU0VNQU5USUNfQVRUUjE0LCBjb21wb25lbnRzOiA0LCB0eXBlOiBUWVBFX0ZMT0FUMzIgfSxcbiAgICAgICAgICAgICAgICB7IHNlbWFudGljOiBTRU1BTlRJQ19BVFRSMTUsIGNvbXBvbmVudHM6IDQsIHR5cGU6IFRZUEVfRkxPQVQzMiB9XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBWZXJ0ZXhGb3JtYXQuX2RlZmF1bHRJbnN0YW5jaW5nRm9ybWF0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlcyBoYXNoIHZhbHVlcyBmb3IgdGhlIGZvcm1hdCBhbGxvd2luZyBmYXN0IGNvbXBhcmUgb2YgYmF0Y2hpbmcgLyByZW5kZXJpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2V2YWx1YXRlSGFzaCgpIHtcbiAgICAgICAgbGV0IHN0cmluZ0VsZW1lbnRCYXRjaDtcbiAgICAgICAgY29uc3Qgc3RyaW5nRWxlbWVudHNCYXRjaCA9IFtdO1xuICAgICAgICBsZXQgc3RyaW5nRWxlbWVudFJlbmRlcjtcbiAgICAgICAgY29uc3Qgc3RyaW5nRWxlbWVudHNSZW5kZXIgPSBbXTtcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5fZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBzdHJpbmcgZGVzY3JpcHRpb24gb2YgZWFjaCBlbGVtZW50IHRoYXQgaXMgcmVsZXZhbnQgZm9yIGJhdGNoaW5nXG4gICAgICAgICAgICBzdHJpbmdFbGVtZW50QmF0Y2ggPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgICAgICBzdHJpbmdFbGVtZW50QmF0Y2ggKz0gZWxlbWVudC5kYXRhVHlwZTtcbiAgICAgICAgICAgIHN0cmluZ0VsZW1lbnRCYXRjaCArPSBlbGVtZW50Lm51bUNvbXBvbmVudHM7XG4gICAgICAgICAgICBzdHJpbmdFbGVtZW50QmF0Y2ggKz0gZWxlbWVudC5ub3JtYWxpemU7XG4gICAgICAgICAgICBzdHJpbmdFbGVtZW50c0JhdGNoLnB1c2goc3RyaW5nRWxlbWVudEJhdGNoKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHN0cmluZyBkZXNjcmlwdGlvbiBvZiBlYWNoIGVsZW1lbnQgdGhhdCBpcyByZWxldmFudCBmb3IgcmVuZGVyaW5nXG4gICAgICAgICAgICBzdHJpbmdFbGVtZW50UmVuZGVyID0gc3RyaW5nRWxlbWVudEJhdGNoO1xuICAgICAgICAgICAgc3RyaW5nRWxlbWVudFJlbmRlciArPSBlbGVtZW50Lm9mZnNldDtcbiAgICAgICAgICAgIHN0cmluZ0VsZW1lbnRSZW5kZXIgKz0gZWxlbWVudC5zdHJpZGU7XG4gICAgICAgICAgICBzdHJpbmdFbGVtZW50UmVuZGVyICs9IGVsZW1lbnQuc2l6ZTtcbiAgICAgICAgICAgIHN0cmluZ0VsZW1lbnRzUmVuZGVyLnB1c2goc3RyaW5nRWxlbWVudFJlbmRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzb3J0IGJhdGNoaW5nIG9uZXMgYWxwaGFiZXRpY2FsbHkgdG8gbWFrZSB0aGUgaGFzaCBvcmRlciBpbmRlcGVuZGVudFxuICAgICAgICBzdHJpbmdFbGVtZW50c0JhdGNoLnNvcnQoKTtcbiAgICAgICAgdGhpcy5iYXRjaGluZ0hhc2ggPSBoYXNoQ29kZShzdHJpbmdFbGVtZW50c0JhdGNoLmpvaW4oKSk7XG5cbiAgICAgICAgLy8gcmVuZGVyaW5nIGhhc2hcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdpbmdIYXNoU3RyaW5nID0gc3RyaW5nRWxlbWVudHNSZW5kZXIuam9pbignXycpO1xuICAgICAgICB0aGlzLnJlbmRlcmluZ2luZ0hhc2ggPSBoYXNoQ29kZSh0aGlzLnJlbmRlcmluZ2luZ0hhc2hTdHJpbmcpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVmVydGV4Rm9ybWF0IH07XG4iXSwibmFtZXMiOlsiVmVydGV4Rm9ybWF0IiwiY29uc3RydWN0b3IiLCJncmFwaGljc0RldmljZSIsImRlc2NyaXB0aW9uIiwidmVydGV4Q291bnQiLCJfZWxlbWVudHMiLCJoYXNVdjAiLCJoYXNVdjEiLCJoYXNDb2xvciIsImhhc1RhbmdlbnRzIiwidmVydGljZXNCeXRlU2l6ZSIsImludGVybGVhdmVkIiwidW5kZWZpbmVkIiwic2l6ZSIsInJlZHVjZSIsInRvdGFsIiwiZGVzYyIsIk1hdGgiLCJjZWlsIiwiY29tcG9uZW50cyIsInR5cGVkQXJyYXlUeXBlc0J5dGVTaXplIiwidHlwZSIsIm9mZnNldCIsImVsZW1lbnRTaXplIiwiaSIsImxlbiIsImxlbmd0aCIsImVsZW1lbnREZXNjIiwibWF0aCIsInJvdW5kVXAiLCJEZWJ1ZyIsImFzc2VydCIsImVsZW1lbnQiLCJuYW1lIiwic2VtYW50aWMiLCJoYXNPd25Qcm9wZXJ0eSIsInN0cmlkZSIsImRhdGFUeXBlIiwibnVtQ29tcG9uZW50cyIsIm5vcm1hbGl6ZSIsInB1c2giLCJTRU1BTlRJQ19URVhDT09SRDAiLCJTRU1BTlRJQ19URVhDT09SRDEiLCJTRU1BTlRJQ19DT0xPUiIsIlNFTUFOVElDX1RBTkdFTlQiLCJfZXZhbHVhdGVIYXNoIiwiZWxlbWVudHMiLCJkZWZhdWx0SW5zdGFuY2luZ0Zvcm1hdCIsIl9kZWZhdWx0SW5zdGFuY2luZ0Zvcm1hdCIsIlNFTUFOVElDX0FUVFIxMiIsIlRZUEVfRkxPQVQzMiIsIlNFTUFOVElDX0FUVFIxMyIsIlNFTUFOVElDX0FUVFIxNCIsIlNFTUFOVElDX0FUVFIxNSIsInN0cmluZ0VsZW1lbnRCYXRjaCIsInN0cmluZ0VsZW1lbnRzQmF0Y2giLCJzdHJpbmdFbGVtZW50UmVuZGVyIiwic3RyaW5nRWxlbWVudHNSZW5kZXIiLCJzb3J0IiwiYmF0Y2hpbmdIYXNoIiwiaGFzaENvZGUiLCJqb2luIiwicmVuZGVyaW5naW5nSGFzaFN0cmluZyIsInJlbmRlcmluZ2luZ0hhc2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUF5REEsTUFBTUEsWUFBWSxDQUFDO0FBNERmQyxFQUFBQSxXQUFXLENBQUNDLGNBQWMsRUFBRUMsV0FBVyxFQUFFQyxXQUFXLEVBQUU7SUFDbEQsSUFBSSxDQUFDQyxTQUFTLEdBQUcsRUFBRSxDQUFBO0lBQ25CLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEtBQUssQ0FBQTtJQUNuQixJQUFJLENBQUNDLE1BQU0sR0FBRyxLQUFLLENBQUE7SUFDbkIsSUFBSSxDQUFDQyxRQUFRLEdBQUcsS0FBSyxDQUFBO0lBQ3JCLElBQUksQ0FBQ0MsV0FBVyxHQUFHLEtBQUssQ0FBQTtJQUN4QixJQUFJLENBQUNDLGdCQUFnQixHQUFHLENBQUMsQ0FBQTtJQUN6QixJQUFJLENBQUNOLFdBQVcsR0FBR0EsV0FBVyxDQUFBO0FBQzlCLElBQUEsSUFBSSxDQUFDTyxXQUFXLEdBQUdQLFdBQVcsS0FBS1EsU0FBUyxDQUFBOztJQUc1QyxJQUFJLENBQUNDLElBQUksR0FBR1YsV0FBVyxDQUFDVyxNQUFNLENBQUMsQ0FBQ0MsS0FBSyxFQUFFQyxJQUFJLEtBQUs7TUFDNUMsT0FBT0QsS0FBSyxHQUFHRSxJQUFJLENBQUNDLElBQUksQ0FBQ0YsSUFBSSxDQUFDRyxVQUFVLEdBQUdDLHVCQUF1QixDQUFDSixJQUFJLENBQUNLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtLQUN6RixFQUFFLENBQUMsQ0FBQyxDQUFBO0lBRUwsSUFBSUMsTUFBTSxHQUFHLENBQUM7TUFBRUMsV0FBVyxDQUFBO0FBQzNCLElBQUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQyxHQUFHLEdBQUd0QixXQUFXLENBQUN1QixNQUFNLEVBQUVGLENBQUMsR0FBR0MsR0FBRyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtBQUNwRCxNQUFBLE1BQU1HLFdBQVcsR0FBR3hCLFdBQVcsQ0FBQ3FCLENBQUMsQ0FBQyxDQUFBOztNQUdsQ0QsV0FBVyxHQUFHSSxXQUFXLENBQUNSLFVBQVUsR0FBR0MsdUJBQXVCLENBQUNPLFdBQVcsQ0FBQ04sSUFBSSxDQUFDLENBQUE7QUFDaEYsTUFBQSxJQUFJakIsV0FBVyxFQUFFO1FBQ2JrQixNQUFNLEdBQUdNLElBQUksQ0FBQ0MsT0FBTyxDQUFDUCxNQUFNLEVBQUVDLFdBQVcsQ0FBQyxDQUFBOztBQUkxQ08sUUFBQUEsS0FBSyxDQUFDQyxNQUFNLENBQUVSLFdBQVcsR0FBRyxDQUFDLEtBQU0sQ0FBQyxFQUN0QixDQUFBLCtIQUFBLEVBQWlJQSxXQUFZLENBQUEsQ0FBQyxDQUFDLENBQUE7QUFDakssT0FBQTtBQUVBLE1BQUEsTUFBTVMsT0FBTyxHQUFHO1FBQ1pDLElBQUksRUFBRU4sV0FBVyxDQUFDTyxRQUFRO0FBQzFCWixRQUFBQSxNQUFNLEVBQUdsQixXQUFXLEdBQUdrQixNQUFNLEdBQUlLLFdBQVcsQ0FBQ1EsY0FBYyxDQUFDLFFBQVEsQ0FBQyxHQUFHUixXQUFXLENBQUNMLE1BQU0sR0FBR0EsTUFBUTtBQUNyR2MsUUFBQUEsTUFBTSxFQUFHaEMsV0FBVyxHQUFHbUIsV0FBVyxHQUFJSSxXQUFXLENBQUNRLGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBR1IsV0FBVyxDQUFDUyxNQUFNLEdBQUcsSUFBSSxDQUFDdkIsSUFBTTtRQUM3R3dCLFFBQVEsRUFBRVYsV0FBVyxDQUFDTixJQUFJO1FBQzFCaUIsYUFBYSxFQUFFWCxXQUFXLENBQUNSLFVBQVU7UUFDckNvQixTQUFTLEVBQUdaLFdBQVcsQ0FBQ1ksU0FBUyxLQUFLM0IsU0FBUyxHQUFJLEtBQUssR0FBR2UsV0FBVyxDQUFDWSxTQUFTO0FBQ2hGMUIsUUFBQUEsSUFBSSxFQUFFVSxXQUFBQTtPQUNULENBQUE7QUFDRCxNQUFBLElBQUksQ0FBQ2xCLFNBQVMsQ0FBQ21DLElBQUksQ0FBQ1IsT0FBTyxDQUFDLENBQUE7QUFFNUIsTUFBQSxJQUFJNUIsV0FBVyxFQUFFO1FBQ2JrQixNQUFNLElBQUlDLFdBQVcsR0FBR25CLFdBQVcsQ0FBQTtBQUN2QyxPQUFDLE1BQU07UUFDSGtCLE1BQU0sSUFBSUwsSUFBSSxDQUFDQyxJQUFJLENBQUNLLFdBQVcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDNUMsT0FBQTtBQUVBLE1BQUEsSUFBSUksV0FBVyxDQUFDTyxRQUFRLEtBQUtPLGtCQUFrQixFQUFFO1FBQzdDLElBQUksQ0FBQ25DLE1BQU0sR0FBRyxJQUFJLENBQUE7QUFDdEIsT0FBQyxNQUFNLElBQUlxQixXQUFXLENBQUNPLFFBQVEsS0FBS1Esa0JBQWtCLEVBQUU7UUFDcEQsSUFBSSxDQUFDbkMsTUFBTSxHQUFHLElBQUksQ0FBQTtBQUN0QixPQUFDLE1BQU0sSUFBSW9CLFdBQVcsQ0FBQ08sUUFBUSxLQUFLUyxjQUFjLEVBQUU7UUFDaEQsSUFBSSxDQUFDbkMsUUFBUSxHQUFHLElBQUksQ0FBQTtBQUN4QixPQUFDLE1BQU0sSUFBSW1CLFdBQVcsQ0FBQ08sUUFBUSxLQUFLVSxnQkFBZ0IsRUFBRTtRQUNsRCxJQUFJLENBQUNuQyxXQUFXLEdBQUcsSUFBSSxDQUFBO0FBQzNCLE9BQUE7QUFDSixLQUFBO0FBRUEsSUFBQSxJQUFJTCxXQUFXLEVBQUU7TUFDYixJQUFJLENBQUNNLGdCQUFnQixHQUFHWSxNQUFNLENBQUE7QUFDbEMsS0FBQTtJQUVBLElBQUksQ0FBQ3VCLGFBQWEsRUFBRSxDQUFBO0FBQ3hCLEdBQUE7QUFFQSxFQUFBLElBQUlDLFFBQVEsR0FBRztJQUNYLE9BQU8sSUFBSSxDQUFDekMsU0FBUyxDQUFBO0FBQ3pCLEdBQUE7O0FBYUEsRUFBQSxXQUFXMEMsdUJBQXVCLEdBQUc7QUFFakMsSUFBQSxJQUFJLENBQUMvQyxZQUFZLENBQUNnRCx3QkFBd0IsRUFBRTtNQUN4Q2hELFlBQVksQ0FBQ2dELHdCQUF3QixHQUFHLElBQUloRCxZQUFZLENBQUMsSUFBSSxFQUFFLENBQzNEO0FBQUVrQyxRQUFBQSxRQUFRLEVBQUVlLGVBQWU7QUFBRTlCLFFBQUFBLFVBQVUsRUFBRSxDQUFDO0FBQUVFLFFBQUFBLElBQUksRUFBRTZCLFlBQUFBO0FBQWEsT0FBQyxFQUNoRTtBQUFFaEIsUUFBQUEsUUFBUSxFQUFFaUIsZUFBZTtBQUFFaEMsUUFBQUEsVUFBVSxFQUFFLENBQUM7QUFBRUUsUUFBQUEsSUFBSSxFQUFFNkIsWUFBQUE7QUFBYSxPQUFDLEVBQ2hFO0FBQUVoQixRQUFBQSxRQUFRLEVBQUVrQixlQUFlO0FBQUVqQyxRQUFBQSxVQUFVLEVBQUUsQ0FBQztBQUFFRSxRQUFBQSxJQUFJLEVBQUU2QixZQUFBQTtBQUFhLE9BQUMsRUFDaEU7QUFBRWhCLFFBQUFBLFFBQVEsRUFBRW1CLGVBQWU7QUFBRWxDLFFBQUFBLFVBQVUsRUFBRSxDQUFDO0FBQUVFLFFBQUFBLElBQUksRUFBRTZCLFlBQUFBO0FBQWEsT0FBQyxDQUNuRSxDQUFDLENBQUE7QUFDTixLQUFBO0lBRUEsT0FBT2xELFlBQVksQ0FBQ2dELHdCQUF3QixDQUFBO0FBQ2hELEdBQUE7O0FBT0FILEVBQUFBLGFBQWEsR0FBRztBQUNaLElBQUEsSUFBSVMsa0JBQWtCLENBQUE7SUFDdEIsTUFBTUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFBO0FBQzlCLElBQUEsSUFBSUMsbUJBQW1CLENBQUE7SUFDdkIsTUFBTUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFBO0FBQy9CLElBQUEsTUFBTWhDLEdBQUcsR0FBRyxJQUFJLENBQUNwQixTQUFTLENBQUNxQixNQUFNLENBQUE7SUFDakMsS0FBSyxJQUFJRixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdDLEdBQUcsRUFBRUQsQ0FBQyxFQUFFLEVBQUU7QUFDMUIsTUFBQSxNQUFNUSxPQUFPLEdBQUcsSUFBSSxDQUFDM0IsU0FBUyxDQUFDbUIsQ0FBQyxDQUFDLENBQUE7O01BR2pDOEIsa0JBQWtCLEdBQUd0QixPQUFPLENBQUNDLElBQUksQ0FBQTtNQUNqQ3FCLGtCQUFrQixJQUFJdEIsT0FBTyxDQUFDSyxRQUFRLENBQUE7TUFDdENpQixrQkFBa0IsSUFBSXRCLE9BQU8sQ0FBQ00sYUFBYSxDQUFBO01BQzNDZ0Isa0JBQWtCLElBQUl0QixPQUFPLENBQUNPLFNBQVMsQ0FBQTtBQUN2Q2dCLE1BQUFBLG1CQUFtQixDQUFDZixJQUFJLENBQUNjLGtCQUFrQixDQUFDLENBQUE7O0FBRzVDRSxNQUFBQSxtQkFBbUIsR0FBR0Ysa0JBQWtCLENBQUE7TUFDeENFLG1CQUFtQixJQUFJeEIsT0FBTyxDQUFDVixNQUFNLENBQUE7TUFDckNrQyxtQkFBbUIsSUFBSXhCLE9BQU8sQ0FBQ0ksTUFBTSxDQUFBO01BQ3JDb0IsbUJBQW1CLElBQUl4QixPQUFPLENBQUNuQixJQUFJLENBQUE7QUFDbkM0QyxNQUFBQSxvQkFBb0IsQ0FBQ2pCLElBQUksQ0FBQ2dCLG1CQUFtQixDQUFDLENBQUE7QUFDbEQsS0FBQTs7SUFHQUQsbUJBQW1CLENBQUNHLElBQUksRUFBRSxDQUFBO0lBQzFCLElBQUksQ0FBQ0MsWUFBWSxHQUFHQyxRQUFRLENBQUNMLG1CQUFtQixDQUFDTSxJQUFJLEVBQUUsQ0FBQyxDQUFBOztJQUd4RCxJQUFJLENBQUNDLHNCQUFzQixHQUFHTCxvQkFBb0IsQ0FBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQzVELElBQUksQ0FBQ0UsZ0JBQWdCLEdBQUdILFFBQVEsQ0FBQyxJQUFJLENBQUNFLHNCQUFzQixDQUFDLENBQUE7QUFDakUsR0FBQTtBQUNKLENBQUE7QUEvTE05RCxZQUFZLENBcUlQZ0Qsd0JBQXdCLEdBQUcsSUFBSTs7OzsifQ==
