import"../../../core/tracing.js";class r{constructor(){this.bindGroup=void 0}update(r){this.destroy();const e=r.device,t=this.createDescriptor(e,r);this.bindGroup=e.wgpu.createBindGroup(t)}destroy(){this.bindGroup=null}createDescriptor(r,e){const t=[],o=e.format;let s=0;e.uniformBuffers.forEach((r=>{const e=r.impl.buffer;t.push({binding:s++,resource:{buffer:e}})})),e.textures.forEach(((e,i)=>{const u=e.impl,n=o.textureFormats[i],c=u.getView(r);t.push({binding:s++,resource:c});const p=u.getSampler(r,n.sampleType);t.push({binding:s++,resource:p})}));return{layout:e.format.impl.bindGroupLayout,entries:t}}}export{r as WebgpuBindGroup};
