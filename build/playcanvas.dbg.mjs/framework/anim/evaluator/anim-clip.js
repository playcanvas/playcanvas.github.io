/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { extends as _extends } from '../../../_virtual/_rollupPluginBabelHelpers.js';
import { AnimSnapshot } from './anim-snapshot.js';

class AnimClip {
  constructor(track, time, speed, playing, loop, eventHandler) {
    this._name = track.name;
    this._track = track;
    this._snapshot = new AnimSnapshot(track);
    this._playing = playing;
    this._time = time;
    this._speed = speed;
    this._loop = loop;
    this._blendWeight = 1.0;
    this._blendOrder = 0.0;
    this._eventHandler = eventHandler;
    this.alignCursorToCurrentTime();
  }
  set name(name) {
    this._name = name;
  }
  get name() {
    return this._name;
  }
  get track() {
    return this._track;
  }
  get snapshot() {
    return this._snapshot;
  }
  set time(time) {
    this._time = time;
    this.alignCursorToCurrentTime();
  }
  get time() {
    return this._time;
  }
  set speed(speed) {
    this._speed = speed;
  }
  get speed() {
    return this._speed;
  }
  set loop(loop) {
    this._loop = loop;
  }
  get loop() {
    return this._loop;
  }
  set blendWeight(blendWeight) {
    this._blendWeight = blendWeight;
  }
  get blendWeight() {
    return this._blendWeight;
  }
  set blendOrder(blendOrder) {
    this._blendOrder = blendOrder;
  }
  get blendOrder() {
    return this._blendOrder;
  }
  set eventCursor(value) {
    this._eventCursor = value;
  }
  get eventCursor() {
    return this._eventCursor;
  }
  alignCursorToCurrentTime() {
    this._eventCursor = 0;
    while (this._track.events[this._eventCursor] && this._track.events[this._eventCursor].time < this.time) {
      this._eventCursor++;
    }
  }
  activeEventsForFrame(frameStartTime, frameEndTime) {
    if (frameStartTime === 0) {
      this.eventCursor = 0;
    }
    let clippedFrameDuration;
    if (frameEndTime > this.track.duration) {
      clippedFrameDuration = frameEndTime - this.track.duration;
      frameEndTime = this.track.duration;
    }

    while (this.track.events[this.eventCursor] && this.track.events[this.eventCursor].time >= frameStartTime && (frameEndTime === this.track.duration ? this.track.events[this.eventCursor].time <= frameEndTime : this.track.events[this.eventCursor].time < frameEndTime)) {
      const event = this.track.events[this.eventCursor];
      this._eventHandler.fire(event.name, _extends({
        track: this.track
      }, event));
      this.eventCursor++;
    }

    if (Number.isFinite(clippedFrameDuration)) {
      this.activeEventsForFrame(0, clippedFrameDuration);
    }
  }
  _update(deltaTime) {
    if (this._playing) {
      let time = this._time;
      const duration = this._track.duration;
      const speed = this._speed;
      const loop = this._loop;

      if (this._track.events.length > 0 && duration > 0) {
        this.activeEventsForFrame(time, time + speed * deltaTime);
      }

      time += speed * deltaTime;

      if (speed >= 0) {
        if (time > duration) {
          if (loop) {
            time = time % duration || 0;
          } else {
            time = this._track.duration;
            this.pause();
          }
        }
      } else {
        if (time < 0) {
          if (loop) {
            time = duration + (time % duration || 0);
          } else {
            time = 0;
            this.pause();
          }
        }
      }
      this._time = time;
    }

    if (this._time !== this._snapshot._time) {
      this._track.eval(this._time, this._snapshot);
    }
  }
  play() {
    this._playing = true;
    this._time = 0;
  }
  stop() {
    this._playing = false;
    this._time = 0;
  }
  pause() {
    this._playing = false;
  }
  resume() {
    this._playing = true;
  }
  reset() {
    this._time = 0;
  }
}

export { AnimClip };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbS1jbGlwLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2FuaW0vZXZhbHVhdG9yL2FuaW0tY2xpcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltU25hcHNob3QgfSBmcm9tICcuL2FuaW0tc25hcHNob3QuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi9hbmltLXRyYWNrLmpzJykuQW5pbVRyYWNrfSBBbmltVHJhY2sgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9jb3JlL2V2ZW50LWhhbmRsZXIuanMnKS5FdmVudEhhbmRsZXJ9IEV2ZW50SGFuZGxlciAqL1xuXG4vLyBUT0RPOiBhZGQgY29uZmlndXJhYmxlIGxvb3Bpbmcgc3RhcnQvZW5kIHRpbWVzP1xuXG4vKipcbiAqIEFuaW1DbGlwIHdyYXBzIHRoZSBydW5uaW5nIHN0YXRlIG9mIGFuIGFuaW1hdGlvbiB0cmFjay4gSXQgY29udGFpbnMgYW5kIHVwZGF0ZSB0aGUgYW5pbWF0aW9uXG4gKiAnY3Vyc29yJyBhbmQgcGVyZm9ybXMgbG9vcGluZyBsb2dpYy5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIEFuaW1DbGlwIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYW5pbWF0aW9uIGNsaXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FuaW1UcmFja30gdHJhY2sgLSBUaGUgYW5pbWF0aW9uIGRhdGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaGUgaW5pdGlhbCB0aW1lIG9mIHRoZSBjbGlwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCAtIFNwZWVkIG9mIHRoZSBhbmltYXRpb24gcGxheWJhY2suXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwbGF5aW5nIC0gdHJ1ZSBpZiB0aGUgY2xpcCBpcyBwbGF5aW5nIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBsb29wIC0gV2hldGhlciB0aGUgY2xpcCBzaG91bGQgbG9vcC5cbiAgICAgKiBAcGFyYW0ge0V2ZW50SGFuZGxlcn0gW2V2ZW50SGFuZGxlcl0gLSBUaGUgaGFuZGxlciB0byBjYWxsIHdoZW4gYW4gZXZlbnQgaXMgZmlyZWQgYnkgdGhlIGNsaXAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHJhY2ssIHRpbWUsIHNwZWVkLCBwbGF5aW5nLCBsb29wLCBldmVudEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHRyYWNrLm5hbWU7ICAgICAgICAvLyBkZWZhdWx0IHRvIHRyYWNrIG5hbWVcbiAgICAgICAgdGhpcy5fdHJhY2sgPSB0cmFjaztcbiAgICAgICAgdGhpcy5fc25hcHNob3QgPSBuZXcgQW5pbVNuYXBzaG90KHRyYWNrKTtcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IHBsYXlpbmc7XG4gICAgICAgIHRoaXMuX3RpbWUgPSB0aW1lOyAgICAgICAgICAgICAgLy8gcGxheSBjdXJzb3JcbiAgICAgICAgdGhpcy5fc3BlZWQgPSBzcGVlZDsgICAgICAgICAgICAvLyBwbGF5YmFjayBzcGVlZCwgbWF5IGJlIG5lZ2F0aXZlXG4gICAgICAgIHRoaXMuX2xvb3AgPSBsb29wOyAgICAgICAgICAgICAgLy8gd2hldGhlciB0byBsb29wXG4gICAgICAgIHRoaXMuX2JsZW5kV2VpZ2h0ID0gMS4wOyAgICAgICAgLy8gYmxlbmQgd2VpZ2h0IDAuLjFcbiAgICAgICAgdGhpcy5fYmxlbmRPcmRlciA9IDAuMDsgICAgICAgICAvLyBibGVuZCBvcmRlciByZWxhdGl2ZSB0byBvdGhlciBjbGlwc1xuICAgICAgICB0aGlzLl9ldmVudEhhbmRsZXIgPSBldmVudEhhbmRsZXI7XG4gICAgICAgIHRoaXMuYWxpZ25DdXJzb3JUb0N1cnJlbnRUaW1lKCk7XG4gICAgfVxuXG4gICAgc2V0IG5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG4gICAgZ2V0IHRyYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IHNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc25hcHNob3Q7XG4gICAgfVxuXG4gICAgc2V0IHRpbWUodGltZSkge1xuICAgICAgICB0aGlzLl90aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy5hbGlnbkN1cnNvclRvQ3VycmVudFRpbWUoKTtcbiAgICB9XG5cbiAgICBnZXQgdGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWU7XG4gICAgfVxuXG4gICAgc2V0IHNwZWVkKHNwZWVkKSB7XG4gICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG4gICAgfVxuXG4gICAgZ2V0IHNwZWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gICAgfVxuXG4gICAgc2V0IGxvb3AobG9vcCkge1xuICAgICAgICB0aGlzLl9sb29wID0gbG9vcDtcbiAgICB9XG5cbiAgICBnZXQgbG9vcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb3A7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kV2VpZ2h0KGJsZW5kV2VpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2JsZW5kV2VpZ2h0ID0gYmxlbmRXZWlnaHQ7XG4gICAgfVxuXG4gICAgZ2V0IGJsZW5kV2VpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRXZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kT3JkZXIoYmxlbmRPcmRlcikge1xuICAgICAgICB0aGlzLl9ibGVuZE9yZGVyID0gYmxlbmRPcmRlcjtcbiAgICB9XG5cbiAgICBnZXQgYmxlbmRPcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kT3JkZXI7XG4gICAgfVxuXG4gICAgc2V0IGV2ZW50Q3Vyc29yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50Q3Vyc29yID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGV2ZW50Q3Vyc29yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRDdXJzb3I7XG4gICAgfVxuXG4gICAgYWxpZ25DdXJzb3JUb0N1cnJlbnRUaW1lKCkge1xuICAgICAgICB0aGlzLl9ldmVudEN1cnNvciA9IDA7XG4gICAgICAgIC8vIG1vdmUgdGhlIGV2ZW50IGN1cnNvciB0byB0aGUgZXZlbnQgdGhhdCBzaG91bGQgZmlyZSBhZnRlciB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgIHdoaWxlICh0aGlzLl90cmFjay5ldmVudHNbdGhpcy5fZXZlbnRDdXJzb3JdICYmIHRoaXMuX3RyYWNrLmV2ZW50c1t0aGlzLl9ldmVudEN1cnNvcl0udGltZSA8IHRoaXMudGltZSkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRDdXJzb3IrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjdGl2ZUV2ZW50c0ZvckZyYW1lKGZyYW1lU3RhcnRUaW1lLCBmcmFtZUVuZFRpbWUpIHtcbiAgICAgICAgaWYgKGZyYW1lU3RhcnRUaW1lID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50Q3Vyc29yID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2xpcHBlZEZyYW1lRHVyYXRpb247XG4gICAgICAgIC8vIGlmIHRoaXMgZnJhbWUgb3ZlcmxhcHMgd2l0aCB0aGUgZW5kIG9mIHRoZSB0cmFjaywgd2Ugc2hvdWxkIGNsaXAgb2ZmIHRoZSBlbmQgb2YgdGhlIGZyYW1lIHRpbWUgdGhlbiBjaGVjayB0aGF0IGNsaXBwZWQgdGltZSBsYXRlclxuICAgICAgICBpZiAoZnJhbWVFbmRUaW1lID4gdGhpcy50cmFjay5kdXJhdGlvbikge1xuICAgICAgICAgICAgY2xpcHBlZEZyYW1lRHVyYXRpb24gPSBmcmFtZUVuZFRpbWUgLSB0aGlzLnRyYWNrLmR1cmF0aW9uO1xuICAgICAgICAgICAgZnJhbWVFbmRUaW1lID0gdGhpcy50cmFjay5kdXJhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIG5leHQgZXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgY3VycmVudCBmcmFtZS4gSWYgdGhlIGZyYW1lIGVuZCB0aW1lIGlzIGF0IHRoZSBlbmQgb2YgdGhlIHRyYWNrIHRoZW4gdGVzdCB0aGF0IGluY2x1c2l2ZWx5IHRvb1xuICAgICAgICB3aGlsZSAodGhpcy50cmFjay5ldmVudHNbdGhpcy5ldmVudEN1cnNvcl0gJiYgdGhpcy50cmFjay5ldmVudHNbdGhpcy5ldmVudEN1cnNvcl0udGltZSA+PSBmcmFtZVN0YXJ0VGltZSAmJiAoZnJhbWVFbmRUaW1lID09PSB0aGlzLnRyYWNrLmR1cmF0aW9uID8gdGhpcy50cmFjay5ldmVudHNbdGhpcy5ldmVudEN1cnNvcl0udGltZSA8PSBmcmFtZUVuZFRpbWUgOiB0aGlzLnRyYWNrLmV2ZW50c1t0aGlzLmV2ZW50Q3Vyc29yXS50aW1lIDwgZnJhbWVFbmRUaW1lKSkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLnRyYWNrLmV2ZW50c1t0aGlzLmV2ZW50Q3Vyc29yXTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlci5maXJlKGV2ZW50Lm5hbWUsIHsgdHJhY2s6IHRoaXMudHJhY2ssIC4uLmV2ZW50IH0pO1xuICAgICAgICAgICAgdGhpcy5ldmVudEN1cnNvcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgaGFkIHRvIGNsaXAgdGhlIGN1cnJlbnQgZnJhbWUsIHRoZW4gd2Ugc2hvdWxkIGNoZWNrIHRoZSBzdGFydCBvZiB0aGUgdHJhY2sgZm9yIGV2ZW50cyBkdXJpbmcgdGhhdCBjbGlwcGVkIGR1cmF0aW9uXG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoY2xpcHBlZEZyYW1lRHVyYXRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUV2ZW50c0ZvckZyYW1lKDAsIGNsaXBwZWRGcmFtZUR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICBsZXQgdGltZSA9IHRoaXMuX3RpbWU7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuX3RyYWNrLmR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3Qgc3BlZWQgPSB0aGlzLl9zcGVlZDtcbiAgICAgICAgICAgIGNvbnN0IGxvb3AgPSB0aGlzLl9sb29wO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgZXZlbnRzIHRoYXQgc2hvdWxkIGZpcmUgZHVyaW5nIHRoaXMgZnJhbWVcbiAgICAgICAgICAgIGlmICh0aGlzLl90cmFjay5ldmVudHMubGVuZ3RoID4gMCAmJiBkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUV2ZW50c0ZvckZyYW1lKHRpbWUsIHRpbWUgKyBzcGVlZCAqIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aW1lXG4gICAgICAgICAgICB0aW1lICs9IHNwZWVkICogZGVsdGFUaW1lO1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIGxvb3BpbmdcbiAgICAgICAgICAgIGlmIChzcGVlZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcGxheWluZyBmb3J3YXJkc1xuICAgICAgICAgICAgICAgIGlmICh0aW1lID4gZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSAodGltZSAlIGR1cmF0aW9uKSB8fCAwOyAgLy8gaWYgZHVyYXRpb24gaXMgMCwgJSBpcyBOYU5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl90cmFjay5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcGxheWluZyBiYWNrd2FyZHNcbiAgICAgICAgICAgICAgICBpZiAodGltZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBkdXJhdGlvbiArICgodGltZSAlIGR1cmF0aW9uKSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgc25hcHNob3QgaWYgdGltZSBoYXMgY2hhbmdlZFxuICAgICAgICBpZiAodGhpcy5fdGltZSAhPT0gdGhpcy5fc25hcHNob3QuX3RpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrLmV2YWwodGhpcy5fdGltZSwgdGhpcy5fc25hcHNob3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheSgpIHtcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RpbWUgPSAwO1xuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdGltZSA9IDA7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl90aW1lID0gMDtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEFuaW1DbGlwIH07XG4iXSwibmFtZXMiOlsiQW5pbUNsaXAiLCJjb25zdHJ1Y3RvciIsInRyYWNrIiwidGltZSIsInNwZWVkIiwicGxheWluZyIsImxvb3AiLCJldmVudEhhbmRsZXIiLCJfbmFtZSIsIm5hbWUiLCJfdHJhY2siLCJfc25hcHNob3QiLCJBbmltU25hcHNob3QiLCJfcGxheWluZyIsIl90aW1lIiwiX3NwZWVkIiwiX2xvb3AiLCJfYmxlbmRXZWlnaHQiLCJfYmxlbmRPcmRlciIsIl9ldmVudEhhbmRsZXIiLCJhbGlnbkN1cnNvclRvQ3VycmVudFRpbWUiLCJzbmFwc2hvdCIsImJsZW5kV2VpZ2h0IiwiYmxlbmRPcmRlciIsImV2ZW50Q3Vyc29yIiwidmFsdWUiLCJfZXZlbnRDdXJzb3IiLCJldmVudHMiLCJhY3RpdmVFdmVudHNGb3JGcmFtZSIsImZyYW1lU3RhcnRUaW1lIiwiZnJhbWVFbmRUaW1lIiwiY2xpcHBlZEZyYW1lRHVyYXRpb24iLCJkdXJhdGlvbiIsImV2ZW50IiwiZmlyZSIsIk51bWJlciIsImlzRmluaXRlIiwiX3VwZGF0ZSIsImRlbHRhVGltZSIsImxlbmd0aCIsInBhdXNlIiwiZXZhbCIsInBsYXkiLCJzdG9wIiwicmVzdW1lIiwicmVzZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBYUEsTUFBTUEsUUFBUSxDQUFDO0FBV1hDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLFlBQVksRUFBRTtBQUN6RCxJQUFBLElBQUksQ0FBQ0MsS0FBSyxHQUFHTixLQUFLLENBQUNPLElBQUksQ0FBQTtJQUN2QixJQUFJLENBQUNDLE1BQU0sR0FBR1IsS0FBSyxDQUFBO0FBQ25CLElBQUEsSUFBSSxDQUFDUyxTQUFTLEdBQUcsSUFBSUMs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
