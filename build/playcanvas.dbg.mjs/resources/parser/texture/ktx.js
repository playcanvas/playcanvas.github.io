/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../../../core/debug.js';
import { Asset } from '../../../asset/asset.js';
import { Texture } from '../../../graphics/texture.js';
import { TEXHINT_ASSET, ADDRESS_CLAMP_TO_EDGE, ADDRESS_REPEAT, PIXELFORMAT_DXT1, PIXELFORMAT_DXT3, PIXELFORMAT_DXT5, PIXELFORMAT_ETC1, PIXELFORMAT_ETC2_RGB, PIXELFORMAT_ETC2_RGBA, PIXELFORMAT_PVRTC_4BPP_RGB_1, PIXELFORMAT_PVRTC_2BPP_RGB_1, PIXELFORMAT_PVRTC_4BPP_RGBA_1, PIXELFORMAT_PVRTC_2BPP_RGBA_1, PIXELFORMAT_R8_G8_B8, PIXELFORMAT_R8_G8_B8_A8, PIXELFORMAT_SRGB, PIXELFORMAT_SRGBA, PIXELFORMAT_111110F, PIXELFORMAT_RGB16F, PIXELFORMAT_RGBA16F } from '../../../graphics/constants.js';

const IDENTIFIER = [0x58544BAB, 0xBB313120, 0x0A1A0A0D];
const KNOWN_FORMATS = {
  0x83F0: PIXELFORMAT_DXT1,
  0x83F2: PIXELFORMAT_DXT3,
  0x83F3: PIXELFORMAT_DXT5,
  0x8D64: PIXELFORMAT_ETC1,
  0x9274: PIXELFORMAT_ETC2_RGB,
  0x9278: PIXELFORMAT_ETC2_RGBA,
  0x8C00: PIXELFORMAT_PVRTC_4BPP_RGB_1,
  0x8C01: PIXELFORMAT_PVRTC_2BPP_RGB_1,
  0x8C02: PIXELFORMAT_PVRTC_4BPP_RGBA_1,
  0x8C03: PIXELFORMAT_PVRTC_2BPP_RGBA_1,
  0x8051: PIXELFORMAT_R8_G8_B8,
  0x8058: PIXELFORMAT_R8_G8_B8_A8,
  0x8C41: PIXELFORMAT_SRGB,
  0x8C43: PIXELFORMAT_SRGBA,
  0x8C3A: PIXELFORMAT_111110F,
  0x881B: PIXELFORMAT_RGB16F,
  0x881A: PIXELFORMAT_RGBA16F
};

function createContainer(pixelFormat, buffer, byteOffset, byteSize) {
  return pixelFormat === PIXELFORMAT_111110F ? new Uint32Array(buffer, byteOffset, byteSize / 4) : new Uint8Array(buffer, byteOffset, byteSize);
}

class KtxParser {
  constructor(registry) {
    this.maxRetries = 0;
  }

  load(url, callback, asset) {
    Asset.fetchArrayBuffer(url.load, callback, asset, this.maxRetries);
  }

  open(url, data, device) {
    const textureData = this.parse(data);

    if (!textureData) {
      return null;
    }

    const texture = new Texture(device, {
      name: url,
      profilerHint: TEXHINT_ASSET,
      addressU: textureData.cubemap ? ADDRESS_CLAMP_TO_EDGE : ADDRESS_REPEAT,
      addressV: textureData.cubemap ? ADDRESS_CLAMP_TO_EDGE : ADDRESS_REPEAT,
      width: textureData.width,
      height: textureData.height,
      format: textureData.format,
      cubemap: textureData.cubemap,
      levels: textureData.levels
    });
    texture.upload();
    return texture;
  }

  parse(data) {
    const dataU32 = new Uint32Array(data);

    if (IDENTIFIER[0] !== dataU32[0] || IDENTIFIER[1] !== dataU32[1] || IDENTIFIER[2] !== dataU32[2]) {
      Debug.warn('Invalid definition header found in KTX file. Expected 0xAB4B5458, 0x203131BB, 0x0D0A1A0A');
      return null;
    }

    const header = {
      endianness: dataU32[3],
      glType: dataU32[4],
      glTypeSize: dataU32[5],
      glFormat: dataU32[6],
      glInternalFormat: dataU32[7],
      glBaseInternalFormat: dataU32[8],
      pixelWidth: dataU32[9],
      pixelHeight: dataU32[10],
      pixelDepth: dataU32[11],
      numberOfArrayElements: dataU32[12],
      numberOfFaces: dataU32[13],
      numberOfMipmapLevels: dataU32[14],
      bytesOfKeyValueData: dataU32[15]
    };

    if (header.pixelDepth > 1) {
      Debug.warn('More than 1 pixel depth not supported!');
      return null;
    }

    if (header.numberOfArrayElements !== 0) {
      Debug.warn('Array texture not supported!');
      return null;
    }

    const format = KNOWN_FORMATS[header.glInternalFormat];

    if (format === undefined) {
      Debug.warn('Unknown glInternalFormat: ' + header.glInternalFormat);
      return null;
    }

    let offset = 16 + header.bytesOfKeyValueData / 4;
    const isCubemap = header.numberOfFaces > 1;
    const levels = [];

    for (let mipmapLevel = 0; mipmapLevel < (header.numberOfMipmapLevels || 1); mipmapLevel++) {
      const imageSizeInBytes = dataU32[offset++];

      if (isCubemap) {
        levels.push([]);
      }

      const target = isCubemap ? levels[mipmapLevel] : levels;

      for (let face = 0; face < (isCubemap ? 6 : 1); ++face) {
        target.push(createContainer(format, data, offset * 4, imageSizeInBytes));
        offset += imageSizeInBytes + 3 >> 2;
      }
    }

    return {
      format: format,
      width: header.pixelWidth,
      height: header.pixelHeight,
      levels: levels,
      cubemap: isCubemap
    };
  }

}

export { KtxParser };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia3R4LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvcmVzb3VyY2VzL3BhcnNlci90ZXh0dXJlL2t0eC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1ZyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvZGVidWcuanMnO1xuaW1wb3J0IHsgQXNzZXQgfSBmcm9tICcuLi8uLi8uLi9hc3NldC9hc3NldC5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vLi4vZ3JhcGhpY3MvdGV4dHVyZS5qcyc7XG5pbXBvcnQge1xuICAgIEFERFJFU1NfQ0xBTVBfVE9fRURHRSwgQUREUkVTU19SRVBFQVQsXG4gICAgUElYRUxGT1JNQVRfRFhUMSwgUElYRUxGT1JNQVRfRFhUMywgUElYRUxGT1JNQVRfRFhUNSxcbiAgICBQSVhFTEZPUk1BVF9FVEMxLCBQSVhFTEZPUk1BVF9FVEMyX1JHQiwgUElYRUxGT1JNQVRfRVRDMl9SR0JBLFxuICAgIFBJWEVMRk9STUFUX1BWUlRDXzRCUFBfUkdCXzEsIFBJWEVMRk9STUFUX1BWUlRDXzJCUFBfUkdCXzEsIFBJWEVMRk9STUFUX1BWUlRDXzRCUFBfUkdCQV8xLCBQSVhFTEZPUk1BVF9QVlJUQ18yQlBQX1JHQkFfMSxcbiAgICBQSVhFTEZPUk1BVF9SOF9HOF9COCwgUElYRUxGT1JNQVRfUjhfRzhfQjhfQTgsIFBJWEVMRk9STUFUX1NSR0IsIFBJWEVMRk9STUFUX1NSR0JBLFxuICAgIFBJWEVMRk9STUFUXzExMTExMEYsIFBJWEVMRk9STUFUX1JHQjE2RiwgUElYRUxGT1JNQVRfUkdCQTE2RixcbiAgICBURVhISU5UX0FTU0VUXG59IGZyb20gJy4uLy4uLy4uL2dyYXBoaWNzL2NvbnN0YW50cy5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi90ZXh0dXJlLmpzJykuVGV4dHVyZVBhcnNlcn0gVGV4dHVyZVBhcnNlciAqL1xuXG4vLyBEZWZpbmVkIGhlcmU6IGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL29wZW5nbGVzL3Nkay90b29scy9LVFgvZmlsZV9mb3JtYXRfc3BlYy9cbmNvbnN0IElERU5USUZJRVIgPSBbMHg1ODU0NEJBQiwgMHhCQjMxMzEyMCwgMHgwQTFBMEEwRF07IC8vIMKrS1RYIDExwrtcXHJcXG5cXHgxQVxcblxuXG5jb25zdCBLTk9XTl9GT1JNQVRTID0ge1xuICAgIC8vIGNvbXByZXNzZWQgZm9ybWF0c1xuICAgIDB4ODNGMDogUElYRUxGT1JNQVRfRFhUMSxcbiAgICAweDgzRjI6IFBJWEVMRk9STUFUX0RYVDMsXG4gICAgMHg4M0YzOiBQSVhFTEZPUk1BVF9EWFQ1LFxuICAgIDB4OEQ2NDogUElYRUxGT1JNQVRfRVRDMSxcbiAgICAweDkyNzQ6IFBJWEVMRk9STUFUX0VUQzJfUkdCLFxuICAgIDB4OTI3ODogUElYRUxGT1JNQVRfRVRDMl9SR0JBLFxuICAgIDB4OEMwMDogUElYRUxGT1JNQVRfUFZSVENfNEJQUF9SR0JfMSxcbiAgICAweDhDMDE6IFBJWEVMRk9STUFUX1BWUlRDXzJCUFBfUkdCXzEsXG4gICAgMHg4QzAyOiBQSVhFTEZPUk1BVF9QVlJUQ180QlBQX1JHQkFfMSxcbiAgICAweDhDMDM6IFBJWEVMRk9STUFUX1BWUlRDXzJCUFBfUkdCQV8xLFxuXG4gICAgLy8gdW5jb21wcmVzc2VkIGZvcm1hdHNcbiAgICAweDgwNTE6IFBJWEVMRk9STUFUX1I4X0c4X0I4LCAgICAgICAvLyBHTF9SR0I4XG4gICAgMHg4MDU4OiBQSVhFTEZPUk1BVF9SOF9HOF9COF9BOCwgICAgLy8gR0xfUkdCQThcbiAgICAweDhDNDE6IFBJWEVMRk9STUFUX1NSR0IsICAgICAgICAgICAvLyBHTF9TUkdCOFxuICAgIDB4OEM0MzogUElYRUxGT1JNQVRfU1JHQkEsICAgICAgICAgIC8vIEdMX1NSR0I4X0FMUEhBOFxuICAgIDB4OEMzQTogUElYRUxGT1JNQVRfMTExMTEwRiwgICAgICAgIC8vIEdMX1IxMUZfRzExRl9CMTBGXG4gICAgMHg4ODFCOiBQSVhFTEZPUk1BVF9SR0IxNkYsICAgICAgICAgLy8gR0xfUkdCMTZGXG4gICAgMHg4ODFBOiBQSVhFTEZPUk1BVF9SR0JBMTZGICAgICAgICAgLy8gR0xfUkdCQTE2RlxufTtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKHBpeGVsRm9ybWF0LCBidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVTaXplKSB7XG4gICAgcmV0dXJuIChwaXhlbEZvcm1hdCA9PT0gUElYRUxGT1JNQVRfMTExMTEwRikgP1xuICAgICAgICBuZXcgVWludDMyQXJyYXkoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlU2l6ZSAvIDQpIDpcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlU2l6ZSk7XG59XG5cbi8qKlxuICogVGV4dHVyZSBwYXJzZXIgZm9yIGt0eCBmaWxlcy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7VGV4dHVyZVBhcnNlcn1cbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgS3R4UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihyZWdpc3RyeSkge1xuICAgICAgICB0aGlzLm1heFJldHJpZXMgPSAwO1xuICAgIH1cblxuICAgIGxvYWQodXJsLCBjYWxsYmFjaywgYXNzZXQpIHtcbiAgICAgICAgQXNzZXQuZmV0Y2hBcnJheUJ1ZmZlcih1cmwubG9hZCwgY2FsbGJhY2ssIGFzc2V0LCB0aGlzLm1heFJldHJpZXMpO1xuICAgIH1cblxuICAgIG9wZW4odXJsLCBkYXRhLCBkZXZpY2UpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZURhdGEgPSB0aGlzLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgIGlmICghdGV4dHVyZURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGRldmljZSwge1xuICAgICAgICAgICAgbmFtZTogdXJsLFxuICAgICAgICAgICAgLy8gI2lmIF9QUk9GSUxFUlxuICAgICAgICAgICAgcHJvZmlsZXJIaW50OiBURVhISU5UX0FTU0VULFxuICAgICAgICAgICAgLy8gI2VuZGlmXG4gICAgICAgICAgICBhZGRyZXNzVTogdGV4dHVyZURhdGEuY3ViZW1hcCA/IEFERFJFU1NfQ0xBTVBfVE9fRURHRSA6IEFERFJFU1NfUkVQRUFULFxuICAgICAgICAgICAgYWRkcmVzc1Y6IHRleHR1cmVEYXRhLmN1YmVtYXAgPyBBRERSRVNTX0NMQU1QX1RPX0VER0UgOiBBRERSRVNTX1JFUEVBVCxcbiAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlRGF0YS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGV4dHVyZURhdGEuaGVpZ2h0LFxuICAgICAgICAgICAgZm9ybWF0OiB0ZXh0dXJlRGF0YS5mb3JtYXQsXG4gICAgICAgICAgICBjdWJlbWFwOiB0ZXh0dXJlRGF0YS5jdWJlbWFwLFxuICAgICAgICAgICAgbGV2ZWxzOiB0ZXh0dXJlRGF0YS5sZXZlbHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGV4dHVyZS51cGxvYWQoKTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBwYXJzZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGRhdGFVMzIgPSBuZXcgVWludDMyQXJyYXkoZGF0YSk7XG5cbiAgICAgICAgLy8gY2hlY2sgbWFnaWMgYml0c1xuICAgICAgICBpZiAoSURFTlRJRklFUlswXSAhPT0gZGF0YVUzMlswXSB8fFxuICAgICAgICAgICAgSURFTlRJRklFUlsxXSAhPT0gZGF0YVUzMlsxXSB8fFxuICAgICAgICAgICAgSURFTlRJRklFUlsyXSAhPT0gZGF0YVUzMlsyXSkge1xuICAgICAgICAgICAgRGVidWcud2FybignSW52YWxpZCBkZWZpbml0aW9uIGhlYWRlciBmb3VuZCBpbiBLVFggZmlsZS4gRXhwZWN0ZWQgMHhBQjRCNTQ1OCwgMHgyMDMxMzFCQiwgMHgwRDBBMUEwQScpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1bnBhY2sgaGVhZGVyIGluZm9cbiAgICAgICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgICAgICAgZW5kaWFubmVzczogZGF0YVUzMlszXSwgLy8gdG9kbzogVXNlIHRoaXMgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIGdsVHlwZTogZGF0YVUzMls0XSxcbiAgICAgICAgICAgIGdsVHlwZVNpemU6IGRhdGFVMzJbNV0sXG4gICAgICAgICAgICBnbEZvcm1hdDogZGF0YVUzMls2XSxcbiAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQ6IGRhdGFVMzJbN10sXG4gICAgICAgICAgICBnbEJhc2VJbnRlcm5hbEZvcm1hdDogZGF0YVUzMls4XSxcbiAgICAgICAgICAgIHBpeGVsV2lkdGg6IGRhdGFVMzJbOV0sXG4gICAgICAgICAgICBwaXhlbEhlaWdodDogZGF0YVUzMlsxMF0sXG4gICAgICAgICAgICBwaXhlbERlcHRoOiBkYXRhVTMyWzExXSxcbiAgICAgICAgICAgIG51bWJlck9mQXJyYXlFbGVtZW50czogZGF0YVUzMlsxMl0sXG4gICAgICAgICAgICBudW1iZXJPZkZhY2VzOiBkYXRhVTMyWzEzXSxcbiAgICAgICAgICAgIG51bWJlck9mTWlwbWFwTGV2ZWxzOiBkYXRhVTMyWzE0XSxcbiAgICAgICAgICAgIGJ5dGVzT2ZLZXlWYWx1ZURhdGE6IGRhdGFVMzJbMTVdXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZG9uJ3Qgc3VwcG9ydCB2b2x1bWUgdGV4dHVyZXNcbiAgICAgICAgaWYgKGhlYWRlci5waXhlbERlcHRoID4gMSkge1xuICAgICAgICAgICAgRGVidWcud2FybignTW9yZSB0aGFuIDEgcGl4ZWwgZGVwdGggbm90IHN1cHBvcnRlZCEnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uJ3Qgc3VwcG9ydCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICBpZiAoaGVhZGVyLm51bWJlck9mQXJyYXlFbGVtZW50cyAhPT0gMCkge1xuICAgICAgICAgICAgRGVidWcud2FybignQXJyYXkgdGV4dHVyZSBub3Qgc3VwcG9ydGVkIScpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb3JtYXQgPSBLTk9XTl9GT1JNQVRTW2hlYWRlci5nbEludGVybmFsRm9ybWF0XTtcblxuICAgICAgICAvLyBvbmx5IHN1cHBvcnQgc3Vic2V0IG9mIHBpeGVsIGZvcm1hdHNcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBEZWJ1Zy53YXJuKCdVbmtub3duIGdsSW50ZXJuYWxGb3JtYXQ6ICcgKyBoZWFkZXIuZ2xJbnRlcm5hbEZvcm1hdCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9mZnNldCBsb2NhdGluZyB0aGUgZmlyc3QgYnl0ZSBvZiB0ZXh0dXJlIGxldmVsIGRhdGFcbiAgICAgICAgbGV0IG9mZnNldCA9IDE2ICsgaGVhZGVyLmJ5dGVzT2ZLZXlWYWx1ZURhdGEgLyA0O1xuXG4gICAgICAgIGNvbnN0IGlzQ3ViZW1hcCA9IChoZWFkZXIubnVtYmVyT2ZGYWNlcyA+IDEpO1xuICAgICAgICBjb25zdCBsZXZlbHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgbWlwbWFwTGV2ZWwgPSAwOyBtaXBtYXBMZXZlbCA8IChoZWFkZXIubnVtYmVyT2ZNaXBtYXBMZXZlbHMgfHwgMSk7IG1pcG1hcExldmVsKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlU2l6ZUluQnl0ZXMgPSBkYXRhVTMyW29mZnNldCsrXTtcblxuICAgICAgICAgICAgaWYgKGlzQ3ViZW1hcCkge1xuICAgICAgICAgICAgICAgIGxldmVscy5wdXNoKFtdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNDdWJlbWFwID8gbGV2ZWxzW21pcG1hcExldmVsXSA6IGxldmVscztcblxuICAgICAgICAgICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCAoaXNDdWJlbWFwID8gNiA6IDEpOyArK2ZhY2UpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChjcmVhdGVDb250YWluZXIoZm9ybWF0LCBkYXRhLCBvZmZzZXQgKiA0LCBpbWFnZVNpemVJbkJ5dGVzKSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IChpbWFnZVNpemVJbkJ5dGVzICsgMykgPj4gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgICAgIHdpZHRoOiBoZWFkZXIucGl4ZWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVhZGVyLnBpeGVsSGVpZ2h0LFxuICAgICAgICAgICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgICAgICAgICBjdWJlbWFwOiBpc0N1YmVtYXBcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEt0eFBhcnNlciB9O1xuIl0sIm5hbWVzIjpbIklERU5USUZJRVIiLCJLTk9XTl9GT1JNQVRTIiwiUElYRUxGT1JNQVRfRFhUMSIsIlBJWEVMRk9STUFUX0RYVDMiLCJQSVhFTEZPUk1BVF9EWFQ1IiwiUElYRUxGT1JNQVRfRVRDMSIsIlBJWEVMRk9STUFUX0VUQzJfUkdCIiwiUElYRUxGT1JNQVRfRVRDMl9SR0JBIiwiUElYRUxGT1JNQVRfUFZSVENfNEJQUF9SR0JfMSIsIlBJWEVMRk9STUFUX1BWUlRDXzJCUFBfUkdCXzEiLCJQSVhFTEZPUk1BVF9QVlJUQ180QlBQX1JHQkFfMSIsIlBJWEVMRk9STUFUX1BWUlRDXzJCUFBfUkdCQV8xIiwiUElYRUxGT1JNQVRfUjhfRzhfQjgiLCJQSVhFTEZPUk1BVF9SOF9HOF9COF9BOCIsIlBJWEVMRk9STUFUX1NSR0IiLCJQSVhFTEZPUk1BVF9TUkdCQSIsIlBJWEVMRk9STUFUXzExMTExMEYiLCJQSVhFTEZPUk1BVF9SR0IxNkYiLCJQSVhFTEZPUk1BVF9SR0JBMTZGIiwiY3JlYXRlQ29udGFpbmVyIiwicGl4ZWxGb3JtYXQiLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZVNpemUiLCJVaW50MzJBcnJheSIsIlVpbnQ4QXJyYXkiLCJLdHhQYXJzZXIiLCJjb25zdHJ1Y3RvciIsInJlZ2lzdHJ5IiwibWF4UmV0cmllcyIsImxvYWQiLCJ1cmwiLCJjYWxsYmFjayIsImFzc2V0IiwiQXNzZXQiLCJmZXRjaEFycmF5QnVmZmVyIiwib3BlbiIsImRhdGEiLCJkZXZpY2UiLCJ0ZXh0dXJlRGF0YSIsInBhcnNlIiwidGV4dHVyZSIsIlRleHR1cmUiLCJuYW1lIiwicHJvZmlsZXJIaW50IiwiVEVYSElOVF9BU1NFVCIsImFkZHJlc3NVIiwiY3ViZW1hcCIsIkFERFJFU1NfQ0xBTVBfVE9fRURHRSIsIkFERFJFU1NfUkVQRUFUIiwiYWRkcmVzc1YiLCJ3aWR0aCIsImhlaWdodCIsImZvcm1hdCIsImxldmVscyIsInVwbG9hZCIsImRhdGFVMzIiLCJEZWJ1ZyIsIndhcm4iLCJoZWFkZXIiLCJlbmRpYW5uZXNzIiwiZ2xUeXBlIiwiZ2xUeXBlU2l6ZSIsImdsRm9ybWF0IiwiZ2xJbnRlcm5hbEZvcm1hdCIsImdsQmFzZUludGVybmFsRm9ybWF0IiwicGl4ZWxXaWR0aCIsInBpeGVsSGVpZ2h0IiwicGl4ZWxEZXB0aCIsIm51bWJlck9mQXJyYXlFbGVtZW50cyIsIm51bWJlck9mRmFjZXMiLCJudW1iZXJPZk1pcG1hcExldmVscyIsImJ5dGVzT2ZLZXlWYWx1ZURhdGEiLCJ1bmRlZmluZWQiLCJvZmZzZXQiLCJpc0N1YmVtYXAiLCJtaXBtYXBMZXZlbCIsImltYWdlU2l6ZUluQnl0ZXMiLCJwdXNoIiwidGFyZ2V0IiwiZmFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQWdCQSxNQUFNQSxVQUFVLEdBQUcsQ0FBQyxVQUFELEVBQWEsVUFBYixFQUF5QixVQUF6QixDQUFuQixDQUFBO0FBRUEsTUFBTUMsYUFBYSxHQUFHO0FBRWxCLEVBQUEsTUFBQSxFQUFRQyxn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
