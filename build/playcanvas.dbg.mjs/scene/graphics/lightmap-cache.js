/**
 * @license
 * PlayCanvas Engine v1.62.0 revision 818511d2b (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { RefCountedCache } from '../../core/ref-counted-cache.js';

// Pure static class, implementing the cache of lightmaps generated at runtime using Lightmapper
// this allows us to automatically release realtime baked lightmaps when mesh instances using them are destroyed
class LightmapCache {
  // add texture reference to lightmap cache
  static incRef(texture) {
    this.cache.incRef(texture);
  }

  // remove texture reference from lightmap cache
  static decRef(texture) {
    this.cache.decRef(texture);
  }
  static destroy() {
    this.cache.destroy();
  }
}
LightmapCache.cache = new RefCountedCache();

export { LightmapCache };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlnaHRtYXAtY2FjaGUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zY2VuZS9ncmFwaGljcy9saWdodG1hcC1jYWNoZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWZDb3VudGVkQ2FjaGUgfSBmcm9tICcuLi8uLi9jb3JlL3JlZi1jb3VudGVkLWNhY2hlLmpzJztcblxuLy8gUHVyZSBzdGF0aWMgY2xhc3MsIGltcGxlbWVudGluZyB0aGUgY2FjaGUgb2YgbGlnaHRtYXBzIGdlbmVyYXRlZCBhdCBydW50aW1lIHVzaW5nIExpZ2h0bWFwcGVyXG4vLyB0aGlzIGFsbG93cyB1cyB0byBhdXRvbWF0aWNhbGx5IHJlbGVhc2UgcmVhbHRpbWUgYmFrZWQgbGlnaHRtYXBzIHdoZW4gbWVzaCBpbnN0YW5jZXMgdXNpbmcgdGhlbSBhcmUgZGVzdHJveWVkXG5jbGFzcyBMaWdodG1hcENhY2hlIHtcbiAgICBzdGF0aWMgY2FjaGUgPSBuZXcgUmVmQ291bnRlZENhY2hlKCk7XG5cbiAgICAvLyBhZGQgdGV4dHVyZSByZWZlcmVuY2UgdG8gbGlnaHRtYXAgY2FjaGVcbiAgICBzdGF0aWMgaW5jUmVmKHRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5jYWNoZS5pbmNSZWYodGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHRleHR1cmUgcmVmZXJlbmNlIGZyb20gbGlnaHRtYXAgY2FjaGVcbiAgICBzdGF0aWMgZGVjUmVmKHRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5jYWNoZS5kZWNSZWYodGV4dHVyZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuZGVzdHJveSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgTGlnaHRtYXBDYWNoZSB9O1xuIl0sIm5hbWVzIjpbIkxpZ2h0bWFwQ2FjaGUiLCJpbmNSZWYiLCJ0ZXh0dXJlIiwiY2FjaGUiLCJkZWNSZWYiLCJkZXN0cm95IiwiUmVmQ291bnRlZENhY2hlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7QUFDQTtBQUNBLE1BQU1BLGFBQWEsQ0FBQztBQUdoQjtFQUNBLE9BQU9DLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFO0FBQ25CLElBQUEsSUFBSSxDQUFDQyxLQUFLLENBQUNGLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUE7QUFDOUIsR0FBQTs7QUFFQTtFQUNBLE9BQU9FLE1BQU0sQ0FBQ0YsT0FBTyxFQUFFO0FBQ25CLElBQUEsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0YsT0FBTyxDQUFDLENBQUE7QUFDOUIsR0FBQTtBQUVBLEVBQUEsT0FBT0csT0FBTyxHQUFHO0FBQ2IsSUFBQSxJQUFJLENBQUNGLEtBQUssQ0FBQ0UsT0FBTyxFQUFFLENBQUE7QUFDeEIsR0FBQTtBQUNKLENBQUE7QUFoQk1MLGFBQWEsQ0FDUkcsS0FBSyxHQUFHLElBQUlHLGVBQWUsRUFBRTs7OzsifQ==
