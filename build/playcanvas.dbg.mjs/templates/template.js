/**
 * @license
 * PlayCanvas Engine v1.57.1 revision 256dd83c2 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { SceneParser } from '../resources/parser/scene.js';

class Template {
  constructor(app, data) {
    this._app = app;
    this._data = data;
    this._templateRoot = null;
  }

  instantiate() {
    if (!this._templateRoot) {
      this._parseTemplate();
    }

    return this._templateRoot.clone();
  }

  _parseTemplate() {
    const parser = new SceneParser(this._app, true);
    this._templateRoot = parser.parse(this._data);
  }

}

export { Template };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZXMvdGVtcGxhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NlbmVQYXJzZXIgfSBmcm9tICcuLi9yZXNvdXJjZXMvcGFyc2VyL3NjZW5lLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2ZyYW1ld29yay9hcHAtYmFzZS5qcycpLkFwcEJhc2V9IEFwcEJhc2UgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9mcmFtZXdvcmsvZW50aXR5LmpzJykuRW50aXR5fSBFbnRpdHkgKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBUZW1wbGF0ZSByZXNvdXJjZSBmcm9tIHJhdyBkYXRhYmFzZSBkYXRhLlxuICovXG5jbGFzcyBUZW1wbGF0ZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFRlbXBsYXRlIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcHBCYXNlfSBhcHAgLSBUaGUgYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBBc3NldCBkYXRhIGZyb20gdGhlIGRhdGFiYXNlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCwgZGF0YSkge1xuICAgICAgICB0aGlzLl9hcHAgPSBhcHA7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgdGhpcy5fdGVtcGxhdGVSb290ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtFbnRpdHl9IFRoZSByb290IGVudGl0eSBvZiB0aGUgY3JlYXRlZCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBpbnN0YW50aWF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90ZW1wbGF0ZVJvb3QpIHsgLy8gYXQgZmlyc3QgdXNlLCBhZnRlciBzY3JpcHRzIGFyZSBsb2FkZWRcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlVGVtcGxhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZVJvb3QuY2xvbmUoKTtcbiAgICB9XG5cbiAgICBfcGFyc2VUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFNjZW5lUGFyc2VyKHRoaXMuX2FwcCwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fdGVtcGxhdGVSb290ID0gcGFyc2VyLnBhcnNlKHRoaXMuX2RhdGEpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVGVtcGxhdGUgfTtcbiJdLCJuYW1lcyI6WyJUZW1wbGF0ZSIsImNvbnN0cnVjdG9yIiwiYXBwIiwiZGF0YSIsIl9hcHAiLCJfZGF0YSIsIl90ZW1wbGF0ZVJvb3QiLCJpbnN0YW50aWF0ZSIsIl9wYXJzZVRlbXBsYXRlIiwiY2xvbmUiLCJwYXJzZXIiLCJTY2VuZVBhcnNlciIsInBhcnNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBUUEsTUFBTUEsUUFBTixDQUFlO0FBT1hDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVk7SUFDbkIsSUFBS0MsQ0FBQUEsSUFBTCxHQUFZRixHQUFaLENBQUE7SUFFQSxJQUFLRyxDQUFBQSxLQUFMLEdBQWFGLElBQWIsQ0FBQTtJQUVBLElBQUtHLENBQUFBLGFBQUwsR0FBcUIsSUFBckIsQ0FBQTtBQUNILEdBQUE7O0FBT0RDLEVBQUFBLFdBQVcsR0FBRztJQUNWLElBQUksQ0FBQyxJQUFLRCxDQUFBQSxhQUFWLEVBQXlCO0FBQ3JCLE1BQUEsSUFBQSxDQUFLRSxjQUFMLEVBQUEsQ0FBQTtBQUNILEtBQUE7O0FBRUQsSUFBQSxPQUFPLElBQUtGLENBQUFBLGFBQUwsQ0FBbUJHLEtBQW5CLEVBQVAsQ0FBQTtBQUNILEdBQUE7O0FBRURELEVBQUFBLGNBQWMsR0FBRztJQUNiLE1BQU1FLE1BQU0sR0FBRyxJQUFJQyxXQUFKLENBQWdCLElBQUtQLENBQUFBLElBQXJCLEVBQTJCLElBQTNCLENBQWYsQ0FBQTtJQUVBLElBQUtFLENBQUFBLGFBQUwsR0FBcUJJLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLElBQUEsQ0FBS1AsS0FBbEIsQ0FBckIsQ0FBQTtBQUNILEdBQUE7O0FBaENVOzs7OyJ9
