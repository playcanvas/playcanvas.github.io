/**
 * @license
 * PlayCanvas Engine v1.58.0-preview revision 1fec26519 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Vec3 } from '../../../core/math/vec3.js';
import { Component } from '../component.js';

class ZoneComponent extends Component {
  constructor(system, entity) {
    super(system, entity);
    this._oldState = true;
    this._size = new Vec3();
    this.on('set_enabled', this._onSetEnabled, this);
  }

  set size(data) {
    if (data instanceof Vec3) {
      this._size.copy(data);
    } else if (data instanceof Array && data.length >= 3) {
      this.size.set(data[0], data[1], data[2]);
    }
  }
  get size() {
    return this._size;
  }
  onEnable() {
    this._checkState();
  }
  onDisable() {
    this._checkState();
  }
  _onSetEnabled(prop, old, value) {
    this._checkState();
  }
  _checkState() {
    const state = this.enabled && this.entity.enabled;
    if (state === this._oldState) return;
    this._oldState = state;
    this.fire('enable');
    this.fire('state', this.enabled);
  }
  _onBeforeRemove() {
    this.fire('remove');
  }
}

export { ZoneComponent };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvem9uZS9jb21wb25lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvbWF0aC92ZWMzLmpzJztcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50LmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2VudGl0eS5qcycpLkVudGl0eX0gRW50aXR5ICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi9zeXN0ZW0uanMnKS5ab25lQ29tcG9uZW50U3lzdGVtfSBab25lQ29tcG9uZW50U3lzdGVtICovXG5cbi8qKlxuICogVGhlIFpvbmVDb21wb25lbnQgYWxsb3dzIHlvdSB0byBkZWZpbmUgYW4gYXJlYSBpbiB3b3JsZCBzcGFjZSBvZiBjZXJ0YWluIHNpemUuIFRoaXMgY2FuIGJlIHVzZWRcbiAqIGluIHZhcmlvdXMgd2F5cywgc3VjaCBhcyBhZmZlY3RpbmcgYXVkaW8gcmV2ZXJiIHdoZW4ge0BsaW5rIEF1ZGlvTGlzdGVuZXJDb21wb25lbnR9IGlzIHdpdGhpblxuICogem9uZS4gT3IgY3JlYXRlIGN1bGxpbmcgc3lzdGVtIHdpdGggcG9ydGFscyBiZXR3ZWVuIHpvbmVzIHRvIGhpZGUgd2hvbGUgaW5kb29yIHNlY3Rpb25zIGZvclxuICogcGVyZm9ybWFuY2UgcmVhc29ucy4gQW5kIG1hbnkgb3RoZXIgcG9zc2libGUgb3B0aW9ucy4gWm9uZXMgYXJlIGJ1aWxkaW5nIGJsb2NrcyBhbmQgbWVhbnQgdG8gYmVcbiAqIHVzZWQgaW4gbWFueSBkaWZmZXJlbnQgd2F5cy5cbiAqXG4gKiBAYXVnbWVudHMgQ29tcG9uZW50XG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIFpvbmVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBab25lQ29tcG9uZW50IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtab25lQ29tcG9uZW50U3lzdGVtfSBzeXN0ZW0gLSBUaGUgQ29tcG9uZW50U3lzdGVtIHRoYXQgY3JlYXRlZCB0aGlzIENvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IC0gVGhlIEVudGl0eSB0aGF0IHRoaXMgQ29tcG9uZW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHN5c3RlbSwgZW50aXR5KSB7XG4gICAgICAgIHN1cGVyKHN5c3RlbSwgZW50aXR5KTtcblxuICAgICAgICB0aGlzLl9vbGRTdGF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NpemUgPSBuZXcgVmVjMygpO1xuICAgICAgICB0aGlzLm9uKCdzZXRfZW5hYmxlZCcsIHRoaXMuX29uU2V0RW5hYmxlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBDb21wb25lbnQgYmVjb21lcyBlbmFibGVkLiBOb3RlOiB0aGlzIGV2ZW50IGRvZXMgbm90IHRha2UgaW4gYWNjb3VudCBlbnRpdHkgb3JcbiAgICAgKiBhbnkgb2YgaXRzIHBhcmVudCBlbmFibGVkIHN0YXRlLlxuICAgICAqXG4gICAgICogQGV2ZW50IFpvbmVDb21wb25lbnQjZW5hYmxlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBlbnRpdHkuem9uZS5vbignZW5hYmxlJywgZnVuY3Rpb24gKCkge1xuICAgICAqICAgICAvLyBjb21wb25lbnQgaXMgZW5hYmxlZFxuICAgICAqIH0pO1xuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gQ29tcG9uZW50IGJlY29tZXMgZGlzYWJsZWQuIE5vdGU6IHRoaXMgZXZlbnQgZG9lcyBub3QgdGFrZSBpbiBhY2NvdW50IGVudGl0eSBvclxuICAgICAqIGFueSBvZiBpdHMgcGFyZW50IGVuYWJsZWQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgWm9uZUNvbXBvbmVudCNkaXNhYmxlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBlbnRpdHkuem9uZS5vbignZGlzYWJsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgLy8gY29tcG9uZW50IGlzIGRpc2FibGVkXG4gICAgICogfSk7XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBDb21wb25lbnQgY2hhbmdlcyBzdGF0ZSB0byBlbmFibGVkIG9yIGRpc2FibGVkLiBOb3RlOiB0aGlzIGV2ZW50IGRvZXMgbm90IHRha2UgaW5cbiAgICAgKiBhY2NvdW50IGVudGl0eSBvciBhbnkgb2YgaXRzIHBhcmVudCBlbmFibGVkIHN0YXRlLlxuICAgICAqXG4gICAgICogQGV2ZW50IFpvbmVDb21wb25lbnQjc3RhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgLSBUcnVlIGlmIG5vdyBlbmFibGVkLCBGYWxzZSBpZiBkaXNhYmxlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGVudGl0eS56b25lLm9uKCdzdGF0ZScsIGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICogICAgIC8vIGNvbXBvbmVudCBjaGFuZ2VkIHN0YXRlXG4gICAgICogfSk7XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHpvbmUgaXMgcmVtb3ZlZCBmcm9tIGFuIGVudGl0eS5cbiAgICAgKlxuICAgICAqIEBldmVudCBab25lQ29tcG9uZW50I3JlbW92ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogZW50aXR5LnpvbmUub24oJ3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgLy8gem9uZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gYW4gZW50aXR5XG4gICAgICogfSk7XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNpemUgb2YgdGhlIGF4aXMtYWxpZ25lZCBib3ggb2YgdGhpcyBab25lQ29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHR5cGUge1ZlYzN9XG4gICAgICovXG4gICAgc2V0IHNpemUoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFZlYzMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUuY29weShkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkgJiYgZGF0YS5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgdGhpcy5zaXplLnNldChkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzJdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tTdGF0ZSgpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tTdGF0ZSgpO1xuICAgIH1cblxuICAgIF9vblNldEVuYWJsZWQocHJvcCwgb2xkLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9jaGVja1N0YXRlKCk7XG4gICAgfVxuXG4gICAgX2NoZWNrU3RhdGUoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbmFibGVkICYmIHRoaXMuZW50aXR5LmVuYWJsZWQ7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gdGhpcy5fb2xkU3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fb2xkU3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICB0aGlzLmZpcmUoJ2VuYWJsZScpO1xuICAgICAgICB0aGlzLmZpcmUoJ3N0YXRlJywgdGhpcy5lbmFibGVkKTtcbiAgICB9XG5cbiAgICBfb25CZWZvcmVSZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuZmlyZSgncmVtb3ZlJyk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBab25lQ29tcG9uZW50IH07XG4iXSwibmFtZXMiOlsiWm9uZUNvbXBvbmVudCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwic3lzdGVtIiwiZW50aXR5IiwiX29sZFN0YXRlIiwiX3NpemUiLCJWZWMzIiwib24iLCJfb25TZXRFbmFibGVkIiwic2l6ZSIsImRhdGEiLCJjb3B5IiwiQXJyYXkiLCJsZW5ndGgiLCJzZXQiLCJvbkVuYWJsZSIsIl9jaGVja1N0YXRlIiwib25EaXNhYmxlIiwicHJvcCIsIm9sZCIsInZhbHVlIiwic3RhdGUiLCJlbmFibGVkIiwiZmlyZSIsIl9vbkJlZm9yZVJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFpQkEsTUFBTUEsYUFBYSxTQUFTQyxTQUFTLENBQUM7QUFPbENDLEVBQUFBLFdBQVcsQ0FBQ0MsTUFBTSxFQUFFQyxNQUFNLEVBQUU7QUFDeEIsSUFBQSxLQUFLLENBQUNELE1BQU0sRUFBRUMsTUFBTSxDQUFDLENBQUE7SUFFckIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsSUFBSSxDQUFBO0FBQ3JCLElBQUEsSUFBSSxDQUFDQyxLQUFLLEdBQUcsSUFBSUMsSUFBSSxFQUFFLENBQUE7SUFDdkIsSUFBSSxDQUFDQyxFQUFFLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQ0MsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFBO0FBQ3BELEdBQUE7O0VBdURBLElBQUlDLElBQUksQ0FBQ0MsSUFBSSxFQUFFO0lBQ1gsSUFBSUEsSUFBSSxZQUFZSixJQUFJLEVBQUU7QUFDdEIsTUFBQSxJQUFJLENBQUNELEtBQUssQ0FBQ00sSUFBSSxDQUFDRCxJQUFJLENBQUMsQ0FBQTtLQUN4QixNQUFNLElBQUlBLElBQUksWUFBWUUsS0FBSyxJQUFJRixJQUFJLENBQUNHLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFDbEQsTUFBQSxJQUFJLENBQUNKLElBQUksQ0FBQ0ssR0FBRyxDQUFDSixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUVBLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRUEsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDNUMsS0FBQTtBQUNKLEdBQUE7QUFFQSxFQUFBLElBQUlELElBQUksR0FBRztJQUNQLE9BQU8sSUFBSSxDQUFDSixLQUFLLENBQUE7QUFDckIsR0FBQTtBQUVBVSxFQUFBQSxRQUFRLEdBQUc7SUFDUCxJQUFJLENBQUNDLFdBQVcsRUFBRSxDQUFBO0FBQ3RCLEdBQUE7QUFFQUMsRUFBQUEsU0FBUyxHQUFHO0lBQ1IsSUFBSSxDQUFDRCxXQUFXLEVBQUUsQ0FBQTtBQUN0QixHQUFBO0FBRUFSLEVBQUFBLGFBQWEsQ0FBQ1UsSUFBSSxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRTtJQUM1QixJQUFJLENBQUNKLFdBQVcsRUFBRSxDQUFBO0FBQ3RCLEdBQUE7QUFFQUEsRUFBQUEsV0FBVyxHQUFHO0lBQ1YsTUFBTUssS0FBSyxHQUFHLElBQUksQ0FBQ0MsT0FBTyxJQUFJLElBQUksQ0FBQ25CLE1BQU0sQ0FBQ21CLE9BQU8sQ0FBQTtBQUNqRCxJQUFBLElBQUlELEtBQUssS0FBSyxJQUFJLENBQUNqQixTQUFTLEVBQ3hCLE9BQUE7SUFFSixJQUFJLENBQUNBLFNBQVMsR0FBR2lCLEtBQUssQ0FBQTtBQUV0QixJQUFBLElBQUksQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ25CLElBQUksQ0FBQ0EsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNELE9BQU8sQ0FBQyxDQUFBO0FBQ3BDLEdBQUE7QUFFQUUsRUFBQUEsZUFBZSxHQUFHO0FBQ2QsSUFBQSxJQUFJLENBQUNELElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUN2QixHQUFBO0FBQ0o7Ozs7In0=
